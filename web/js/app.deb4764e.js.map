{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/Password_Web.vue?a80a","webpack:///./src/components/cube_web.vue?1e99","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/utils/media/BodyPixWorker.ts?3602","webpack:///./src/pages/mainPage.vue?e80d","webpack:///./src/components/Register_Web.vue?63f1","webpack:///./src/components/Settings_Web.vue?9625","webpack:///./src/components/Main_Web.vue?b9b3","webpack:///./src/pages/loginPage.vue?f706","webpack:///./src/components/Verify_Web.vue?c6a2","webpack:///./src/App.vue?8283","webpack:///./src/pages/loginPage.vue?b8fb","webpack:///./src/components/cube_web.vue?66bc","webpack:///./src/components/Login_Web.vue?ea61","webpack:///src/components/Login_Web.vue","webpack:///./src/components/Login_Web.vue?b4dd","webpack:///./src/components/Login_Web.vue?ec30","webpack:///./src/components/Register_Web.vue?8a4b","webpack:///src/components/Register_Web.vue","webpack:///./src/components/Register_Web.vue?00ee","webpack:///./src/components/Register_Web.vue?9305","webpack:///./src/components/Verify_Web.vue?b369","webpack:///src/components/Verify_Web.vue","webpack:///./src/components/Verify_Web.vue?e146","webpack:///./src/components/Verify_Web.vue?d06b","webpack:///./src/components/Password_Web.vue?47ab","webpack:///src/components/Password_Web.vue","webpack:///./src/components/Password_Web.vue?d9db","webpack:///./src/components/Password_Web.vue?681f","webpack:///./src/components/Settings_Web.vue?7207","webpack:///src/components/Settings_Web.vue","webpack:///./src/components/Settings_Web.vue?584a","webpack:///./src/components/Settings_Web.vue?37c2","webpack:///src/components/cube_web.vue","webpack:///./src/components/cube_web.vue?edfe","webpack:///./src/components/cube_web.vue?7e21","webpack:///./src/components/Main_Web.vue?282b","webpack:///src/components/Main_Web.vue","webpack:///./src/components/Main_Web.vue?7422","webpack:///./src/components/Main_Web.vue?effd","webpack:///src/pages/loginPage.vue","webpack:///./src/pages/loginPage.vue?f1d8","webpack:///./src/pages/loginPage.vue?f547","webpack:///./src/pages/mainPage.vue?bd3a","webpack:///./src/utils/Types.ts","webpack:///./src/ServiceConfig.ts","webpack:///./src/utils/media/MediaUtils.ts","webpack:///./src/service/SignalingService.ts","webpack:///./src/Constants.js","webpack:///./src/utils/media/PeerMedia.ts","webpack:///./src/utils/media/TranscodeWorker.js","webpack:///./src/utils/IatRecognizer.ts","webpack:///./src/global.js","webpack:///./src/utils/SpeechRecognition.ts","webpack:///./src/service/MediaService.ts","webpack:///./src/components/myVideo.vue?3e61","webpack:///src/components/myVideo.vue","webpack:///./src/components/myVideo.vue?0f53","webpack:///./src/components/myVideo.vue","webpack:///./src/components/DownloadFile.vue?bbee","webpack:///src/components/DownloadFile.vue","webpack:///./src/components/DownloadFile.vue?ceba","webpack:///./src/components/DownloadFile.vue?11ce","webpack:///./src/components/UploadFile.vue?4d04","webpack:///src/components/UploadFile.vue","webpack:///./src/components/UploadFile.vue?0d64","webpack:///./src/components/UploadFile.vue?ab0b","webpack:///./src/components/SettingsDialog.vue?6ebf","webpack:///src/components/SettingsDialog.vue","webpack:///./src/components/SettingsDialog.vue?2355","webpack:///./src/components/SettingsDialog.vue","webpack:///./src/utils/VideoProcessor.ts","webpack:///./src/utils/media/MediaStreamFactory.ts","webpack:///src/pages/mainPage.vue","webpack:///./src/pages/mainPage.vue?76bc","webpack:///./src/pages/mainPage.vue?ab22","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?4195","webpack:///./src/plugins/vuetify.js","webpack:///./src/main.ts","webpack:///./src/components/Login_Web.vue?5ca9","webpack:///./src/utils/media/BodyPixWorker.ts","webpack:///./src/components/DownloadFile.vue?68ef","webpack:///./src/components/UploadFile.vue?e1a9"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","Worker","_vm","this","_h","$createElement","_c","_self","directives","rawName","page","expression","on","$event","_e","staticRenderFns","staticClass","attrs","$emit","_v","_s","Date","getFullYear","class","account","currentPage","backToMain","openSettings","model","callback","$$v","snack","snackText","ref","valid","emailRules","email","passwordRules","password","loading","login","register","components","methods","component","VBtn","VCol","VContainer","VForm","VRow","VSnackbar","VTextField","back","sendEmail","btnText","verifyRules","verifyCode","verify","nicknameRules","nickname","password2","setPassword","GLOBAL","baseURL","userInfo","portrait","$set","logout","file","getPortrait","VAvatar","VSwitch","Login","Register","Verify","Password","Settings","pages","rot","props","setTimeout","created","VIcon","click1","click2","click3","click4","click5","hover1","stopPropagation","valid1","sendReq","idRules","roomId","hover2","valid2","topicRules","topic","max_num","hover3","selecting_start_time","selecting_end_time","selecting_end_date","selecting_start_date","now_date","start_date","now_time","start_time","end_date","end_time","valid3","getMeetings","_l","room","host","ended","quickJoin","show","getHistory","index","time","rooms","history","VCard","VCardActions","VCardSubtitle","VCardText","VCardTitle","VDatePicker","VDivider","VExpandTransition","VImg","VOverlay","VSpacer","VTimePicker","cube","Main","VApp","VFooter","VMain","MessageType","FileJobType","FileJobStatus","RecognitionStatus","BackgroundProcessType","scopedSlots","_u","fn","_g","_b","staticStyle","roomInfo","currTime","exitDialog","exportMemeCheckBox","leaveMeeting","closeMeeting","drawer","proxy","videoIcon","color","videoSwitch","icon","microIcon","microSwitch","screenIcon","screenSwitch","captionIcon","captionSwitch","changeSettings","muteAll","filterText","isHost","mainVideo","subVideo","user","getPeerInfo","hasVideo","hasAudio","avatar","displayName","item","switchMenuFunc","text","hover","mediaStream","mirror","sub2Main","removeSubFollowUser","mainFollowUser","removeMainFollowUser","msg","mediaService","getPeerDetailByPeerId","fromPeerId","broadcast","formatToPeerName","type","fromMyself","sendFile","moment","timestamp","format","caption","startTime","updateTime","switchChat","chatOverlay","chatBadge","placeholdOfMsg","indexOf","_k","keyCode","sendMsg","arguments","privateChat","inputMsg","showEmojiPicker","selectEmoji","showFilePicker","pickFile","SignalType","MediaKind","TransportType","SignalMethod","MeetingEndReason","config","serverIp","serverPort","serverUseHttps","SimulcastEncodings","maxBitrate","_serverURL","meetingURL","roomToken","userToken","myId","serviceConfig","serverURL","requestTimeout","connectTimeout","reconnectTimeout","mediaTimeout","allowTimeout","socketConnectionOptions","reconnection","autoConnect","reconnectionAttempts","Infinity","reconnectionDelayMax","timeoutCallback","timeout","called","interval","clearTimeout","args","URL","opts","onDisconnect","socket","callbackMap","disconnectCallback","console","log","Map","set","request","notify","method","handleSignal","undefined","warn","registerListener","removeAllListeners","off","clear","waitForConnection","connect","Promise","reject","returned","once","connected","waitForReconnection","disconnect","sendRequest","emit","err","response","error","sendNotify","unKnownUri","qGreen","usernameIndex","userIdIndex","nicknameIndex","cameraIndex","microphoneIndex","emailIndex","tokenIndex","mediaHeight","mediaWidth","defaultPeerInfo","device","peerId","_hasAudio","_hasVideo","peerInfo","consumers","setPeerInfo","addConsumer","consumer","kind","deleteConsumer","consumerId","has","closed","close","delete","updateMediaStatus","getConsumerIds","consumerIds","forEach","getTracks","tracks","paused","resume","track","getVideoTracks","getAudioTracks","subscribe","unsubscribeVideo","pause","clearConsumers","peerId2Details","consumerId2Details","addPeerInfo","peerDetail","PeerDetail","deletePeer","getPeerDetails","peerDetails","TranscodeWorker","self","onmessage","transAudioData","transcode","audioData","output","to16kHz","to16BitPCM","Array","from","Uint8Array","buffer","postMessage","Float32Array","fitCount","Math","round","newData","springFactor","tmp","before","floor","toFixed","after","ceil","atPoint","input","dataLength","dataBuffer","ArrayBuffer","dataView","DataView","offset","max","min","setInt16","APPID","API_SECRET","API_KEY","language","accent","algorithm","headers","speechEndTimeout","workerBlob","Blob","transWorker","createObjectURL","date","toGMTString","signatureOrigin","signatureSha","HmacSHA256","signature","enc","Base64","stringify","authorizationOrigin","authorization","btoa","status","null","resultText","resultTextTemp","event","setStatus","onStatusChange","setResultText","isLast","previousText","onRecognizerResult","connectWebSocket","then","url","iatWS","WebSocket","onRecognizerError","MozWebSocket","webSocket","initialized","onopen","processing","webSocketSend","onerror","recorderStop","onclose","recorderInit","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","audioContext","AudioContext","webkitAudioContext","mediaDevices","audio","video","stream","getMediaSuccess","catch","getMediaFail","userAgent","toLowerCase","match","location","origin","audioStream","scriptProcessor","createScriptProcessor","onaudioprocess","inputBuffer","getChannelData","mediaSource","createMediaStreamSource","destination","readyState","recorderStart","test","suspend","onRecognizerStop","toBase64","binary","bytes","len","byteLength","String","fromCharCode","params","common","app_id","business","domain","vad_eos","dwa","encoding","IatRecognizer","send","JSON","handlerInterval","setInterval","clearInterval","resultData","jsonData","parse","str","ws","cw","w","pgs","start","stop","token","openCameraWhenEnter","openMicrophoneWhenEnter","videoConstraint","width","ideal","height","sendSpeechText","working","sentenceEnded","currentSpeechTimestamp","speechCallbacks","speechTextStorage","speakingSpeechTexts","recognized","speechText","global","newSentence","newSpeechText","recognizer","registerSpeechListener","recognizedCallback","deleteSpeechListener","recvPeerSpeech","existed","displayText","generateDisplayText","exportMeme","meme","deviceName","signaling","eventEmitter","sendTransport","recvTransport","sendingTracks","producers","peerMedia","hostPeerId","sendTransportOpt","joined","permissionUpdated","allowed","updatePeerCallbacks","newMessageCallbacks","meetingEndCallbacks","beMutedCallbacks","speechRecognition","PeerMedia","events","registerPeerUpdateListener","updatePeerCallback","deletePeerUpdateListener","registerNewMessageListener","newMessageCallback","deleteNewMessageListener","registerMeetingEndListener","meetingEndCallback","deleteMeetingEndListener","registerBeMutedListener","beMutedCallback","deleteBeMutedListener","getHostPeerId","waitForAllowed","joinMeeting","myUserId","_joinMeeting","reenter","onSignalingDisconnect","registerSignalingListeners","notAllowed","getRouterRtpCapabilities","rtpCapabilities","loaded","load","routerRtpCapabilities","createSendTransport","createRecvTransport","lostConnection","join","peerInfos","info","restartIce","transportId","sendParam","iceParameters","recvParam","deleteProducers","deletePeers","deleteTransports","resetDevice","sendMediaStream","MediaStream","source","appData","encodings","codecOptions","videoGoogleStartBitrate","produce","producer","closeProducer","producerId","sendText","_toPeerId","_text","_timestamp","toPeerId","_fileURL","_filename","_fileType","fileURL","fileType","filename","resetAllowedState","deleteSignaling","deleteSendingTracks","closeTrack","mutePeer","mute","mutePeerId","transferHost","hostId","kickPeer","kick","kickedPeerId","closeRoom","getStatus","createTransport","transportType","sctpCapabilities","done","errBack","dtlsParameters","connectTransport","rtpParameters","transportOptions","newPeer","newConsumer","consume","pauseConsumer","resumeConsumer","producerPeerId","consumerClosed","peerClosed","newText","recvText","message","newFile","recvFile","fileJobType","download","fileJobStatus","unDownloaded","hostChanged","newHostId","roomClosed","kicked","beMuted","trackId","srcObject","downloaded","progress","downloading","map4icon","mounted","VBadge","VProgressLinear","uploaded","uploading","upload","dialog","tab","clickVBSwitch","blurSwitch","replaceSwitch","prev","backgroundImgs","imgIter","next","displayVideo","displayAudio","sources","getSources","displaySourceId","cancelChangeSetting","VDialog","VSelect","VTab","VTabItem","VTabs","VTabsItems","defaultWidth","defaultHeight","maskBlurAmount","backgroundBlurAmount","edgeBlurAmount","flipHorizontal","defaultImageSrc","bodyPixWorker","backgroundImage","transparentBackground","inputStream","inputCanvas","outputCanvas","inputCtx","outputCtx","transparentCtx","replaceBackground","drawImage","frame","getImageData","getMask","mask","globalCompositeOperation","requestAnimationFrame","blurBackground","segment","segmentation","Image","src","document","createElement","autoplay","getContext","fillStyle","fillRect","setBackground","imageURL","process","backgroundOption","enableBeautify","onloadeddata","captureStream","blur","virtual","getWorkingState","currentBackgroundOption","currentBeautifyState","currentDisplaySourceId","cameraTrack","processedCameraTrack","microphoneTrack","screenVideoTrack","screenAudioTrack","videoProcessor","getCameraTrack","constraint","videoStream","videoTracks","tracksCount","getProcessedCameraTrack","disable","clone","stopProcess","processedStream","processedTracks","getMicrophoneTrack","autoGainControl","echoCancellation","noiseSuppression","microphoneStream","audioTracks","getScreenTracks","enableVideo","enableAudio","needVideo","stopScreenVideo","needAudio","constraints","mandatory","chromeMediaSource","chromeMediaSourceId","screenStream","stopCamera","stopMicrophone","stopScreenAudio","stopScreen","stopAll","backgroundURL","SettingDialog","UploadFile","DownloadFile","MyVideo","VEmojiPicker","menuItems","allMsgs","allUsers","mainFollowUserId","subFollowUserIds","mediaDevice","myVideoStream","myAudioStream","myDisplayAudioStream","mediaStreamFactory","display","privateChatPeerId","processVideoType","clock","allCaptions","toStat","boolean","col","scrollTop","scrollHeight","userId","find","subUserId","toPeerName","emoji","showSaveDialog","title","properties","defaultPath","filters","res","canceled","fs","writeFile","path","destroyed","computed","filteredUsers","filter","search","subFollowUsers","subUsers","VAppBar","VCheckbox","VChip","VFabTransition","VFadeTransition","VFileInput","VHover","VList","VListItem","VListItemAvatar","VListItemContent","VListItemIcon","VListItemSubtitle","VListItemTitle","VMenu","VNavigationDrawer","VProgressCircular","VSheet","mainPage","loginPage","Vue","use","Vuetify","productionTip","vuetify","render","h","$mount","inst","wrap","f"],"mappings":"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","file":"js/app.deb4764e.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Password_Web.vue?vue&type=style&index=0&id=79188078&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cube_web.vue?vue&type=style&index=0&id=66c1db60&lang=scss&scoped=true&\"","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn-bd\": \"9686\",\n\t\"./bn-bd.js\": \"9686\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-in\": \"ec2e\",\n\t\"./en-in.js\": \"ec2e\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./en-sg\": \"b7e9\",\n\t\"./en-sg.js\": \"b7e9\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-mx\": \"b5b7\",\n\t\"./es-mx.js\": \"b5b7\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fil\": \"d69a\",\n\t\"./fil.js\": \"d69a\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-deva\": \"aaf2\",\n\t\"./gom-deva.js\": \"aaf2\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./oc-lnc\": \"167b\",\n\t\"./oc-lnc.js\": \"167b\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tk\": \"5aff\",\n\t\"./tk.js\": \"5aff\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-mo\": \"3a6c\",\n\t\"./zh-mo.js\": \"3a6c\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"09c74260c1ac4f19ba74.worker.js\");\n};","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainPage.vue?vue&type=style&index=0&id=1d7f4fde&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register_Web.vue?vue&type=style&index=0&id=4103a4f3&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings_Web.vue?vue&type=style&index=0&id=138cc2e8&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main_Web.vue?vue&type=style&index=0&id=01ada8fa&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loginPage.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Verify_Web.vue?vue&type=style&index=0&id=076a1904&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('login-page',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.page==='login'),expression:\"page==='login'\"}],on:{\"join\":function($event){_vm.page='main'}}}),(_vm.page==='main')?_c('main-page',{on:{\"back\":function($event){_vm.page='login'}}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{staticClass:\"mymeeting-app\"},[_c('v-main',{staticClass:\"main\"},[_c('cube',{attrs:{\"account\":_vm.page === 'account'},on:{\"settings\":function($event){_vm.page = 'account'},\"back\":function($event){_vm.page = 'main'}}}),_c('transition',{attrs:{\"name\":\"test\"}},[_c('Main',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.page === 'main'),expression:\"page === 'main'\"}],on:{\"join\":function($event){return _vm.$emit('join')}}})],1)],1),(_vm.page === 'account')?_c('v-footer',{staticClass:\"white--text\",attrs:{\"padless\":\"\",\"color\":\"grey darken-4\"}},[_c('v-col',{staticClass:\"text-center\",attrs:{\"cols\":\"12\"}},[_vm._v(\" - \"+_vm._s(new Date().getFullYear())+\"  \"),_c('strong',[_vm._v(\"MyMeeting \")]),_vm._v(\"- \")])],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:['td-cube', {'td-cube-main': !_vm.account}]},[_c('transition',{attrs:{\"name\":\"cols-transition\",\"mode\":\"out-in\"}},[(_vm.currentPage === 'Login')?_c('login',{on:{\"register\":function($event){_vm.currentPage='Register'},\"login\":function($event){_vm.currentPage='Settings'}}}):_vm._e(),(_vm.currentPage === 'Register')?_c('Register',{on:{\"back\":function($event){_vm.currentPage='Login'},\"next\":function($event){_vm.currentPage='Verify'}}}):_vm._e(),(_vm.currentPage === 'Verify')?_c('Verify',{on:{\"back\":function($event){_vm.currentPage='Register'},\"ok\":function($event){_vm.currentPage='Password'}}}):_vm._e(),(_vm.currentPage === 'Password')?_c('Password',{on:{\"finish\":function($event){_vm.currentPage='Login'}}}):_vm._e(),(_vm.currentPage==='Settings' && _vm.account)?_c('Settings',{on:{\"logout\":function($event){_vm.currentPage='Login'},\"back\":_vm.backToMain}}):_vm._e()],1),(_vm.account)?_c('div',{staticClass:\"fake-page\"}):_vm._e(),(!_vm.account)?_c('div',[_c('v-icon',{staticClass:\"hint\",attrs:{\"size\":\"40px\"},on:{\"click\":_vm.openSettings}},[_vm._v(\"mdi-cogs\")])],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-page\"},[_c('v-snackbar',{attrs:{\"top\":\"\",\"color\":\"teal lighten-1 white--text\",\"timeout\":\"1600\",\"light\":\"\"},model:{value:(_vm.snack),callback:function ($$v) {_vm.snack=$$v},expression:\"snack\"}},[_vm._v(\" \"+_vm._s(_vm.snackText)+\" \")]),_c('div',{staticClass:\"login-card\"},[_c('v-form',{ref:\"form\",model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-container',[_c('v-row',[_c('v-col',{staticClass:\"title1 white--text\"},[_vm._v(\"   \")])],1),_c('v-row',[_c('v-text-field',{attrs:{\"append-icon\":\"mdi-email\",\"rules\":_vm.emailRules,\"label\":\"\",\"background-color\":\"transparent\",\"required\":\"\",\"color\":\"white\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1),_c('v-row',[_c('v-text-field',{attrs:{\"rules\":_vm.passwordRules,\"append-icon\":\"mdi-dialpad\",\"label\":\"\",\"type\":\"password\",\"background-color\":\"transparent\",\"required\":\"\",\"color\":\"white\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('v-row',[_c('v-col',{attrs:{\"align\":\"center\"}},[_c('v-btn',{attrs:{\"color\":\"white\",\"loading\":_vm.loading,\"disabled\":_vm.loading || !_vm.valid},on:{\"click\":_vm.login}},[_vm._v(\"  \")])],1),_c('v-col',{attrs:{\"align\":\"center\"}},[_c('v-btn',{staticClass:\"mr-4\",on:{\"click\":_vm.register}},[_vm._v(\"  \")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login-page\">\r\n    <v-snackbar\r\n        top\r\n        color=\"teal lighten-1 white--text\"\r\n        timeout=\"1600\"\r\n        light\r\n        v-model=\"snack\">\r\n      {{snackText}}\r\n    </v-snackbar>\r\n    <div class=\"login-card\">\r\n      <v-form\r\n          ref=\"form\"\r\n          v-model=\"valid\">\r\n        <v-container>\r\n          <v-row>\r\n            <v-col class=\"title1 white--text\">\r\n               \r\n            </v-col>\r\n          </v-row>\r\n          <v-row>\r\n            <v-text-field\r\n                v-model=\"email\"\r\n                append-icon=\"mdi-email\"\r\n                :rules=\"emailRules\"\r\n                label=\"\"\r\n                background-color=\"transparent\"\r\n                required\r\n                color=\"white\"\r\n            ></v-text-field>\r\n          </v-row>\r\n          <v-row>\r\n            <v-text-field\r\n                v-model=\"password\"\r\n                :rules=\"passwordRules\"\r\n                append-icon=\"mdi-dialpad\"\r\n                label=\"\"\r\n                type=\"password\"\r\n                background-color=\"transparent\"\r\n                required\r\n                color=\"white\"\r\n            ></v-text-field>\r\n          </v-row>\r\n          <v-row>\r\n            <v-col align=\"center\">\r\n              <v-btn\r\n                  color=\"white\"\r\n                  @click=\"login\"\r\n                  :loading=\"loading\"\r\n                  :disabled=\"loading || !valid\"\r\n              >\r\n                \r\n              </v-btn>\r\n            </v-col>\r\n            <v-col align=\"center\">\r\n              <v-btn\r\n                  class=\"mr-4\"\r\n                  @click=\"register\"\r\n              >\r\n                \r\n              </v-btn>\r\n            </v-col>\r\n          </v-row>\r\n        </v-container>\r\n      </v-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  components: {\r\n  },\r\n  data(){\r\n    return{\r\n      email : \"jz2000@sjtu.edu.cn\",\r\n      password : \"\",\r\n      loading : false,\r\n      snackText: \"\",\r\n      snack : false,\r\n      valid : true,\r\n      emailRules: [\r\n        v => !!v || '',\r\n        v => /.+@.+\\..+/.test(v) || '',\r\n      ],\r\n      passwordRules: [\r\n        v => !!v || '',\r\n        v => /^[a-zA-Z0-9_]{6,18}$/.test(v) || '',\r\n      ],\r\n    }\r\n  },\r\n  methods:{\r\n    register(){\r\n      this.$emit('register');\r\n    },\r\n    async login(){\r\n      this.loading = true;\r\n      try{\r\n        const response =await axios(\r\n            {\r\n              method : 'post',\r\n              url : this.GLOBAL.baseURL + '/login',\r\n              data : {\r\n                'email' : this.email,\r\n                'password' : this.password,\r\n              }\r\n            })\r\n        this.GLOBAL.userInfo = response.data.user;\r\n        this.snackText = '';\r\n        this.snack = true;\r\n        this.loading = false;\r\n        console.log(response);\r\n        setTimeout(()=>{this.$emit('login');},200)\r\n      }catch(error){\r\n        if (error.response){\r\n          this.snackText = error.response.data.error;\r\n        }\r\n        else{\r\n          this.snackText = ''\r\n        }\r\n        this.snack = true;\r\n        this.loading = false;\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.title1{\r\n  font-size: 36px;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.login-card{\r\n  padding: 0 8%;\r\n  width: calc(300px + 10vw);\r\n  position: absolute;\r\n  z-index: 2;\r\n  bottom: calc(60vh - 220px);\r\n  left: calc(45vw - 150px);\r\n  background-position-y: 20px;\r\n  background-image: linear-gradient(to bottom, #26A69A00, #26A69Add);\r\n  border-bottom: 5px solid #A7FFEB;\r\n}\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login_Web.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login_Web.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login_Web.vue?vue&type=template&id=1e5647df&scoped=true&\"\nimport script from \"./Login_Web.vue?vue&type=script&lang=js&\"\nexport * from \"./Login_Web.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login_Web.vue?vue&type=style&index=0&id=1e5647df&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e5647df\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCol,VContainer,VForm,VRow,VSnackbar,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-page\"},[_c('v-snackbar',{attrs:{\"top\":\"\",\"color\":\"teal lighten-1 white--text\",\"timeout\":\"1600\",\"light\":\"\"},model:{value:(_vm.snack),callback:function ($$v) {_vm.snack=$$v},expression:\"snack\"}},[_vm._v(\" \"+_vm._s(_vm.snackText)+\" \")]),_c('div',{staticClass:\"register-card\"},[_c('v-form',{ref:\"form\",model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-container',[_c('v-row',[_c('v-col',{staticClass:\"title1 white--text\"},[_vm._v(\"   \")])],1),_c('v-row',[_c('v-text-field',{attrs:{\"append-icon\":\"mdi-email\",\"rules\":_vm.emailRules,\"label\":\"\",\"background-color\":\"transparent\",\"required\":\"\",\"color\":\"white\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1),_c('v-row',[_c('v-col',{attrs:{\"align\":\"center\"}},[_c('v-btn',{staticClass:\"mr-4\",on:{\"click\":_vm.back}},[_vm._v(\"  \")])],1),_c('v-col',{attrs:{\"align\":\"center\"}},[_c('v-btn',{staticClass:\"mr-4\",attrs:{\"color\":\"white\",\"loading\":_vm.loading,\"disabled\":_vm.loading ||!_vm.valid},on:{\"click\":_vm.sendEmail}},[_vm._v(\" \"+_vm._s(_vm.btnText)+\" \")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login-page\">\r\n    <v-snackbar\r\n        top\r\n        color=\"teal lighten-1 white--text\"\r\n        timeout=\"1600\"\r\n        light\r\n        v-model=\"snack\">\r\n      {{snackText}}\r\n    </v-snackbar>\r\n    <div class=\"register-card\">\r\n      <v-form\r\n          ref=\"form\"\r\n          v-model=\"valid\">\r\n        <v-container>\r\n          <v-row>\r\n            <v-col class=\"title1 white--text\">\r\n               \r\n            </v-col>\r\n\r\n          </v-row>\r\n          <v-row>\r\n            <v-text-field\r\n                v-model=\"email\"\r\n                append-icon=\"mdi-email\"\r\n                :rules=\"emailRules\"\r\n                label=\"\"\r\n                background-color=\"transparent\"\r\n                required\r\n                color=\"white\"\r\n            ></v-text-field>\r\n          </v-row>\r\n          <v-row>\r\n            <v-col align=\"center\">\r\n              <v-btn\r\n                  class=\"mr-4\"\r\n                  @click=\"back\"\r\n              >\r\n                \r\n              </v-btn>\r\n            </v-col>\r\n            <v-col align=\"center\">\r\n              <v-btn\r\n                  color=\"white\"\r\n                  class=\"mr-4\"\r\n                  @click=\"sendEmail\"\r\n                  :loading=\"loading\"\r\n                  :disabled=\"loading ||!valid\"\r\n              >\r\n                {{btnText}}\r\n              </v-btn>\r\n            </v-col>\r\n          </v-row>\r\n        </v-container>\r\n      </v-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  components: {\r\n  },\r\n  data(){\r\n    return{\r\n      email : \"\",\r\n      btnText : \"\",\r\n      loading : false,\r\n      snack : false,\r\n      snackText : \"\",\r\n      valid : false,\r\n      emailRules: [\r\n        v => !!v || '',\r\n        v => /.+@.+\\..+/.test(v) || '',\r\n      ],\r\n    }\r\n  },\r\n  methods:{\r\n    back(){\r\n      this.$emit('back');\r\n    },\r\n    async sendEmail(){\r\n      this.loading = true;\r\n      try{\r\n        const response =await axios(\r\n            {\r\n              method : 'post',\r\n              url : this.GLOBAL.baseURL + '/email',\r\n              data : {\r\n                'email' : this.email,\r\n              }\r\n            })\r\n        this.GLOBAL.email = this.email\r\n        this.snackText = '';\r\n        this.snack = true;\r\n        this.btnText = '';\r\n        this.loading = false;\r\n        console.log(response);\r\n        setTimeout(()=>{this.$emit('next');},1000)\r\n      }catch(error){\r\n        if (error.response){\r\n          this.snackText = error.response.data.error;\r\n        }\r\n        else{\r\n          this.snackText = ''\r\n        }\r\n        this.snack = true;\r\n        this.btnText = '';\r\n        this.loading = false;\r\n      }\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.title1{\r\n  font-size: 36px;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.register-card{\r\n  padding: 0 8%;\r\n  width: calc(300px + 10vw);\r\n  position: absolute;\r\n  z-index: 2;\r\n  bottom: calc(60vh - 220px);\r\n  left: calc(45vw - 150px);\r\n  background-position-y: 20px;\r\n  background-image: linear-gradient(to bottom, #26A69A00, #26A69Add);\r\n  border-bottom: 5px solid #A7FFEB;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register_Web.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register_Web.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Register_Web.vue?vue&type=template&id=4103a4f3&scoped=true&\"\nimport script from \"./Register_Web.vue?vue&type=script&lang=js&\"\nexport * from \"./Register_Web.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Register_Web.vue?vue&type=style&index=0&id=4103a4f3&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4103a4f3\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCol,VContainer,VForm,VRow,VSnackbar,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"verify-page\"},[_c('v-snackbar',{attrs:{\"top\":\"\",\"color\":\"teal lighten-1 white--text\",\"timeout\":\"1600\",\"light\":\"\"},model:{value:(_vm.snack),callback:function ($$v) {_vm.snack=$$v},expression:\"snack\"}},[_vm._v(\" \"+_vm._s(_vm.snackText)+\" \")]),_c('div',{staticClass:\"register-card\"},[_c('v-form',{ref:\"form\",model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-container',[_c('v-row',[_c('v-col',{staticClass:\"title1 teal--text\"},[_vm._v(\"   \")])],1),_c('v-row',[_c('v-text-field',{attrs:{\"append-icon\":\"mdi-dialpad\",\"label\":\"\",\"counter\":\"6\",\"rules\":_vm.verifyRules,\"background-color\":\"transparent\",\"required\":\"\",\"color\":\"teal darken-1\"},model:{value:(_vm.verifyCode),callback:function ($$v) {_vm.verifyCode=$$v},expression:\"verifyCode\"}})],1),_c('v-row',[_c('v-col',{attrs:{\"align\":\"center\"}},[_c('v-btn',{staticClass:\"mr-4\",on:{\"click\":_vm.back}},[_vm._v(\"  \")])],1),_c('v-col',{attrs:{\"align\":\"center\"}},[_c('v-btn',{staticClass:\"mr-4\",attrs:{\"color\":\"white white--text\",\"loading\":_vm.loading,\"disabled\":_vm.loading || !_vm.valid},on:{\"click\":_vm.verify}},[_vm._v(\"  \")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"verify-page\">\r\n    <v-snackbar\r\n        top\r\n        color=\"teal lighten-1 white--text\"\r\n        timeout=\"1600\"\r\n        light\r\n        v-model=\"snack\">\r\n      {{snackText}}\r\n    </v-snackbar>\r\n    <div\r\n        class=\"register-card\"\r\n    >\r\n      <v-form\r\n          ref=\"form\"\r\n          v-model=\"valid\">\r\n        <v-container>\r\n          <v-row>\r\n            <v-col class=\"title1 teal--text\">\r\n               \r\n            </v-col>\r\n\r\n          </v-row>\r\n          <v-row>\r\n            <v-text-field\r\n                v-model=\"verifyCode\"\r\n                append-icon=\"mdi-dialpad\"\r\n                label=\"\"\r\n                counter=\"6\"\r\n                :rules=\"verifyRules\"\r\n                background-color=\"transparent\"\r\n                required\r\n                color=\"teal darken-1\"\r\n            ></v-text-field>\r\n          </v-row>\r\n          <v-row>\r\n            <v-col align=\"center\">\r\n              <v-btn\r\n                  class=\"mr-4\"\r\n                  @click=\"back\"\r\n              >\r\n                \r\n              </v-btn>\r\n            </v-col>\r\n            <v-col align=\"center\">\r\n              <v-btn\r\n                  color=\"white white--text\"\r\n                  class=\"mr-4\"\r\n                  @click=\"verify\"\r\n                  :loading=\"loading\"\r\n                  :disabled=\"loading || !valid\"\r\n              >\r\n                \r\n              </v-btn>\r\n            </v-col>\r\n          </v-row>\r\n        </v-container>\r\n      </v-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  components: {\r\n  },\r\n  data(){\r\n    return{\r\n      verifyCode : \"\",\r\n      loading : false,\r\n      snack : false,\r\n      snackText : \"\",\r\n      valid : false,\r\n      verifyRules: [\r\n        v => !!v || '',\r\n        v => /^[A-Z0-9]{6}$/.test(v) || '',\r\n      ],\r\n    }\r\n  },\r\n  methods:{\r\n    back(){\r\n      this.$emit('back');\r\n    },\r\n    async verify(){\r\n      this.loading = true;\r\n      try{\r\n        const response =await axios(\r\n            {\r\n              method : 'post',\r\n              url : this.GLOBAL.baseURL + '/verify',\r\n              data : {\r\n                'email' : this.GLOBAL.email,\r\n                'verify' : this.verifyCode\r\n              }\r\n            })\r\n        this.GLOBAL.token = response.data.token;\r\n        this.snackText = '';\r\n        this.snack = true;\r\n        this.loading = false;\r\n        console.log(response);\r\n        setTimeout(()=>{this.$emit('ok');},1000)\r\n      }catch(error){\r\n        if (error.response){\r\n          this.snackText = error.response.data.error;\r\n        }\r\n        else{\r\n          this.snackText = ''\r\n        }\r\n        this.snack = true;\r\n        this.loading = false;\r\n      }\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.title1{\r\n  font-size: 36px;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.register-card{\r\n  padding: 0 8%;\r\n  width: calc(300px + 10vw);\r\n  position: absolute;\r\n  z-index: 2;\r\n  bottom: calc(60vh - 220px);\r\n  left: calc(45vw - 150px);\r\n  background-position-y: 20px;\r\n  background-image: linear-gradient(to bottom, #26A69A00, #26A69Add);\r\n  border-bottom: 5px solid #A7FFEB;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Verify_Web.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Verify_Web.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Verify_Web.vue?vue&type=template&id=076a1904&scoped=true&\"\nimport script from \"./Verify_Web.vue?vue&type=script&lang=js&\"\nexport * from \"./Verify_Web.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Verify_Web.vue?vue&type=style&index=0&id=076a1904&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"076a1904\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCol,VContainer,VForm,VRow,VSnackbar,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-page\"},[_c('v-snackbar',{attrs:{\"top\":\"\",\"color\":\"teal lighten-1 white--text\",\"timeout\":\"1600\",\"light\":\"\"},model:{value:(_vm.snack),callback:function ($$v) {_vm.snack=$$v},expression:\"snack\"}},[_vm._v(\" \"+_vm._s(_vm.snackText)+\" \")]),_c('div',{staticClass:\"password-card\"},[_c('v-form',{ref:\"form\",model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-container',[_c('v-row',[_c('v-col',{staticClass:\"title1 teal--text\"},[_vm._v(\"   \")])],1),_c('v-row',[_c('v-text-field',{attrs:{\"append-icon\":\"mdi-format-title\",\"label\":\"\",\"background-color\":\"transparent\",\"rules\":_vm.nicknameRules,\"required\":\"\",\"color\":\"teal darken-1\"},model:{value:(_vm.nickname),callback:function ($$v) {_vm.nickname=$$v},expression:\"nickname\"}})],1),_c('v-row',[_c('v-text-field',{attrs:{\"append-icon\":\"mdi-dialpad\",\"label\":\"\",\"background-color\":\"transparent\",\"type\":\"password\",\"rules\":_vm.passwordRules,\"required\":\"\",\"color\":\"teal darken-1\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('v-row',[_c('v-text-field',{attrs:{\"append-icon\":\"mdi-dialpad\",\"label\":\"\",\"type\":\"password\",\"rules\":_vm.passwordRules,\"background-color\":\"transparent\",\"required\":\"\",\"color\":\"teal darken-1\"},model:{value:(_vm.password2),callback:function ($$v) {_vm.password2=$$v},expression:\"password2\"}})],1),_c('v-row',[_c('v-col',{attrs:{\"align\":\"center\"}},[_c('v-btn',{staticClass:\"mr-4\",attrs:{\"color\":\"white\",\"loading\":_vm.loading,\"disabled\":_vm.loading || !_vm.valid || _vm.password !== _vm.password2},on:{\"click\":_vm.setPassword}},[_vm._v(\"   \")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login-page\">\r\n    <v-snackbar\r\n        top\r\n        color=\"teal lighten-1 white--text\"\r\n        timeout=\"1600\"\r\n        light\r\n        v-model=\"snack\">\r\n      {{snackText}}\r\n    </v-snackbar>\r\n    <div class=\"password-card\">\r\n      <v-form\r\n          ref=\"form\"\r\n          v-model=\"valid\">\r\n        <v-container>\r\n          <v-row>\r\n            <v-col class=\"title1 teal--text\">\r\n               \r\n            </v-col>\r\n          </v-row>\r\n          <v-row>\r\n            <v-text-field\r\n                v-model=\"nickname\"\r\n                append-icon=\"mdi-format-title\"\r\n                label=\"\"\r\n                background-color=\"transparent\"\r\n                :rules=\"nicknameRules\"\r\n                required\r\n                color=\"teal darken-1\"\r\n            ></v-text-field>\r\n          </v-row>\r\n          <v-row>\r\n            <v-text-field\r\n                v-model=\"password\"\r\n                append-icon=\"mdi-dialpad\"\r\n                label=\"\"\r\n                background-color=\"transparent\"\r\n                type=\"password\"\r\n                :rules=\"passwordRules\"\r\n                required\r\n                color=\"teal darken-1\"\r\n            ></v-text-field>\r\n          </v-row>\r\n          <v-row>\r\n            <v-text-field\r\n                v-model=\"password2\"\r\n                append-icon=\"mdi-dialpad\"\r\n                label=\"\"\r\n                type=\"password\"\r\n                :rules=\"passwordRules\"\r\n                background-color=\"transparent\"\r\n                required\r\n                color=\"teal darken-1\"\r\n            ></v-text-field>\r\n          </v-row>\r\n          <v-row>\r\n            <v-col align=\"center\">\r\n              <v-btn\r\n                  color=\"white\"\r\n                  class=\"mr-4\"\r\n                  @click=\"setPassword\"\r\n                  :loading=\"loading\"\r\n                  :disabled=\"loading || !valid || password !== password2\"\r\n              >\r\n                 \r\n              </v-btn>\r\n            </v-col>\r\n          </v-row>\r\n        </v-container>\r\n      </v-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  components: {\r\n  },\r\n  data(){\r\n    return{\r\n      email : \"\",\r\n      loading : false,\r\n      nickname: \"\",\r\n      password: \"\",\r\n      password2 : \"\",\r\n      snack : false,\r\n      snackText : \"\",\r\n      valid : false,\r\n      passwordRules: [\r\n        v => !!v || '',\r\n        v => /^[a-zA-Z0-9_]{6,18}$/.test(v) || '',\r\n      ],\r\n      nicknameRules: [\r\n        v => v.length >= 2 || '',\r\n      ],\r\n    }\r\n  },\r\n  methods:{\r\n    async setPassword(){\r\n      this.loading = true;\r\n      try{\r\n        const response = await axios(\r\n            {\r\n              method : 'post',\r\n              url : this.GLOBAL.baseURL + '/register',\r\n              data : {\r\n                'token' : this.GLOBAL.token,\r\n                'nickname' : this.nickname,\r\n                'password' : this.password\r\n              }\r\n            })\r\n        this.snackText = '';\r\n        this.snack = true;\r\n        this.loading = false;\r\n        console.log(response);\r\n        setTimeout(()=>{this.$emit('finish');},1000)\r\n      }catch(error){\r\n        if (error.response){\r\n          this.snackText = error.response.data.error;\r\n        }\r\n        else{\r\n          this.snackText = ''\r\n        }\r\n        this.snack = true;\r\n        this.loading = false;\r\n      }\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.title1{\r\n  font-size: 36px;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  margin-bottom: 15px;\r\n}\r\n.password-card{\r\n  padding: 0 8%;\r\n  width: calc(300px + 10vw);\r\n  position: absolute;\r\n  z-index: 2;\r\n  bottom: calc(60vh - 220px);\r\n  left: calc(45vw - 150px);\r\n  background-position-y: 20px;\r\n  background-image: linear-gradient(to bottom, #26A69A00, #26A69Add);\r\n  border-bottom: 5px solid #A7FFEB;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Password_Web.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Password_Web.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Password_Web.vue?vue&type=template&id=79188078&scoped=true&\"\nimport script from \"./Password_Web.vue?vue&type=script&lang=js&\"\nexport * from \"./Password_Web.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Password_Web.vue?vue&type=style&index=0&id=79188078&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79188078\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCol,VContainer,VForm,VRow,VSnackbar,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"settings-page\"},[_c('v-snackbar',{attrs:{\"top\":\"\",\"color\":\"teal lighten-1 white--text\",\"timeout\":\"1600\",\"light\":\"\"},model:{value:(_vm.snack),callback:function ($$v) {_vm.snack=$$v},expression:\"snack\"}},[_vm._v(\" \"+_vm._s(_vm.snackText)+\" \")]),_c('div',{staticClass:\"settings-card\"},[_c('v-container',[_c('v-row',[_c('v-col',{staticClass:\"title1 white--text\"},[_vm._v(\"   \")])],1),_c('v-row',{attrs:{\"no-gutters\":\"\",\"dense\":\"\"}},[_c('v-col',{attrs:{\"align\":\"center\"}},[_c('v-avatar',{staticClass:\"transparent\",attrs:{\"size\":\"80px\"}},[_c('img',{attrs:{\"alt\":\"Avatar\",\"loading\":_vm.loading,\"src\":_vm.GLOBAL.baseURL + _vm.GLOBAL.userInfo.portrait}})])],1),_c('v-col',{attrs:{\"align\":\"left\"}},[_c('p',{staticClass:\"nickname\"},[_vm._v(_vm._s(_vm.GLOBAL.userInfo.nickname))]),_c('p',{staticClass:\"userid\"},[_vm._v(\"ID: \"+_vm._s(_vm.GLOBAL.userInfo.id))])])],1),_c('v-row',{staticClass:\"settings-row\",attrs:{\"dense\":\"\"}},[_c('v-col',{staticClass:\"title2\",attrs:{\"align\":\"center\"}},[_c('v-switch',{attrs:{\"label\":\"\",\"color\":\"teal\",\"hide-details\":\"\"},model:{value:(_vm.GLOBAL.openMicrophoneWhenEnter),callback:function ($$v) {_vm.$set(_vm.GLOBAL, \"openMicrophoneWhenEnter\", $$v)},expression:\"GLOBAL.openMicrophoneWhenEnter\"}})],1)],1),_c('v-row',{staticClass:\"settings-row\",attrs:{\"dense\":\"\"}},[_c('v-col',{staticClass:\"title2\",attrs:{\"align\":\"center\"}},[_c('v-switch',{attrs:{\"label\":\"\",\"color\":\"teal\",\"hide-details\":\"\"},model:{value:(_vm.GLOBAL.openCameraWhenEnter),callback:function ($$v) {_vm.$set(_vm.GLOBAL, \"openCameraWhenEnter\", $$v)},expression:\"GLOBAL.openCameraWhenEnter\"}})],1)],1),_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',{attrs:{\"align\":\"center\"}},[_c('v-btn',{staticClass:\"mr-4\",attrs:{\"color\":\"red accent-4 white--text\",\"loading\":_vm.loading,\"disabled\":_vm.loading},on:{\"click\":_vm.logout}},[_vm._v(\"  \")])],1),_c('v-col',{attrs:{\"align\":\"center\"}},[_c('v-btn',{staticClass:\"mr-4 white\",attrs:{\"loading\":_vm.loading,\"disabled\":_vm.loading},on:{\"click\":_vm.back}},[_vm._v(\"  > \")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"settings-page\">\r\n    <v-snackbar\r\n        top\r\n        color=\"teal lighten-1 white--text\"\r\n        timeout=\"1600\"\r\n        light\r\n        v-model=\"snack\">\r\n      {{snackText}}\r\n    </v-snackbar>\r\n    <div\r\n        class=\"settings-card\"\r\n    >\r\n      <v-container>\r\n        <v-row>\r\n          <v-col class=\"title1 white--text\">\r\n             \r\n          </v-col>\r\n        </v-row>\r\n        <v-row no-gutters dense>\r\n          <v-col align=\"center\">\r\n            <v-avatar\r\n                size=\"80px\"\r\n                class=\"transparent\"\r\n            >\r\n              <img\r\n                  alt=\"Avatar\"\r\n                  :loading=\"loading\"\r\n                  :src=\"GLOBAL.baseURL + GLOBAL.userInfo.portrait\"\r\n              >\r\n            </v-avatar>\r\n          </v-col>\r\n\r\n          <v-col align=\"left\">\r\n            <p class=\"nickname\">{{GLOBAL.userInfo.nickname}}</p>\r\n            <p class=\"userid\">ID: {{GLOBAL.userInfo.id}}</p>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row dense class=\"settings-row\">\r\n          <v-col align=\"center\" class=\"title2\">\r\n            <v-switch\r\n                v-model=\"GLOBAL.openMicrophoneWhenEnter\"\r\n                label=\"\"\r\n                color=\"teal\"\r\n                hide-details\r\n            ></v-switch>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row dense class=\"settings-row\">\r\n          <v-col align=\"center\" class=\"title2\">\r\n            <v-switch\r\n                v-model=\"GLOBAL.openCameraWhenEnter\"\r\n                label=\"\"\r\n                color=\"teal\"\r\n                hide-details\r\n            ></v-switch>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row dense>\r\n          <v-col align=\"center\">\r\n            <v-btn\r\n                color=\"red accent-4 white--text\"\r\n                class=\"mr-4\"\r\n                @click=\"logout\"\r\n                :loading=\"loading\"\r\n                :disabled=\"loading\"\r\n            >\r\n              \r\n            </v-btn>\r\n          </v-col>\r\n          <v-col align=\"center\">\r\n            <v-btn\r\n                class=\"mr-4 white\"\r\n                @click=\"back\"\r\n                :loading=\"loading\"\r\n                :disabled=\"loading\"\r\n            >\r\n               >\r\n            </v-btn>\r\n          </v-col>\r\n        </v-row>\r\n      </v-container>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nconst FormData = require(\"form-data\");\r\nconst fs = require('fs');\r\n\r\nexport default {\r\n  name: \"Settings\",\r\n  components: {\r\n  },\r\n  data(){\r\n    return{\r\n      email : \"\",\r\n      password : \"\",\r\n      loading: false,\r\n      file: null,\r\n      snack : false,\r\n      snackText : \"\",\r\n    }\r\n  },\r\n  methods:{\r\n    logout(){\r\n      this.$emit('logout');\r\n    },\r\n    back(){\r\n      this.$emit('back');\r\n    },\r\n    getPortrait(){\r\n\r\n    },\r\n    async uploadPortrait(){\r\n      this.loading = true;\r\n      this.file = fs.createReadStream('local/path/image.jpg');\r\n      const formData = new FormData();\r\n      formData.append('file', this.file);\r\n      console.log(this.file);\r\n      try{\r\n        const response =await axios(\r\n            {\r\n              method : 'post',\r\n              url : this.GLOBAL.baseURL + '/portrait?token='+this.GLOBAL.userInfo.token,\r\n              headers:{'Content-Type': 'multipart/form-data'},\r\n              data : formData\r\n            })\r\n        this.GLOBAL.userInfo.portrait = response.data.filename;\r\n        this.snackText = '';\r\n        this.snack = true;\r\n        this.loading = false;\r\n        console.log(response.data.filename);\r\n      }catch(error){\r\n        if (error.response){\r\n          this.snackText = error.response.data.error;\r\n        }\r\n        else{\r\n          this.snackText = ''\r\n        }\r\n        this.snack = true;\r\n        this.loading = false;\r\n      }\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.title1{\r\n  font-size: 36px;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  margin-bottom: 15px;\r\n}\r\n.title2{\r\n  padding: 1% 10%;\r\n  color: white;\r\n}\r\n.settings-card{\r\n  padding: 0 8%;\r\n  width: calc(300px + 10vw);\r\n  position: absolute;\r\n  z-index: 2;\r\n  bottom: calc(60vh - 220px);\r\n  left: calc(45vw - 150px);\r\n  background-position-y: 20px;\r\n  background-image: linear-gradient(to bottom, #26A69A00, #26A69Add);\r\n  border-bottom: 5px solid #A7FFEB;\r\n}\r\n.userid{\r\n  font-family: \"Microsoft YaHei UI\", serif;\r\n  font-size: 14px;\r\n  text-align: left;\r\n  color: white;\r\n}\r\n.nickname{\r\n  font-family: \"Microsoft YaHei UI\", serif;\r\n  font-size: 28px;\r\n  text-align: left;\r\n  margin-bottom: 10px;\r\n  color: white;\r\n}\r\n.file-input{\r\n  cursor: default;\r\n  position: absolute;\r\n  opacity: 0;\r\n  top: 0;\r\n  left: 0;\r\n}\r\n.file-input:hover{\r\n  cursor: pointer;\r\n}\r\n.settings-row{\r\n  margin: 0;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings_Web.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings_Web.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Settings_Web.vue?vue&type=template&id=138cc2e8&scoped=true&\"\nimport script from \"./Settings_Web.vue?vue&type=script&lang=js&\"\nexport * from \"./Settings_Web.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Settings_Web.vue?vue&type=style&index=0&id=138cc2e8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"138cc2e8\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VAvatar,VBtn,VCol,VContainer,VRow,VSnackbar,VSwitch})\n","<template>\r\n  <div :class=\"['td-cube', {'td-cube-main': !account}]\">\r\n    <transition name=\"cols-transition\" mode=\"out-in\">\r\n      <login @register=\"currentPage='Register'\" @login=\"currentPage='Settings'\" v-if=\"currentPage === 'Login'\"></login>\r\n      <Register @back=\"currentPage='Login'\" @next=\"currentPage='Verify'\" v-if=\"currentPage === 'Register'\"></Register>\r\n      <Verify @back=\"currentPage='Register'\" @ok=\"currentPage='Password'\" v-if=\"currentPage === 'Verify'\"></Verify>\r\n      <Password @finish=\"currentPage='Login'\" v-if=\"currentPage === 'Password'\"></Password>\r\n      <Settings @logout=\"currentPage='Login'\" @back=\"backToMain\" v-if=\"currentPage==='Settings' && account\"></Settings>\r\n    </transition>\r\n    <div class=\"fake-page\" v-if=\"account\"></div>\r\n\r\n    <div v-if=\"!account\">\r\n      <v-icon class=\"hint\" @click=\"openSettings\" size=\"40px\">mdi-cogs</v-icon>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Login from './Login_Web'\r\nimport Register from \"./Register_Web\";\r\nimport Verify from \"./Verify_Web\";\r\nimport Password from \"./Password_Web\";\r\nimport Settings from \"./Settings_Web\"\r\n\r\nexport default {\r\n  components:{\r\n    Login,\r\n    Register,\r\n    Verify,\r\n    Password,\r\n    Settings,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      pages : ['Login', 'Register', 'Verify', 'Password', 'Settings'],\r\n      currentPage : 'Login',\r\n      rot : false,\r\n    };\r\n  },\r\n\r\n  props:{\r\n    account : Boolean,\r\n  },\r\n\r\n  methods: {\r\n    backToMain(){\r\n      this.$emit('back');\r\n      setTimeout(()=>{\r\n        this.rot = true;\r\n      }, 1000)\r\n    },\r\n    openSettings(){\r\n      if (this.rot){\r\n        this.rot = false;\r\n        setTimeout(()=>{\r\n          this.$emit('settings');\r\n        }, 200);\r\n      }\r\n    }\r\n  },\r\n\r\n  created() {\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\r\n.td-cube {\r\n  width: 100vh;\r\n  height: 100vh;\r\n  transition: 0.5s ease-out;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n}\r\n.td-cube.td-cube-main {\r\n  transition: 0.5s ease-out;\r\n  top: 0;\r\n  left: 100vw;\r\n}\r\n.hint{\r\n  text-align: center;\r\n  position: relative;\r\n  top: 10px;\r\n  left: -50px;\r\n  color: white;\r\n  transition: 0.15s ease-in-out;\r\n}\r\n.hint:hover{\r\n  cursor: pointer;\r\n  transform: scale(1.2);\r\n  transition: 0.15s ease-in-out;\r\n}\r\n\r\n.cols-transition-enter, .cols-transition-leave-to{\r\n  opacity: 0;\r\n}\r\n.cols-transition-leave, .cols-transition-enter-to{\r\n  opacity: 1;\r\n}\r\n.cols-transition-enter-active, .cols-transition-leave-active{\r\n  transition: all 0.3s ease-in-out;\r\n}\r\n\r\n.fake-page{\r\n  width: calc(312px + 10vw);\r\n  height: 12px;\r\n  position: absolute;\r\n  bottom: calc(60vh - 220px);\r\n  z-index: 1;\r\n  left: calc(45vw - 156px);\r\n  border: 6px solid #A7FFEB;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cube_web.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cube_web.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./cube_web.vue?vue&type=template&id=66c1db60&scoped=true&\"\nimport script from \"./cube_web.vue?vue&type=script&lang=js&\"\nexport * from \"./cube_web.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cube_web.vue?vue&type=style&index=0&id=66c1db60&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"66c1db60\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-page\"},[_c('v-snackbar',{attrs:{\"top\":\"\",\"color\":\"teal lighten-1 white--text\",\"timeout\":\"1600\",\"light\":\"\"},model:{value:(_vm.snack),callback:function ($$v) {_vm.snack=$$v},expression:\"snack\"}},[_vm._v(\" \"+_vm._s(_vm.snackText)+\" \")]),_c('div',{staticClass:\"teal-cover\"},[_c('h1',{staticClass:\"title1 white--text\",class:[{'active':_vm.click1||_vm.click2||_vm.click3}]},[_vm._v(\"  \")]),_c('h1',{staticClass:\"title2 white--text\",class:[{'active':_vm.click1||_vm.click2||_vm.click3}]},[_vm._v(\" MyMeeting   \")]),_c('v-container',{class:['cards-container', {'active':_vm.click1||_vm.click2||_vm.click3}]},[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.click1||(!_vm.click1&&!_vm.click2&&!_vm.click3)),expression:\"click1||(!click1&&!click2&&!click3)\"}],attrs:{\"align\":\"center\"},on:{\"click\":function($event){_vm.click1=true; _vm.click4 = _vm.click5 = false}}},[_c('v-card',{staticClass:\"teal lighten-4 function-card\",class:[{'active':_vm.click1||_vm.click2||_vm.click3}],attrs:{\"elevation\":\"10\",\"loading\":_vm.loading,\"disabled\":_vm.loading,\"color\":\"teal\"},on:{\"mouseenter\":function($event){_vm.hover1=true},\"mouseleave\":function($event){_vm.hover1=false}}},[_c('v-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.click1),expression:\"click1\"}],staticClass:\"close\",attrs:{\"color\":\"#004D4099\",\"size\":\"60px\"},on:{\"click\":function($event){$event.stopPropagation();_vm.click1=false}}},[_vm._v(\" mdi-close \")]),_c('v-icon',{class:['arrow',{'pos1':_vm.hover1, 'pos2':_vm.click1}],attrs:{\"color\":\"white\",\"size\":\"150px\",\"disabled\":!_vm.valid1 || _vm.loading},on:{\"click\":_vm.sendReq}},[_vm._v(\" mdi-arrow-right-thick \")]),_c('p',{staticClass:\"card-title teal--text text--darken-4\"},[_vm._v(\"  \")]),_c('p',{staticClass:\"card-text teal--text text--darken-4\"},[_vm._v(\"  \")]),_c('v-form',{ref:\"form\",model:{value:(_vm.valid1),callback:function ($$v) {_vm.valid1=$$v},expression:\"valid1\"}},[(_vm.click1)?_c('v-container',[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',[_c('v-text-field',{attrs:{\"height\":\"60px\",\"outlined\":\"\",\"rules\":_vm.idRules,\"append-icon\":\"mdi-email\",\"label\":\"\",\"color\":\"teal darken-1\",\"required\":\"\"},model:{value:(_vm.roomId),callback:function ($$v) {_vm.roomId=$$v},expression:\"roomId\"}})],1)],1),_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',[_c('v-text-field',{attrs:{\"outlined\":\"\",\"height\":\"60px\",\"type\":\"password\",\"rules\":_vm.passwordRules,\"append-icon\":\"mdi-dialpad\",\"label\":\"\",\"color\":\"teal darken-1\",\"required\":\"\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1)],1)],1):_vm._e()],1)],1)],1),_c('v-col',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.click2||(!_vm.click1&&!_vm.click2&&!_vm.click3)),expression:\"click2||(!click1&&!click2&&!click3)\"}],attrs:{\"align\":\"center\"},on:{\"click\":function($event){_vm.click2=true; _vm.click4 = _vm.click5 = false}}},[_c('v-card',{staticClass:\"teal lighten-4 function-card\",class:[{'active':_vm.click1||_vm.click2||_vm.click3}],attrs:{\"elevation\":\"10\",\"loading\":_vm.loading,\"disabled\":_vm.loading},on:{\"mouseenter\":function($event){_vm.hover2=true},\"mouseleave\":function($event){_vm.hover2=false}}},[_c('v-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.click2),expression:\"click2\"}],staticClass:\"close\",attrs:{\"color\":\"#004D4099\",\"size\":\"60px\"},on:{\"click\":function($event){$event.stopPropagation();_vm.click2=false}}},[_vm._v(\" mdi-close \")]),_c('v-icon',{class:['arrow',{'pos1':_vm.hover2, 'pos2':_vm.click2}],attrs:{\"color\":\"white\",\"size\":\"150px\",\"disabled\":!_vm.valid2 || _vm.loading},on:{\"click\":_vm.sendReq}},[_vm._v(\" mdi-arrow-right-thick \")]),_c('p',{staticClass:\"card-title teal--text text--darken-4\"},[_vm._v(\"  \")]),_c('p',{staticClass:\"card-text teal--text text--darken-4\"},[_vm._v(\"  \")]),_c('v-form',{ref:\"form\",model:{value:(_vm.valid2),callback:function ($$v) {_vm.valid2=$$v},expression:\"valid2\"}},[(_vm.click2)?_c('v-container',[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',[_c('v-text-field',{attrs:{\"rules\":_vm.topicRules,\"height\":\"60px\",\"outlined\":\"\",\"append-icon\":\"mdi-format-title\",\"label\":\"\",\"color\":\"teal darken-1\",\"required\":\"\"},model:{value:(_vm.topic),callback:function ($$v) {_vm.topic=$$v},expression:\"topic\"}})],1),_c('v-col',[_c('v-text-field',{attrs:{\"height\":\"60px\",\"outlined\":\"\",\"append-icon\":\"mdi-numeric\",\"label\":\"\",\"color\":\"teal darken-1\",\"required\":\"\"},model:{value:(_vm.max_num),callback:function ($$v) {_vm.max_num=$$v},expression:\"max_num\"}})],1)],1),_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',[_c('v-text-field',{attrs:{\"outlined\":\"\",\"height\":\"60px\",\"type\":\"password\",\"rules\":_vm.passwordRules,\"append-icon\":\"mdi-dialpad\",\"label\":\"\",\"color\":\"teal darken-1\",\"required\":\"\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1)],1)],1):_vm._e()],1)],1)],1),_c('v-col',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.click3||(!_vm.click1&&!_vm.click2&&!_vm.click3)),expression:\"click3||(!click1&&!click2&&!click3)\"}],attrs:{\"align\":\"center\"},on:{\"click\":function($event){_vm.click3=true; _vm.click4 = _vm.click5 = false}}},[_c('v-card',{staticClass:\"teal lighten-4 function-card\",class:[{'active':_vm.click1||_vm.click2||_vm.click3}],attrs:{\"elevation\":\"10\",\"loading\":_vm.loading,\"disabled\":_vm.loading},on:{\"mouseenter\":function($event){_vm.hover3=true},\"mouseleave\":function($event){_vm.hover3=false}}},[_c('v-overlay',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selecting_start_time || _vm.selecting_end_time || _vm.selecting_end_date || _vm.selecting_start_date),expression:\"selecting_start_time || selecting_end_time || selecting_end_date || selecting_start_date\"}]},[_c('v-icon',{staticClass:\"close-picker\",on:{\"click\":function($event){_vm.selecting_start_date = _vm.selecting_start_time = _vm.selecting_end_time = _vm.selecting_end_date = false}}},[_vm._v(\" mdi-close\")]),_c('v-date-picker',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selecting_start_date),expression:\"selecting_start_date\"}],staticClass:\"mt-4\",attrs:{\"elevation\":\"8\",\"color\":\"teal\",\"light\":\"\",\"min\":_vm.now_date},model:{value:(_vm.start_date),callback:function ($$v) {_vm.start_date=$$v},expression:\"start_date\"}}),_c('v-time-picker',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selecting_start_time),expression:\"selecting_start_time\"}],staticClass:\"mt-4\",attrs:{\"light\":\"\",\"elevation\":\"8\",\"format\":\"24hr\",\"color\":\"teal\",\"scrollable\":\"\",\"min\":_vm.now_time},model:{value:(_vm.start_time),callback:function ($$v) {_vm.start_time=$$v},expression:\"start_time\"}}),_c('v-date-picker',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selecting_end_date),expression:\"selecting_end_date\"}],staticClass:\"mt-4\",attrs:{\"elevation\":\"8\",\"color\":\"teal\",\"light\":\"\",\"min\":_vm.start_date},model:{value:(_vm.end_date),callback:function ($$v) {_vm.end_date=$$v},expression:\"end_date\"}}),_c('v-time-picker',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selecting_end_time),expression:\"selecting_end_time\"}],staticClass:\"mt-4\",attrs:{\"light\":\"\",\"elevation\":\"8\",\"format\":\"24hr\",\"color\":\"teal\",\"scrollable\":\"\",\"min\":_vm.start_time},model:{value:(_vm.end_time),callback:function ($$v) {_vm.end_time=$$v},expression:\"end_time\"}})],1),_c('v-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.click3),expression:\"click3\"}],staticClass:\"close\",attrs:{\"color\":\"#004D4099\",\"size\":\"60px\"},on:{\"click\":function($event){$event.stopPropagation();_vm.click3=false}}},[_vm._v(\" mdi-close \")]),_c('v-icon',{class:['arrow',{'pos1':_vm.hover3, 'pos2':_vm.click3}],attrs:{\"color\":\"white\",\"size\":\"150px\",\"disabled\":!_vm.valid3||_vm.loading},on:{\"click\":_vm.sendReq}},[_vm._v(\" mdi-arrow-right-thick \")]),_c('p',{staticClass:\"card-title teal--text text--darken-4\"},[_vm._v(\"  \")]),_c('p',{staticClass:\"card-text teal--text text--darken-4\"},[_vm._v(\"  \")]),_c('v-form',{ref:\"form\",model:{value:(_vm.valid3),callback:function ($$v) {_vm.valid3=$$v},expression:\"valid3\"}},[(_vm.click3)?_c('v-container',[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',[_c('v-text-field',{attrs:{\"rules\":_vm.topicRules,\"height\":\"50px\",\"outlined\":\"\",\"append-icon\":\"mdi-format-title\",\"label\":\"\",\"color\":\"teal darken-1\",\"required\":\"\"},model:{value:(_vm.topic),callback:function ($$v) {_vm.topic=$$v},expression:\"topic\"}})],1),_c('v-col',[_c('v-text-field',{attrs:{\"height\":\"50px\",\"outlined\":\"\",\"append-icon\":\"mdi-numeric\",\"label\":\"\",\"color\":\"teal darken-1\",\"required\":\"\"},model:{value:(_vm.max_num),callback:function ($$v) {_vm.max_num=$$v},expression:\"max_num\"}})],1)],1),_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',[_c('v-text-field',{attrs:{\"outlined\":\"\",\"height\":\"50px\",\"type\":\"password\",\"rules\":_vm.passwordRules,\"append-icon\":\"mdi-dialpad\",\"label\":\"\",\"color\":\"teal darken-1\",\"required\":\"\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1)],1),_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',[_c('v-text-field',{attrs:{\"outlined\":\"\",\"height\":\"45px\",\"append-icon\":\"mdi-calendar-range\",\"label\":\"\",\"color\":\"teal darken-1\",\"required\":\"\"},on:{\"focusin\":function($event){_vm.selecting_start_date = true}},model:{value:(_vm.start_date),callback:function ($$v) {_vm.start_date=$$v},expression:\"start_date\"}})],1),_c('v-col',[_c('v-text-field',{attrs:{\"outlined\":\"\",\"height\":\"45px\",\"append-icon\":\"mdi-clock-time-four-outline\",\"label\":\"\",\"color\":\"teal darken-1\",\"required\":\"\"},on:{\"focusin\":function($event){_vm.selecting_start_time = true}},model:{value:(_vm.start_time),callback:function ($$v) {_vm.start_time=$$v},expression:\"start_time\"}})],1)],1),_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',[_c('v-text-field',{attrs:{\"height\":\"45px\",\"outlined\":\"\",\"append-icon\":\"mdi-calendar\",\"label\":\"\",\"color\":\"teal darken-1\",\"required\":\"\"},on:{\"focusin\":function($event){_vm.selecting_end_date = true}},model:{value:(_vm.end_date),callback:function ($$v) {_vm.end_date=$$v},expression:\"end_date\"}})],1),_c('v-col',[_c('v-text-field',{attrs:{\"height\":\"45px\",\"outlined\":\"\",\"append-icon\":\"mdi-clock-time-five-outline\",\"label\":\"\",\"color\":\"teal darken-1\",\"required\":\"\"},on:{\"focusin\":function($event){_vm.selecting_end_time = true}},model:{value:(_vm.end_time),callback:function ($$v) {_vm.end_time=$$v},expression:\"end_time\"}})],1)],1)],1):_vm._e()],1)],1)],1)],1)],1)],1),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.click5),expression:\"!click5\"}],class:['mymeeting-btn', {'active':_vm.click4}],on:{\"click\":_vm.getMeetings}},[_vm._v(\" \"+_vm._s(''+ (_vm.click4 ? '>' : '<')))]),_c('div',{class:['mymeeting-list', {'active':_vm.click4}]},[_c('v-container',[_c('h2',{staticClass:\"title3\"},[_vm._v(\"  \")]),_vm._l((_vm.rooms),function(room){return _c('v-row',{key:room.id},[_c('v-card',{staticClass:\"mx-auto teal room-card\",attrs:{\"elevation\":\"5\",\"color\":\"teal lighten-3\",\"max-width\":\"350\"}},[_c('v-img',{attrs:{\"src\":_vm.GLOBAL.baseURL + '/static/images/'+(1+room.id % 8)+'.jpeg',\"height\":\"90px\"}}),_c('v-card-title',{staticClass:\"room-card-title\"},[(room.host === _vm.GLOBAL.userInfo.id)?_c('v-icon',{attrs:{\"color\":\"teal darken-2\"}},[_vm._v(\" mdi-crown-outline\")]):_vm._e(),_vm._v(\" \"+_vm._s(room.topic)+\" \")],1),_c('v-card-subtitle',[_vm._v(\" \"+_vm._s(room.start_time + ' ~ ' + room.end_time)+\" \")]),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"orange lighten-1\",\"disabled\":room.ended,\"text\":\"\"},on:{\"click\":function($event){return _vm.quickJoin(room)}}},[_vm._v(\" JOIN \")]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){room.show = !room.show}}},[_c('v-icon',[_vm._v(_vm._s(room.show ? 'mdi-chevron-up' : 'mdi-chevron-down'))])],1)],1),_c('v-expand-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(room.show),expression:\"room.show\"}]},[_c('v-divider'),_c('v-card-text',{staticClass:\"meeting-card-text\"},[_vm._v(\" \"+_vm._s(''+room.id)+\" \")]),_c('v-card-text',{staticClass:\"meeting-card-text\"},[_vm._v(\" \"+_vm._s(''+room.password)+\" \")])],1)])],1)],1)})],2)],1),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.click4),expression:\"!click4\"}],class:['history-btn', {'active':_vm.click5}],on:{\"click\":_vm.getHistory}},[_vm._v(\" \"+_vm._s(''+ (_vm.click5 ? '>' : '<')))]),_c('div',{class:['history-list', {'active':_vm.click5}]},[_c('v-container',[_c('h2',{staticClass:\"title3\"},[_vm._v(\"  \")]),_vm._l((_vm.history),function(room,index){return _c('v-row',{key:index},[_c('v-card',{staticClass:\"mx-auto teal room-card\",attrs:{\"elevation\":\"5\",\"color\":\"teal lighten-3\",\"max-width\":\"350\"}},[_c('v-card-title',{staticClass:\"room-card-title\"},[(room.host === _vm.GLOBAL.userInfo.id)?_c('v-icon',{attrs:{\"color\":\"teal darken-2\"}},[_vm._v(\" mdi-crown-outline\")]):_vm._e(),_vm._v(\" \"+_vm._s(room.topic)+\" \")],1),_c('v-card-subtitle',[_vm._v(\" \"+_vm._s(room.start_time + ' ~ ' + room.end_time)+\" \")]),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"orange lighten-1\",\"disabled\":room.ended,\"text\":\"\"},on:{\"click\":function($event){return _vm.quickJoin(room)}}},[_vm._v(\" JOIN \")]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){room.show = !room.show}}},[_c('v-icon',[_vm._v(_vm._s(room.show ? 'mdi-chevron-up' : 'mdi-chevron-down'))])],1)],1),_c('v-expand-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(room.show),expression:\"room.show\"}]},[_c('v-divider'),_c('v-card-text',{staticClass:\"meeting-card-text\"},[_vm._v(\" \"+_vm._s(''+room.id)+\" \")]),_c('v-card-text',{staticClass:\"meeting-card-text\"},[_vm._v(\" \"+_vm._s(''+room.password)+\" \")]),_c('v-card-text',{staticClass:\"meeting-card-text\"},[_vm._v(\" \"+_vm._s('')+\" \")]),_vm._l((room.time),function(time,index){return _c('v-card-text',{key:index,staticClass:\"meeting-card-text-time\"},[_vm._v(\" \"+_vm._s(' ' + time)+\" \")])})],2)])],1)],1)})],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"main-page\">\r\n    <v-snackbar\r\n        top\r\n        color=\"teal lighten-1 white--text\"\r\n        timeout=\"1600\"\r\n        light\r\n        v-model=\"snack\">\r\n      {{snackText}}\r\n    </v-snackbar>\r\n    <div class=\"teal-cover\">\r\n      <h1 class=\"title1 white--text\" :class=\"[{'active':click1||click2||click3}]\">\r\n        \r\n      </h1>\r\n      <h1 class=\"title2 white--text\" :class=\"[{'active':click1||click2||click3}]\">\r\n        MyMeeting  \r\n      </h1>\r\n      <v-container :class=\"['cards-container', {'active':click1||click2||click3}]\">\r\n        <v-row dense>\r\n          <v-col align=\"center\" v-show=\"click1||(!click1&&!click2&&!click3)\" @click=\"click1=true; click4 = click5 = false\">\r\n            <v-card\r\n                class=\"teal lighten-4 function-card\"\r\n                :class=\"[{'active':click1||click2||click3}]\"\r\n                elevation=\"10\"\r\n                :loading=\"loading\"\r\n                :disabled=\"loading\"\r\n                color=\"teal\"\r\n                @mouseenter=\"hover1=true\" @mouseleave=\"hover1=false\"\r\n            >\r\n              <v-icon\r\n                  color=\"#004D4099\" size=\"60px\" class=\"close\" v-show=\"click1\" @click.stop=\"click1=false\">\r\n                mdi-close\r\n              </v-icon>\r\n              <v-icon\r\n                  color=\"white\" size=\"150px\" :class=\"['arrow',{'pos1':hover1, 'pos2':click1}]\" :disabled=\"!valid1 || loading\" @click=\"sendReq\">\r\n                mdi-arrow-right-thick\r\n              </v-icon>\r\n              <p class=\"card-title teal--text text--darken-4\">\r\n                \r\n              </p>\r\n              <p class=\"card-text teal--text text--darken-4\">\r\n                \r\n              </p>\r\n              <v-form v-model=\"valid1\" ref=\"form\">\r\n                <v-container v-if=\"click1\">\r\n                  <v-row dense>\r\n                    <v-col>\r\n                      <v-text-field\r\n                          v-model=\"roomId\"\r\n                          height=\"60px\"\r\n                          outlined\r\n                          :rules=\"idRules\"\r\n                          append-icon=\"mdi-email\"\r\n                          label=\"\"\r\n                          color=\"teal darken-1\"\r\n                          required\r\n                      ></v-text-field>\r\n                    </v-col>\r\n                  </v-row>\r\n                  <v-row dense>\r\n                    <v-col>\r\n                      <v-text-field\r\n                          v-model=\"password\"\r\n                          outlined\r\n                          height=\"60px\"\r\n                          type=\"password\"\r\n                          :rules=\"passwordRules\"\r\n                          append-icon=\"mdi-dialpad\"\r\n                          label=\"\"\r\n                          color=\"teal darken-1\"\r\n                          required\r\n                      ></v-text-field>\r\n                    </v-col>\r\n                  </v-row>\r\n                </v-container>\r\n              </v-form>\r\n            </v-card>\r\n          </v-col>\r\n          <v-col align=\"center\" v-show=\"click2||(!click1&&!click2&&!click3)\" @click=\"click2=true; click4 = click5 = false\">\r\n            <v-card\r\n                class=\"teal lighten-4 function-card\"\r\n                :class=\"[{'active':click1||click2||click3}]\"\r\n                elevation=\"10\"\r\n                :loading=\"loading\"\r\n                :disabled=\"loading\"\r\n                @mouseenter=\"hover2=true\" @mouseleave=\"hover2=false\"\r\n            >\r\n              <v-icon\r\n                  color=\"#004D4099\" size=\"60px\" class=\"close\" v-show=\"click2\" @click.stop=\"click2=false\">\r\n                mdi-close\r\n              </v-icon>\r\n              <v-icon\r\n                  color=\"white\" size=\"150px\" :class=\"['arrow',{'pos1':hover2, 'pos2':click2}]\" :disabled=\"!valid2 || loading\" @click=\"sendReq\">\r\n                mdi-arrow-right-thick\r\n              </v-icon>\r\n              <p class=\"card-title teal--text text--darken-4\">\r\n                \r\n              </p>\r\n              <p class=\"card-text teal--text text--darken-4\">\r\n                \r\n              </p>\r\n              <v-form v-model=\"valid2\" ref=\"form\">\r\n                <v-container v-if=\"click2\">\r\n                  <v-row dense>\r\n                    <v-col>\r\n                      <v-text-field\r\n                          v-model=\"topic\"\r\n                          :rules=\"topicRules\"\r\n                          height=\"60px\"\r\n                          outlined\r\n                          append-icon=\"mdi-format-title\"\r\n                          label=\"\"\r\n                          color=\"teal darken-1\"\r\n                          required\r\n                      ></v-text-field>\r\n                    </v-col>\r\n                    <v-col>\r\n                      <v-text-field\r\n                          v-model=\"max_num\"\r\n                          height=\"60px\"\r\n                          outlined\r\n                          append-icon=\"mdi-numeric\"\r\n                          label=\"\"\r\n                          color=\"teal darken-1\"\r\n                          required\r\n                      ></v-text-field>\r\n                    </v-col>\r\n                  </v-row>\r\n                  <v-row dense>\r\n                    <v-col>\r\n                      <v-text-field\r\n                          v-model=\"password\"\r\n                          outlined\r\n                          height=\"60px\"\r\n                          type=\"password\"\r\n                          :rules=\"passwordRules\"\r\n                          append-icon=\"mdi-dialpad\"\r\n                          label=\"\"\r\n                          color=\"teal darken-1\"\r\n                          required\r\n                      ></v-text-field>\r\n                    </v-col>\r\n                  </v-row>\r\n                </v-container>\r\n              </v-form>\r\n            </v-card>\r\n          </v-col>\r\n          <v-col align=\"center\" v-show=\"click3||(!click1&&!click2&&!click3)\" @click=\"click3=true; click4 = click5 = false\">\r\n            <v-card\r\n                class=\"teal lighten-4 function-card\"\r\n                :class=\"[{'active':click1||click2||click3}]\"\r\n                elevation=\"10\"\r\n                :loading=\"loading\"\r\n                :disabled=\"loading\"\r\n                @mouseenter=\"hover3=true\" @mouseleave=\"hover3=false\"\r\n            >\r\n              <v-overlay\r\n                  v-show=\"selecting_start_time || selecting_end_time || selecting_end_date || selecting_start_date\">\r\n                <v-icon @click=\"selecting_start_date = selecting_start_time = selecting_end_time = selecting_end_date = false\" class=\"close-picker\"> mdi-close</v-icon>\r\n                <v-date-picker\r\n                    v-show=\"selecting_start_date\"\r\n                    v-model=\"start_date\"\r\n                    class=\"mt-4\"\r\n                    elevation=\"8\"\r\n                    color=\"teal\"\r\n                    light\r\n                    :min=\"now_date\"\r\n                ></v-date-picker>\r\n                <v-time-picker\r\n                    v-show=\"selecting_start_time\"\r\n                    v-model=\"start_time\"\r\n                    class=\"mt-4\"\r\n                    light\r\n                    elevation=\"8\"\r\n                    format=\"24hr\"\r\n                    color=\"teal\"\r\n                    scrollable\r\n                    :min=\"now_time\"\r\n                ></v-time-picker>\r\n                <v-date-picker\r\n                    v-show=\"selecting_end_date\"\r\n                    v-model=\"end_date\"\r\n                    class=\"mt-4\"\r\n                    elevation=\"8\"\r\n                    color=\"teal\"\r\n                    light\r\n                    :min=\"start_date\"\r\n                ></v-date-picker>\r\n                <v-time-picker\r\n                    v-show=\"selecting_end_time\"\r\n                    v-model=\"end_time\"\r\n                    class=\"mt-4\"\r\n                    light\r\n                    elevation=\"8\"\r\n                    format=\"24hr\"\r\n                    color=\"teal\"\r\n                    scrollable\r\n                    :min=\"start_time\"\r\n                ></v-time-picker>\r\n              </v-overlay>\r\n              <v-icon\r\n                  color=\"#004D4099\" size=\"60px\" class=\"close\" v-show=\"click3\" @click.stop=\"click3=false\">\r\n                mdi-close\r\n              </v-icon>\r\n              <v-icon\r\n                  color=\"white\" size=\"150px\" :class=\"['arrow',{'pos1':hover3, 'pos2':click3}]\"  :disabled=\"!valid3||loading\" @click=\"sendReq\">\r\n                mdi-arrow-right-thick\r\n              </v-icon>\r\n              <p class=\"card-title teal--text text--darken-4\">\r\n                \r\n              </p>\r\n              <p class=\"card-text teal--text text--darken-4\">\r\n                \r\n              </p>\r\n              <v-form v-model=\"valid3\" ref=\"form\">\r\n                <v-container v-if=\"click3\">\r\n                  <v-row dense>\r\n                    <v-col>\r\n                      <v-text-field\r\n                          v-model=\"topic\"\r\n                          :rules=\"topicRules\"\r\n                          height=\"50px\"\r\n                          outlined\r\n                          append-icon=\"mdi-format-title\"\r\n                          label=\"\"\r\n                          color=\"teal darken-1\"\r\n                          required\r\n                      ></v-text-field>\r\n                    </v-col>\r\n                    <v-col>\r\n                      <v-text-field\r\n                          v-model=\"max_num\"\r\n                          height=\"50px\"\r\n                          outlined\r\n                          append-icon=\"mdi-numeric\"\r\n                          label=\"\"\r\n                          color=\"teal darken-1\"\r\n                          required\r\n                      ></v-text-field>\r\n                    </v-col>\r\n                  </v-row>\r\n                  <v-row dense>\r\n                    <v-col>\r\n                      <v-text-field\r\n                          v-model=\"password\"\r\n                          outlined\r\n                          height=\"50px\"\r\n                          type=\"password\"\r\n                          :rules=\"passwordRules\"\r\n                          append-icon=\"mdi-dialpad\"\r\n                          label=\"\"\r\n                          color=\"teal darken-1\"\r\n                          required\r\n                      ></v-text-field></v-col>\r\n                  </v-row>\r\n                  <v-row dense>\r\n                    <v-col>\r\n                      <v-text-field\r\n                          v-model=\"start_date\"\r\n                          outlined\r\n                          height=\"45px\"\r\n                          append-icon=\"mdi-calendar-range\"\r\n                          label=\"\"\r\n                          color=\"teal darken-1\"\r\n                          required\r\n                          @focusin=\"selecting_start_date = true\"\r\n                      ></v-text-field>\r\n                    </v-col>\r\n                    <v-col>\r\n                      <v-text-field\r\n                          v-model=\"start_time\"\r\n                          outlined\r\n                          height=\"45px\"\r\n                          append-icon=\"mdi-clock-time-four-outline\"\r\n                          label=\"\"\r\n                          color=\"teal darken-1\"\r\n                          required\r\n                          @focusin=\"selecting_start_time = true\"\r\n                      ></v-text-field>\r\n                    </v-col>\r\n                  </v-row>\r\n                  <v-row dense>\r\n                    <v-col>\r\n                      <v-text-field\r\n                          v-model=\"end_date\"\r\n                          height=\"45px\"\r\n                          outlined\r\n                          append-icon=\"mdi-calendar\"\r\n                          label=\"\"\r\n                          color=\"teal darken-1\"\r\n                          required\r\n                          @focusin=\"selecting_end_date = true\"\r\n                      ></v-text-field>\r\n                    </v-col>\r\n                    <v-col>\r\n                      <v-text-field\r\n                          v-model=\"end_time\"\r\n                          height=\"45px\"\r\n                          outlined\r\n                          append-icon=\"mdi-clock-time-five-outline\"\r\n                          label=\"\"\r\n                          color=\"teal darken-1\"\r\n                          required\r\n                          @focusin=\"selecting_end_time = true\"\r\n                      ></v-text-field>\r\n                    </v-col>\r\n                  </v-row>\r\n                </v-container>\r\n              </v-form>\r\n            </v-card>\r\n          </v-col>\r\n        </v-row>\r\n      </v-container>\r\n    </div>\r\n    <button\r\n        :class=\"['mymeeting-btn', {'active':click4}]\"\r\n        @click=\"getMeetings\" v-show=\"!click5\">\r\n      {{''+ (click4 ? '>' : '&lt;')}}</button>\r\n    <div\r\n        :class=\"['mymeeting-list', {'active':click4}]\">\r\n      <v-container>\r\n        <h2 class=\"title3\">\r\n          \r\n        </h2>\r\n        <v-row v-for=\"room in rooms\" :key=\"room.id\">\r\n          <v-card\r\n              elevation=\"5\"\r\n              class=\"mx-auto teal room-card\"\r\n              color=\"teal lighten-3\"\r\n              max-width=\"350\"\r\n          ><v-img\r\n              :src=\"GLOBAL.baseURL + '/static/images/'+(1+room.id % 8)+'.jpeg'\"\r\n              height=\"90px\"\r\n          ></v-img>\r\n            <v-card-title class=\"room-card-title\">\r\n              <v-icon color=\"teal darken-2\" v-if=\"room.host === GLOBAL.userInfo.id\"> mdi-crown-outline</v-icon>\r\n              {{room.topic}}\r\n            </v-card-title>\r\n            <v-card-subtitle>\r\n              {{room.start_time + ' ~ ' + room.end_time}}\r\n            </v-card-subtitle>\r\n\r\n            <v-card-actions>\r\n              <v-btn\r\n                  color=\"orange lighten-1\"\r\n                  :disabled=\"room.ended\"\r\n                  text\r\n                  @click=\"quickJoin(room)\"\r\n              >\r\n                JOIN\r\n              </v-btn>\r\n\r\n              <v-spacer></v-spacer>\r\n\r\n              <v-btn\r\n                  icon\r\n                  @click=\"room.show = !room.show\"\r\n              >\r\n                <v-icon>{{ room.show ? 'mdi-chevron-up' : 'mdi-chevron-down' }}</v-icon>\r\n              </v-btn>\r\n            </v-card-actions>\r\n\r\n            <v-expand-transition>\r\n              <div v-show=\"room.show\">\r\n                <v-divider></v-divider>\r\n                <v-card-text class=\"meeting-card-text\">\r\n                  {{''+room.id}}\r\n                </v-card-text>\r\n                <v-card-text class=\"meeting-card-text\">\r\n                  {{''+room.password}}\r\n                </v-card-text>\r\n              </div>\r\n            </v-expand-transition>\r\n          </v-card>\r\n        </v-row>\r\n      </v-container>\r\n    </div>\r\n    <button\r\n        :class=\"['history-btn', {'active':click5}]\"\r\n        @click=\"getHistory\" v-show=\"!click4\">\r\n      {{''+ (click5 ? '>' : '&lt;')}}</button>\r\n    <div\r\n        :class=\"['history-list', {'active':click5}]\">\r\n      <v-container>\r\n        <h2 class=\"title3\">\r\n          \r\n        </h2>\r\n        <v-row v-for=\"(room, index) in history\" v-bind:key=\"index\">\r\n          <v-card\r\n              elevation=\"5\"\r\n              class=\"mx-auto teal room-card\"\r\n              color=\"teal lighten-3\"\r\n              max-width=\"350\"\r\n          >\r\n            <v-card-title class=\"room-card-title\">\r\n              <v-icon color=\"teal darken-2\" v-if=\"room.host === GLOBAL.userInfo.id\"> mdi-crown-outline</v-icon>\r\n              {{room.topic}}\r\n            </v-card-title>\r\n            <v-card-subtitle>\r\n              {{room.start_time + ' ~ ' + room.end_time}}\r\n            </v-card-subtitle>\r\n\r\n            <v-card-actions>\r\n              <v-btn\r\n                  color=\"orange lighten-1\"\r\n                  :disabled=\"room.ended\"\r\n                  text\r\n                  @click=\"quickJoin(room)\"\r\n              >\r\n                JOIN\r\n              </v-btn>\r\n\r\n              <v-spacer></v-spacer>\r\n\r\n              <v-btn\r\n                  icon\r\n                  @click=\"room.show = !room.show\"\r\n              >\r\n                <v-icon>{{ room.show ? 'mdi-chevron-up' : 'mdi-chevron-down' }}</v-icon>\r\n              </v-btn>\r\n            </v-card-actions>\r\n\r\n            <v-expand-transition>\r\n              <div v-show=\"room.show\">\r\n                <v-divider></v-divider>\r\n                <v-card-text class=\"meeting-card-text\">\r\n                  {{''+room.id}}\r\n                </v-card-text>\r\n                <v-card-text class=\"meeting-card-text\">\r\n                  {{''+room.password}}\r\n                </v-card-text>\r\n                <v-card-text class=\"meeting-card-text\">\r\n                  {{''}}\r\n                </v-card-text>\r\n                <v-card-text class=\"meeting-card-text-time\" v-for=\"(time, index) in room.time\" :key=\"index\">\r\n                  {{' ' + time}}\r\n                </v-card-text>\r\n              </div>\r\n            </v-expand-transition>\r\n          </v-card>\r\n        </v-row>\r\n      </v-container>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport moment from \"moment\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"Main\",\r\n  components: {\r\n  },\r\n  data(){\r\n    return{\r\n      hover1 : false,\r\n      click1 : false,\r\n      hover2 : false,\r\n      click2 : false,\r\n      hover3 : false,\r\n      click3 : false,\r\n      click4 : false,\r\n      click5 : false,\r\n      loading : false,\r\n      snack : false,\r\n      valid1 : false,\r\n      show : false,\r\n      valid2 : false,\r\n      valid3 : false,\r\n      snackText : \"\",\r\n      roomId : \"\",\r\n      password : \"\",\r\n      topic : \"\",\r\n      rooms : [],\r\n      history : [],\r\n      start_time :  moment().format(\"HH:mm\"),\r\n      end_time : moment().add(2, 'h').format(\"HH:mm\"),\r\n      start_date : moment().format(\"YYYY-MM-DD\"),\r\n      end_date :  moment().format(\"YYYY-MM-DD\"),\r\n      now_time : moment().format(\"HH:mm\"),\r\n      now_date : moment().format(\"YYYY-MM-DD\"),\r\n      max_num : 10,\r\n      topicRules: [\r\n        v => !!v || '',\r\n      ],\r\n      idRules :[\r\n        v => !!v || '',\r\n        v => /^[0-9]*$/.test(v) || '',\r\n      ],\r\n      passwordRules: [\r\n        v => /^[0-9]{8}$/.test(v) || '',\r\n      ],\r\n      selecting_start_time: false,\r\n      selecting_start_date: false,\r\n      selecting_end_time: false,\r\n      selecting_end_date: false,\r\n    }\r\n  },\r\n  methods:{\r\n    async sendReq(){\r\n      if (this.click1){\r\n        this.loading = true;\r\n        try{\r\n          const response = await axios(\r\n              {\r\n                method : 'post',\r\n                url : this.GLOBAL.baseURL + '/getRoom',\r\n                data : {\r\n                  'id' : this.roomId,\r\n                  'password' : this.password,\r\n                  'token' : this.GLOBAL.userInfo.token\r\n                }\r\n              })\r\n          this.GLOBAL.roomInfo = response.data.room;\r\n          this.snackText = '';\r\n          this.snack = true;\r\n          this.loading = false;\r\n          this.click1 = false;\r\n          setTimeout(()=>{this.$emit('join');},1600)\r\n        }catch(error){\r\n          if (error.response){\r\n            this.snackText = error.response.data.error;\r\n          }\r\n          else{\r\n            this.snackText = ''\r\n          }\r\n          this.snack = true;\r\n          this.loading = false;\r\n        }\r\n      }\r\n      else if(this.click3){\r\n        this.loading = true;\r\n        try{\r\n          const response = await axios(\r\n              {\r\n                method : 'post',\r\n                url : this.GLOBAL.baseURL + '/reserve',\r\n                data : {\r\n                  'token' : this.GLOBAL.userInfo.token,\r\n                  'topic' : this.topic,\r\n                  'password' : this.password,\r\n                  'start_time' : this.start_date + ' ' + this.start_time + ':00',\r\n                  'end_time' : this.end_date + ' ' + this.end_time + ':00',\r\n                  'max_num' : this.max_num,\r\n                }\r\n              })\r\n          this.GLOBAL.roomInfo = response.data.room;\r\n          this.snackText = '';\r\n          this.snack = true;\r\n          this.loading = false;\r\n          this.click3 = false;\r\n        }catch(error){\r\n          if (error.response){\r\n            this.snackText = error.response.data.error;\r\n          }\r\n          else{\r\n            this.snackText = ''\r\n          }\r\n          this.snack = true;\r\n          this.loading = false;\r\n        }\r\n      }\r\n      else if(this.click2){\r\n        this.loading = true;\r\n        try{\r\n          const response = await axios(\r\n              {\r\n                method : 'post',\r\n                url : this.GLOBAL.baseURL + '/reserve',\r\n                data : {\r\n                  'token' : this.GLOBAL.userInfo.token,\r\n                  'topic' : this.topic,\r\n                  'password' : this.password,\r\n                  'start_time' : moment().format(\"YYYY-MM-DD HH:mm:ss\"),\r\n                  'end_time' : moment().add(4, 'h').format(\"YYYY-MM-DD HH:mm:ss\"),\r\n                  'max_num' : this.max_num,\r\n                }\r\n              })\r\n          this.GLOBAL.roomInfo = response.data.room;\r\n          this.snackText = '';\r\n          this.snack = true;\r\n          this.loading = false;\r\n          this.click2 = false;\r\n          setTimeout(()=>{this.$emit('join');},1000)\r\n        }catch(error){\r\n          if (error.response){\r\n            this.snackText = error.response.data.error;\r\n          }\r\n          else{\r\n            this.snackText = ''\r\n          }\r\n          this.snack = true;\r\n          this.loading = false;\r\n        }\r\n      }\r\n    },\r\n    async getMeetings(){\r\n      this.click4 = !this.click4;\r\n      if (this.click4){\r\n        try{\r\n          const response =await axios(\r\n              {\r\n                method : 'post',\r\n                url : this.GLOBAL.baseURL + '/getReservations',\r\n                data : {\r\n                  'token' : this.GLOBAL.userInfo.token,\r\n                }\r\n              })\r\n          response.data.rooms.forEach((room)=>{\r\n            room.show = false;\r\n            room.ended = moment(room.end_time).isBefore(moment());\r\n          });\r\n          this.rooms = response.data.rooms\r\n          console.log(response);\r\n        }catch(error){\r\n          console.log(error);\r\n        }\r\n      }\r\n    },\r\n    async getHistory(){\r\n      this.click5 = !this.click5;\r\n      if (this.click5){\r\n        try{\r\n          const response =await axios(\r\n              {\r\n                method : 'post',\r\n                url : this.GLOBAL.baseURL + '/getHistory',\r\n                data : {\r\n                  'token' : this.GLOBAL.userInfo.token,\r\n                }\r\n              })\r\n          let roomList = [];\r\n          response.data.history.forEach((rec)=>{\r\n            if(roomList.indexOf(rec.id) === -1){\r\n              roomList.push(rec.id);\r\n              rec.show = false;\r\n              rec.time = [rec.time]\r\n              rec.ended = moment(rec.end_time).isBefore(moment());\r\n              this.history.push(rec)\r\n            }else{\r\n              this.history[roomList.indexOf(rec.id)].time.push(rec.time)\r\n            }\r\n          })\r\n          console.log(response);\r\n        }catch(error){\r\n          console.log(error);\r\n        }\r\n      }\r\n    },\r\n    async quickJoin(room){\r\n      this.loading = true;\r\n      try{\r\n        const response = await axios(\r\n            {\r\n              method : 'post',\r\n              url : this.GLOBAL.baseURL + '/getRoom',\r\n              data : {\r\n                'id' : room.id,\r\n                'password' : room.password,\r\n                'token' : this.GLOBAL.userInfo.token\r\n              }\r\n            })\r\n        this.GLOBAL.roomInfo = response.data.room;\r\n        this.snackText = '';\r\n        this.snack = true;\r\n        this.loading = false;\r\n        setTimeout(()=>{this.$emit('join');},1000)\r\n      }catch(error){\r\n        if (error.response){\r\n          this.snackText = error.response.data.error;\r\n        }\r\n        else{\r\n          this.snackText = ''\r\n        }\r\n        this.snack = true;\r\n        this.loading = false;\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.main-page{\r\n  min-width: 600px;\r\n  overflow: auto;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-size: cover;\r\n  background: #000000;\r\n  //background-image: url(\"http://se-summer.cn:4446/static/images/bg2.gif\");\r\n}\r\n.teal-cover{\r\n  overflow: hidden;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-image: linear-gradient(to bottom left, #00897B00, #00897Bdd);\r\n}\r\n.title1{\r\n  font-family: \"Microsoft YaHei UI\", serif;\r\n  font-size: 72px;\r\n  font-weight: bold;\r\n  margin-top: 20vh;\r\n  margin-left: 60px;\r\n  transition: 0.25s ease-in-out;\r\n}\r\n.title1.active{\r\n  margin-top: 50px;\r\n  transition: 0.25s ease-in-out;\r\n}\r\n.title2{\r\n  font-family: \"Microsoft YaHei UI\", serif;\r\n  font-size: 24px;\r\n  font-style: italic;\r\n  font-weight: lighter;\r\n  margin-top: 10px;\r\n  margin-left: 60px;\r\n  transition: 0.25s ease-in-out;\r\n}\r\n.title2.active{\r\n  opacity: 0;\r\n  height: 0;\r\n  transition: 0.25s ease-in-out;\r\n}\r\n.title3{\r\n  text-align: center;\r\n  font-family: \"Microsoft YaHei UI\", serif;\r\n  font-size: 40px;\r\n  font-weight: bold;\r\n  color: white;\r\n  margin: 10px;\r\n}\r\n.card-title{\r\n  font-family: \"Microsoft YaHei UI\", serif;\r\n  font-size: 42px;\r\n  font-weight: bold;\r\n  text-align: left;\r\n}\r\n.card-text{\r\n  font-family: \"Microsoft YaHei UI\", serif;\r\n  font-size: 16px;\r\n  text-align: left;\r\n  margin-left: 10%;\r\n}\r\n.cards-container{\r\n  margin-top: calc(36vh - 190px);\r\n  transition: all 0.15s ease-out;\r\n}\r\n.cards-container.active{\r\n  margin-top: 0;\r\n  transition: all 0.15s ease-out;\r\n}\r\n.function-card{\r\n  padding: 5% 8%;\r\n  margin: 5vh 10%;\r\n  transition: all 0.2s ease-out;\r\n  overflow: hidden;\r\n  background-image: linear-gradient(to bottom, #00897B00, #00695Cdd);\r\n}\r\n.function-card:hover{\r\n  transition: all 0.15s ease-out;\r\n  transform: scale(1.05);\r\n  cursor: pointer;\r\n}\r\n.function-card.active{\r\n  transform: scale(1);\r\n  margin: 5% 15% 0 15%;\r\n  padding: 1% 10% 0 10%;\r\n  transition: all 0.2s ease-out;\r\n}\r\n.function-card.active:hover{\r\n  cursor: default;\r\n}\r\n.arrow{\r\n  position: absolute;\r\n  bottom: -50px;\r\n  left: -90px;\r\n  transition: all 0.15s ease-in;\r\n}\r\n.arrow.pos1{\r\n  transition: all 0.15s ease-in;\r\n  left: -40px;\r\n  cursor: default;\r\n}\r\n.arrow.pos2{\r\n  transition: all 0.3s ease-in;\r\n  bottom: auto;\r\n  left: 80%;\r\n  cursor: pointer;\r\n}\r\n.close{\r\n  transition: 0.2s linear;\r\n  position: absolute;\r\n  top: 5px;\r\n  left: 5px;\r\n}\r\n.close:hover{\r\n  transition: 0.2s linear;\r\n  transform: scale(1.1);\r\n  position: absolute;\r\n}\r\n\r\n.mymeeting-btn{\r\n  font-family: \"Microsoft YaHei UI\", serif;\r\n  font-weight: bold;\r\n  font-size: 18px;\r\n  padding: 15px;\r\n  position: absolute;\r\n  width: 45px;\r\n  bottom: 20px;\r\n  background-image: linear-gradient(to bottom, #80CBC4ff, #00695Cdd);\r\n  right: 0;\r\n  outline: none;\r\n  transition: 0.2s ease-in-out;\r\n  border-bottom-left-radius: 10px;\r\n  border-top-left-radius: 10px;\r\n}\r\n.mymeeting-btn:hover {\r\n  background-image: linear-gradient(to bottom, #80CBC4cc, #00695Cdd);}\r\n.mymeeting-btn.active:hover {\r\n  background-image: linear-gradient(to bottom, #80CBC4ff, #00695Cdd);\r\n}\r\n.mymeeting-btn.active{\r\n  right: 40%;\r\n  bottom: 70%;\r\n  transition: 0.2s ease-in-out;\r\n  background-image: linear-gradient(to bottom, #80CBC4cc, #00695Cdd);\r\n}\r\n.history-btn{\r\n  font-family: \"Microsoft YaHei UI\", serif;\r\n  font-weight: bold;\r\n  font-size: 18px;\r\n  padding: 15px;\r\n  position: absolute;\r\n  width: 45px;\r\n  bottom: 200px;\r\n  background-image: linear-gradient(to bottom, #80CBC4ff, #00695Cdd);\r\n  right: 0;\r\n  outline: none;\r\n  transition: 0.2s ease-in-out;\r\n  border-bottom-left-radius: 10px;\r\n  border-top-left-radius: 10px;\r\n}\r\n.history-btn:hover {\r\n  background-image: linear-gradient(to bottom, #80CBC4cc, #00695Cdd);}\r\n.history-btn.active:hover {\r\n  background-image: linear-gradient(to bottom, #80CBC4ff, #00695Cdd);\r\n}\r\n.history-btn.active{\r\n  right: 40%;\r\n  bottom: 70%;\r\n  transition: 0.2s ease-in-out;\r\n  background-image: linear-gradient(to bottom, #80CBC4cc, #00695Cdd);\r\n}\r\n\r\n.mymeeting-list{\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n  width: 0;\r\n  height: 100%;\r\n  overflow: auto;\r\n  transition: 0.3s ease-in-out;\r\n  background-image: linear-gradient(to right, #00897B08, #00897Bff);\r\n}\r\n.mymeeting-list.active{\r\n  width: 40%;\r\n  transition: 0.3s ease-in-out;\r\n}\r\n\r\n.history-list{\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n  width: 0;\r\n  height: 100%;\r\n  overflow: auto;\r\n  transition: 0.3s ease-in-out;\r\n  background-image: linear-gradient(to right, #00897B08, #00897Bff);\r\n}\r\n.history-list.active{\r\n  width: 40%;\r\n  transition: 0.3s ease-in-out;\r\n}\r\n.room-card{\r\n  margin: 20px;\r\n}\r\n.room-card-title{\r\n  font-family: \"Microsoft YaHei UI\", serif;\r\n}\r\n.meeting-card-text{\r\n  margin-left: 20px;\r\n  margin-top: 10px;\r\n  margin-bottom: 5px;\r\n  padding: 0;\r\n}\r\n.meeting-card-text-time{\r\n  margin-left: 60px;\r\n  margin-top: 5px;\r\n  margin-bottom: 3px;\r\n  padding: 0;\r\n}\r\n@keyframes effect {\r\n  from {\r\n    background-image: linear-gradient(to bottom left, #00897B00, #00897Bdd);\r\n  }\r\n  to {\r\n    background-image: linear-gradient(to bottom left, #00897Bdd, #00897B00);\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main_Web.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main_Web.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Main_Web.vue?vue&type=template&id=01ada8fa&scoped=true&\"\nimport script from \"./Main_Web.vue?vue&type=script&lang=js&\"\nexport * from \"./Main_Web.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Main_Web.vue?vue&type=style&index=0&id=01ada8fa&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01ada8fa\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VExpandTransition } from 'vuetify/lib/components/transitions';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTimePicker } from 'vuetify/lib/components/VTimePicker';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardSubtitle,VCardText,VCardTitle,VCol,VContainer,VDatePicker,VDivider,VExpandTransition,VForm,VIcon,VImg,VOverlay,VRow,VSnackbar,VSpacer,VTextField,VTimePicker})\n","<template>\r\n  <v-app class=\"mymeeting-app\">\r\n    <v-main class=\"main\">\r\n      <cube :account=\"page === 'account'\" @settings=\"page = 'account'\" @back=\"page = 'main'\"></cube>\r\n      <transition name=\"test\">\r\n        <Main v-show=\"page === 'main'\" @join=\"$emit('join')\"></Main>\r\n      </transition>\r\n    </v-main>\r\n\r\n    <v-footer padless v-if=\"page === 'account'\" color=\"grey darken-4\" class=\"white--text\">\r\n      <v-col\r\n          class=\"text-center\"\r\n          cols=\"12\"\r\n      >\r\n        - {{ new Date().getFullYear() }}  <strong>MyMeeting </strong>-\r\n      </v-col>\r\n    </v-footer>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nimport cube from \"../components/cube_web\";\r\nimport Main from \"../components/Main_Web\";\r\nexport default {\r\n  name: 'loginPage',\r\n\r\n  components: {\r\n    cube,\r\n    Main,\r\n  },\r\n\r\n  data(){\r\n    return{\r\n      page : 'account',\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style>\r\nhtml::-webkit-scrollbar{\r\n  display: none;\r\n}\r\n.test-enter,.test-leave-to{\r\n  opacity: 0;\r\n}\r\n.test-enter-to,.test-leave{\r\n  opacity: 1;\r\n}\r\n.test-leave-active{\r\n  transition: all 0.5s;\r\n}\r\n.main{\r\n  background-color: #102220;\r\n}\r\n.appbar-title{\r\n  -webkit-app-region: drag;\r\n  width: 100%;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loginPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loginPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./loginPage.vue?vue&type=template&id=6a4b0e72&\"\nimport script from \"./loginPage.vue?vue&type=script&lang=js&\"\nexport * from \"./loginPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./loginPage.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VFooter } from 'vuetify/lib/components/VFooter';\nimport { VMain } from 'vuetify/lib/components/VMain';\ninstallComponents(component, {VApp,VCol,VFooter,VMain})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"id\":\"mainWindow\"}},[_c('v-snackbar',{attrs:{\"top\":\"\",\"color\":\"red white--text\",\"timeout\":\"1600\",\"light\":\"\"},model:{value:(_vm.snack),callback:function ($$v) {_vm.snack=$$v},expression:\"snack\"}},[_vm._v(\" \"+_vm._s(_vm.snackText)+\" \")]),_c('v-app-bar',{attrs:{\"app\":\"\",\"clipped-right\":\"\",\"flat\":\"\",\"height\":\"45\"}},[_c('div',[_c('v-menu',{attrs:{\"bottom\":\"\",\"right\":\"\",\"nudge-right\":\"40px\",\"transition\":\"scale-transition\",\"attach\":\"\",\"max-width\":\"400px\",\"max-height\":\"200px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticStyle:{\"margin-left\":\"5px\"},attrs:{\"small\":\"\",\"icon\":\"\",\"color\":\"gray\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-information-outline\")])],1)]}}])},[_c('v-card',[_c('v-card-text',[_c('div',[_vm._v(\" : \"+_vm._s(_vm.GLOBAL.roomInfo.topic))]),_c('div',[_vm._v(\" : \"+_vm._s(_vm.GLOBAL.roomInfo.id))]),_c('div',[_vm._v(\" : \"+_vm._s(_vm.GLOBAL.roomInfo.password))]),_c('div',[_vm._v(\" : \"+_vm._s(_vm.GLOBAL.roomInfo.start_time))]),_c('div',[_vm._v(\" : \"+_vm._s(_vm.GLOBAL.roomInfo.end_time))])])],1)],1)],1),_c('v-spacer'),_c('div',{staticStyle:{\"font-size\":\"small\",\"color\":\"grey\"}},[_vm._v(\" : \"+_vm._s(_vm.GLOBAL.roomInfo.id))]),_c('v-spacer'),_c('div',[_c('v-chip',{attrs:{\"small\":\"\"}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\" mdi-clock-outline \")]),_vm._v(\" \"+_vm._s(_vm.currTime)+\" \")],1),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"red\"},on:{\"click\":function($event){_vm.exitDialog = true}}},[_c('v-icon',{attrs:{\"color\":\"red\",\"left\":\"\",\"size\":\"20\"}},[_vm._v(\"mdi-exit-to-app\")]),_vm._v(\" \")],1),_c('v-dialog',{attrs:{\"width\":\"500\",\"attach\":\"#mainWindow\"},model:{value:(_vm.exitDialog),callback:function ($$v) {_vm.exitDialog=$$v},expression:\"exitDialog\"}},[_c('v-card',{staticStyle:{\"text-align\":\"center\"}},[_c('p',{staticStyle:{\"font-weight\":\"bold\",\"font-size\":\"20px\",\"color\":\"firebrick\"}},[_vm._v(\"\")]),_c('p',{staticStyle:{\"font-size\":\"12px\",\"color\":\"gray\",\"margin\":\"20px 0 20px 0\"}},[_vm._v(\" \"+_vm._s((_vm.GLOBAL.roomInfo.host === _vm.GLOBAL.userInfo.id) ? \"\" : \"\")+\" \")]),_c('v-checkbox',{staticStyle:{\"margin-left\":\"36%\"},attrs:{\"color\":\"teal\",\"label\":\"\"},model:{value:(_vm.exportMemeCheckBox),callback:function ($$v) {_vm.exportMemeCheckBox=$$v},expression:\"exportMemeCheckBox\"}}),_c('v-divider'),_c('div',{staticStyle:{\"margin\":\"10px 0 0 0\"}},[_c('v-btn',{staticClass:\"ma-2\",attrs:{\"outlined\":\"\"},on:{\"click\":function($event){_vm.exitDialog = false}}},[_vm._v(\"\")]),_c('v-btn',{staticClass:\"ma-2\",attrs:{\"outlined\":\"\",\"color\":\"teal\"},on:{\"click\":_vm.leaveMeeting}},[_vm._v(\"\")]),(_vm.GLOBAL.roomInfo.host === _vm.GLOBAL.userInfo.id)?_c('v-btn',{staticClass:\"ma-2\",attrs:{\"outlined\":\"\",\"color\":\"red\"},on:{\"click\":_vm.closeMeeting}},[_vm._v(\"\")]):_vm._e()],1)],1)],1)],1)],1),_c('v-navigation-drawer',{attrs:{\"app\":\"\",\"width\":\"280\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-navigation-drawer',{attrs:{\"absolute\":\"\",\"color\":\"grey lighten-3\",\"mini-variant\":\"\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-avatar',{staticClass:\"d-block text-center mx-auto mt-4\",attrs:{\"color\":\"grey darken-1\",\"size\":\"36\"}},[_c('v-img',{attrs:{\"src\":_vm.GLOBAL.baseURL + _vm.GLOBAL.userInfo.portrait},scopedSlots:_vm._u([{key:\"placeholder\",fn:function(){return [_c('div',{staticStyle:{\"margin-top\":\"7px\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"20\",\"color\":\"grey lighten-5\"}})],1)]},proxy:true}])})],1),_c('v-divider',{staticClass:\"mx-3 my-5\"}),_c('v-btn',{staticClass:\"d-block text-center mx-auto mb-9\",attrs:{\"icon\":\"\",\"color\":_vm.videoIcon.color},on:{\"click\":_vm.videoSwitch}},[_c('v-icon',[_vm._v(_vm._s(this.videoIcon.icon))])],1),_c('v-btn',{staticClass:\"d-block text-center mx-auto mb-9\",attrs:{\"icon\":\"\",\"color\":_vm.microIcon.color},on:{\"click\":_vm.microSwitch}},[_c('v-icon',[_vm._v(_vm._s(this.microIcon.icon))])],1),_c('v-btn',{staticClass:\"d-block text-center mx-auto mb-9\",attrs:{\"icon\":\"\",\"color\":_vm.screenIcon.color},on:{\"click\":_vm.screenSwitch}},[_c('v-icon',[_vm._v(_vm._s(this.screenIcon.icon))])],1),_c('v-btn',{staticClass:\"d-block text-center mx-auto mb-9\",attrs:{\"icon\":\"\",\"color\":_vm.captionIcon.color},on:{\"click\":_vm.captionSwitch}},[_c('v-icon',[_vm._v(_vm._s(this.captionIcon.icon))])],1),_c('setting-dialog',{on:{\"changeSettings\":_vm.changeSettings}}),(_vm.isHost)?_c('v-btn',{staticClass:\"d-block text-center mx-auto mb-9\",attrs:{\"icon\":\"\",\"color\":\"yellow darken-3\"},on:{\"click\":_vm.muteAll}},[_c('v-badge',{attrs:{\"color\":\"yellow darken-3\",\"content\":\"all\",\"light\":\"\",\"offset-x\":\"28px\",\"offset-y\":\"-1px\"}},[_c('v-icon',[_vm._v(\"mdi-microphone-off\")])],1)],1):_vm._e()],1),_c('v-sheet',{attrs:{\"color\":\"grey lighten-5\",\"height\":\"120\",\"width\":\"100%\"}},[_c('div',{attrs:{\"id\":\"sheetDiv\"}},[_c('p',{attrs:{\"id\":\"sheetTitle\"}},[_vm._v(\"  \")]),_c('v-text-field',{staticStyle:{\"margin-left\":\"2%\",\"width\":\"95%\"},attrs:{\"label\":\"\",\"id\":\"userSearchBar\",\"color\":\"teal\",\"prepend-inner-icon\":\"mdi-account-circle-outline\",\"outlined\":\"\",\"clearable\":\"\"},model:{value:(_vm.filterText),callback:function ($$v) {_vm.filterText=$$v},expression:\"filterText\"}})],1)]),_c('v-list',{staticClass:\"pl-14\"},[_c('v-badge',{attrs:{\"value\":_vm.isHost,\"icon\":\"mdi-crown\",\"color\":\"orange--text\",\"overlap\":\"\",\"offset-x\":\"20px\",\"offset-y\":\"18px\"}},[_c('v-list-item',{class:['lighten-4 not-host-item', {'host-item':_vm.isHost}],attrs:{\"dense\":\"\"}},[_c('v-fade-transition',[_c('v-badge',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.video),expression:\"this.video\"}],attrs:{\"overlap\":\"\",\"offset-x\":\"-40px\",\"offset-y\":\"0px\",\"icon\":\"mdi-video-outline\",\"color\":\"green--text\",\"transition\":\"fade-transition\"}})],1),_c('v-fade-transition',[_c('v-badge',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.audio),expression:\"this.audio\"}],attrs:{\"overlap\":\"\",\"offset-x\":\"-40px\",\"offset-y\":\"15px\",\"icon\":\"mdi-microphone-outline\",\"color\":\"green--text\",\"transition\":\"scale-transition\"}})],1),_c('v-list-item-avatar',{staticStyle:{\"border\":\"1px solid gray\"},attrs:{\"size\":\"40\"}},[_c('v-img',{attrs:{\"src\":_vm.GLOBAL.baseURL + _vm.GLOBAL.userInfo.portrait},scopedSlots:_vm._u([{key:\"placeholder\",fn:function(){return [_c('div',{staticStyle:{\"margin-top\":\"7px\",\"margin-left\":\"8px\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"20\",\"color\":\"grey lighten-5\"}})],1)]},proxy:true}])})],1),_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"item-title\",staticStyle:{\"font-size\":\"18px\",\"font-weight\":\"bold\",\"width\":\"120px\",\"padding-top\":\"8px\"},attrs:{\"align\":\"center\"}},[_vm._v(\" \"+_vm._s(_vm.GLOBAL.userInfo.nickname)+\" \")]),_c('v-list-item-subtitle',{attrs:{\"align\":\"center\"}},[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.mainVideo(_vm.GLOBAL.userInfo.id)}}},[_c('v-icon',{attrs:{\"color\":\"teal\",\"size\":\"20\"}},[_vm._v(\" mdi-account-star \")])],1),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.subVideo(_vm.GLOBAL.userInfo.id)}}},[_c('v-icon',{attrs:{\"color\":\"teal\",\"size\":\"20\"}},[_vm._v(\" mdi-account-plus \")])],1)],1)],1)],1)],1),_vm._l((this.filteredUsers),function(user,index){return _c('v-badge',{key:index,attrs:{\"value\":_vm.GLOBAL.roomInfo.host === user.getPeerInfo().id,\"icon\":\"mdi-crown\",\"color\":\"orange--text\",\"overlap\":\"\",\"offset-x\":\"20px\",\"offset-y\":\"18px\"}},[_c('v-list-item',{class:['lighten-4 not-host-item', {'host-item':_vm.GLOBAL.roomInfo.host === user.getPeerInfo().id}],staticStyle:{\"width\":\"100%\"},attrs:{\"dense\":\"\"}},[_c('v-fade-transition',[_c('v-badge',{directives:[{name:\"show\",rawName:\"v-show\",value:(user.hasVideo()),expression:\"user.hasVideo()\"}],attrs:{\"overlap\":\"\",\"offset-x\":\"-40px\",\"offset-y\":\"0px\",\"icon\":\"mdi-video-outline\",\"color\":\"green--text\",\"transition\":\"fade-transition\"}})],1),_c('v-fade-transition',[_c('v-badge',{directives:[{name:\"show\",rawName:\"v-show\",value:(user.hasAudio()),expression:\"user.hasAudio()\"}],attrs:{\"overlap\":\"\",\"offset-x\":\"-40px\",\"offset-y\":\"15px\",\"icon\":\"mdi-microphone-outline\",\"color\":\"green--text\",\"transition\":\"scale-transition\"}})],1),_c('v-list-item-avatar',{staticStyle:{\"border\":\"1px solid gray\"},attrs:{\"size\":\"40\"}},[_c('v-img',{attrs:{\"src\":user.getPeerInfo().avatar},scopedSlots:_vm._u([{key:\"placeholder\",fn:function(){return [_c('div',{staticStyle:{\"margin-top\":\"7px\",\"margin-left\":\"8px\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"20\",\"color\":\"grey lighten-5\"}})],1)]},proxy:true}],null,true)})],1),_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"item-title\",staticStyle:{\"font-size\":\"18px\",\"font-weight\":\"bold\",\"width\":\"120px\",\"padding-top\":\"8px\"},attrs:{\"align\":\"center\"}},[_vm._v(\" \"+_vm._s(user.getPeerInfo().displayName)+\" \")]),_c('v-list-item-subtitle',{attrs:{\"align\":\"center\"}},[_c('v-menu',{attrs:{\"attach\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"size\":\"20\",\"color\":\"teal\"}},[_vm._v(\"mdi-cog-outline\")])],1)]}}],null,true)},[_c('v-list',{staticClass:\"white\",attrs:{\"dense\":\"\"}},_vm._l((_vm.menuItems),function(item,index){return _c('v-list-item',{key:index,on:{\"click\":function($event){_vm.switchMenuFunc(index, user.getPeerInfo().id)}}},[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"color\":item.color}},[_vm._v(\" \"+_vm._s(item.icon)+\" \")])],1),_c('v-list-item-title',[_vm._v(_vm._s(item.text))])],1)}),1)],1),(_vm.isHost)?_c('v-btn',{attrs:{\"icon\":\"\"}},[_c('v-icon',{attrs:{\"color\":\"orange\",\"size\":\"20\"}},[_vm._v(\"mdi-microphone-off\")])],1):_vm._e(),(_vm.isHost)?_c('v-btn',{attrs:{\"icon\":\"\"}},[_c('v-icon',{attrs:{\"color\":\"orange\",\"size\":\"20px\"}},[_vm._v(\"mdi-account-remove\")])],1):_vm._e()],1)],1)],1)],1)})],2)],1),_c('v-navigation-drawer',{attrs:{\"app\":\"\",\"clipped\":\"\",\"right\":\"\"}},[_c('v-list',_vm._l((_vm.subFollowUsers),function(user,index){return _c('v-list-item',{key:index,attrs:{\"link\":\"\"}},[_c('v-list-item-content',[_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar hover = ref.hover;\nreturn [_c('v-card',{attrs:{\"height\":\"150px\",\"outlined\":\"\"}},[_c('my-video',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"src-object\":user.mediaStream,\"mirror\":user.mirror,\"my-id\":'sub-video' + index,\"process-video-type\":\"blur\"}}),_c('div',{staticClass:\"d-flex white black--text v-card--reveal\",staticStyle:{\"height\":\"15%\",\"margin-bottom\":\"10px\"}},[_c('div',{staticStyle:{\"width\":\"100px\",\"margin-left\":\"25%\",\"margin-right\":\"10%\",\"text-align\":\"center\"}},[_c('p',{staticStyle:{\"font-size\":\"12px\",\"font-weight\":\"bold\"},attrs:{\"id\":\"rightSideBarText\"}},[_vm._v(\" \"+_vm._s(user.displayName)+\" \")])]),_c('v-fab-transition',[(hover)?_c('div',[_c('v-btn',{attrs:{\"icon\":\"\",\"x-small\":\"\"},on:{\"click\":function($event){return _vm.sub2Main(index)}}},[_c('v-icon',{attrs:{\"color\":\"teal\"}},[_vm._v(\" mdi-account-star \")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"x-small\":\"\"},on:{\"click\":function($event){return _vm.removeSubFollowUser(index)}}},[_c('v-icon',{attrs:{\"color\":\"teal\"}},[_vm._v(\" mdi-close \")])],1)],1):_vm._e()])],1)],1)]}}],null,true)})],1)],1)}),1)],1),_c('v-main',{staticStyle:{\"text-align\":\"center\"},attrs:{\"id\":\"main-video-window\"}},[_c('div',{attrs:{\"id\":\"mainVideo\"}},[_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar hover = ref.hover;\nreturn [_c('v-card',{attrs:{\"color\":\"grey lighten-4\",\"height\":\"100%\",\"width\":\"100%\"}},[_c('my-video',{staticStyle:{\"height\":\"100%\",\"width\":\"100%\"},attrs:{\"my-id\":\"main-video\",\"mirror\":_vm.mainFollowUser.mirror,\"src-object\":_vm.mainFollowUser.mediaStream}}),_c('v-expand-transition',[(hover)?_c('div',{staticClass:\"transition-fast-in-fast-out v-card--reveal-1\",staticStyle:{\"height\":\"10%\"}},[(_vm.mainFollowUserId)?_c('p',{staticStyle:{\"color\":\"white\",\"font-weight\":\"bold\",\"height\":\"10%\"}},[_vm._v(\" \"+_vm._s(_vm.mainFollowUser.displayName)+\" \")]):_vm._e(),(_vm.mainFollowUserId)?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.removeMainFollowUser}},[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"white\"}},[_vm._v(\"mdi-close\")])],1):_vm._e()],1):_vm._e()])],1)]}}])})],1),_c('v-fade-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.chatOverlay),expression:\"chatOverlay\"}],attrs:{\"id\":\"chatOverlay\"}},[_c('v-container',{class:['chatContainer-full', {'chatContainer-half' : _vm.captionIcon.icon === 'mdi-translate'}],attrs:{\"id\":\"chatContainer\"}},_vm._l((_vm.allMsgs),function(msg,index){return _c('v-row',{key:index},[_c('v-col',[_c('div',{staticClass:\"messageCard\",staticStyle:{\"display\":\"inline-block\"}},[_c('v-avatar',{staticStyle:{\"margin-right\":\"8px\"},attrs:{\"color\":\"grey darken-1\",\"size\":\"30\"}},[_c('v-img',{attrs:{\"src\":(msg.fromMyself) ?\n                        _vm.GLOBAL.baseURL + _vm.GLOBAL.userInfo.portrait :\n                        _vm.mediaService.getPeerDetailByPeerId(msg.fromPeerId).getPeerInfo().avatar},scopedSlots:_vm._u([{key:\"placeholder\",fn:function(){return [_c('div',{staticStyle:{\"margin-top\":\"7px\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"20\",\"color\":\"grey lighten-5\"}})],1)]},proxy:true}],null,true)})],1),_c('div',{staticStyle:{\"display\":\"inline-block\",\"font-size\":\"15px\"}},[_c('span',{staticStyle:{\"font-weight\":\"bold\",\"margin-right\":\"5px\",\"margin-left\":\"5px\"}},[_vm._v(_vm._s((msg.fromMyself) ? _vm.GLOBAL.userInfo.nickname : _vm.mediaService.getPeerDetailByPeerId(msg.fromPeerId).getPeerInfo().displayName))]),(!msg.broadcast)?_c('span',[_vm._v(\" to \")]):_vm._e(),(!msg.broadcast)?_c('span',{staticClass:\"private-chat\"},[_vm._v(_vm._s(_vm.formatToPeerName(msg))+\" \")]):_vm._e()]),(msg.type === _vm.MessageType.text)?_c('p',{staticClass:\"messageText\"},[_vm._v(_vm._s(msg.text))]):(msg.type === _vm.MessageType.file &&msg.fromMyself)?_c('upload-file',{staticStyle:{\"margin-top\":\"20px\",\"margin-left\":\"15px\"},attrs:{\"file\":msg.file},on:{\"file-sended\":_vm.sendFile}}):_c('download-file',{staticStyle:{\"margin-top\":\"15px\"},attrs:{\"message\":msg}})],1),_c('div',{staticStyle:{\"display\":\"inline-block\",\"margin\":\"10px\",\"font-size\":\"small\",\"color\":\"gray\"}},[_vm._v(_vm._s(_vm.moment(msg.timestamp).format('HH:mm:ss')))])])],1)}),1),(_vm.captionIcon.icon === 'mdi-translate')?_c('v-container',{attrs:{\"id\":\"captionContainer\"}},_vm._l((_vm.allCaptions),function(caption,index){return _c('v-row',{key:index},[_c('v-col',[_c('div',{staticClass:\"messageCard\",staticStyle:{\"display\":\"inline-block\"}},[_c('div',{staticStyle:{\"display\":\"inline-block\",\"font-size\":\"15px\"}},[_c('span',{staticStyle:{\"font-weight\":\"bold\",\"margin-right\":\"10px\",\"margin-left\":\"5px\"}},[_vm._v(\" \"+_vm._s(caption.displayName))])]),_c('p',{staticClass:\"messageText\"},[_vm._v(_vm._s(caption.text))])]),_c('div',{staticStyle:{\"display\":\"inline-block\",\"margin\":\"10px\",\"font-size\":\"small\",\"color\":\"gray\"}},[_vm._v(_vm._s(_vm.moment(caption.startTime).format('HH:mm:ss'))+\" - \"+_vm._s(_vm.moment(caption.updateTime).format('HH:mm:ss')))])])],1)}),1):_vm._e()],1)])],1),_c('v-footer',{attrs:{\"app\":\"\",\"color\":\"transparent\",\"height\":\"72\",\"inset\":\"\"}},[_c('div',{staticStyle:{\"margin-right\":\"5px\"},on:{\"click\":function($event){return _vm.switchChat(null)}}},[_c('v-btn',{attrs:{\"icon\":\"\"}},[_c('v-fab-transition',[(!_vm.chatOverlay)?_c('v-badge',{attrs:{\"color\":this.chatBadge,\"light\":\"\",\"dot\":\"\"}},[_c('v-icon',{attrs:{\"color\":\"teal\"}},[_vm._v(\"mdi-chat-outline\")])],1):_c('v-icon',{attrs:{\"color\":\"teal\"}},[_vm._v(\"mdi-chat-remove-outline\")])],1)],1)],1),_c('v-text-field',{attrs:{\"background-color\":\"grey lighten-4\",\"dense\":\"\",\"hide-details\":\"\",\"rounded\":\"\",\"outlined\":\"\",\"color\":\"teal\",\"label\":_vm.placeholdOfMsg},on:{\"focus\":function($event){return _vm.switchChat(true)},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.sendMsg.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('v-menu',{attrs:{\"top\":\"\",\"left\":\"\",\"nudge-top\":\"50px\",\"nudge-right\":\"50px\",\"min-width\":\"150px\",\"max-width\":\"500px\",\"attach\":\"\",\"close-on-content-click\":\"\",\"transition\":\"scale-transition\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n                        var on = ref.on;\n                        var attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g(_vm._b({attrs:{\"disabled\":!_vm.chatOverlay,\"color\":\"teal\"}},'v-icon',attrs,false),on),[_vm._v(\" mdi-broadcast\")])]}}])},[_c('v-list',{attrs:{\"dense\":\"\",\"shaped\":\"\"}},[_c('v-list-item',{attrs:{\"link\":\"\"},on:{\"click\":function($event){return _vm.privateChat(null)}}},[_c('v-list-item-content',{staticStyle:{\"font-size\":\"15px\",\"font-family\":\"'Cascadia Mono'\"}},[_vm._v(\" All \")])],1),_vm._l((_vm.allUsers),function(user,index){return _c('v-list-item',{key:index,attrs:{\"link\":\"\"},on:{\"click\":function($event){_vm.privateChat(user.getPeerInfo().id)}}},[_c('v-list-item-content',{staticStyle:{\"font-size\":\"15px\",\"font-family\":\"'Cascadia Mono'\"}},[_vm._v(\" \"+_vm._s(user.getPeerInfo().displayName)+\" \")])],1)})],2)],1)]},proxy:true}]),model:{value:(_vm.inputMsg),callback:function ($$v) {_vm.inputMsg=$$v},expression:\"inputMsg\"}}),_c('div',[_c('v-menu',{attrs:{\"top\":\"\",\"left\":\"\",\"nudge-top\":\"50px\",\"nudge-right\":\"50px\",\"attach\":\"\",\"transition\":\"scale-transition\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n                        var on = ref.on;\n                        var attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g(_vm._b({staticStyle:{\"margin-left\":\"5px\"},attrs:{\"color\":\"yellow darken-3\",\"disabled\":!_vm.chatOverlay},on:{\"click\":function($event){_vm.showEmojiPicker = !_vm.showEmojiPicker}}},'v-icon',attrs,false),on),[_vm._v(\" mdi-emoticon-outline\")])]}}])},[_c('v-emoji-picker',{attrs:{\"emojiSize\":24,\"emojisByRow\":5},on:{\"select\":_vm.selectEmoji}})],1),_c('v-menu',{attrs:{\"top\":\"\",\"left\":\"\",\"nudge-top\":\"40px\",\"attach\":\"\",\"min-width\":\"200px\",\"transition\":\"scale-transition\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n                        var on = ref.on;\n                        var attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g(_vm._b({staticStyle:{\"margin-left\":\"5px\",\"margin-right\":\"5px\"},attrs:{\"color\":\"blue\",\"disabled\":!_vm.chatOverlay},on:{\"click\":function($event){_vm.showFilePicker = !_vm.showFilePicker}}},'v-icon',attrs,false),on),[_vm._v(\" mdi-file\")])]}}])},[_c('v-file-input',{staticStyle:{\"width\":\"180px\"},attrs:{\"clearable\":false,\"append-icon\":\"mdi-file-send-outline\"},on:{\"click:append\":_vm.pickFile},model:{value:(_vm.file),callback:function ($$v) {_vm.file=$$v},expression:\"file\"}})],1),_c('v-icon',{attrs:{\"color\":\"teal\",\"disabled\":!_vm.chatOverlay},on:{\"click\":_vm.sendMsg}},[_vm._v(\"mdi-send\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {types as mediasoupTypes} from \"mediasoup-client\";\r\nimport {MediaKind, TransportType} from \"../ServiceConfig\";\r\nimport {Moment} from \"moment\";\r\nimport {SctpStreamParameters} from \"mediasoup-client/lib/SctpParameters\";\r\n\r\nexport declare type JoinRequest = {\r\n    displayName: string,\r\n    joined: boolean,\r\n    device: string,\r\n    rtpCapabilities: mediasoupTypes.RtpCapabilities,\r\n};\r\n\r\nexport declare type CreateTransportRequest = {\r\n    transportType: TransportType,\r\n    sctpCapabilities: mediasoupTypes.SctpCapabilities,\r\n};\r\n\r\nexport declare type ConnectTransportRequest = {\r\n    transportId: string,\r\n    dtlsParameters: mediasoupTypes.DtlsParameters\r\n};\r\n\r\nexport declare type PeerInfo = {\r\n    id: number,\r\n    avatar: string,\r\n    displayName: string,\r\n    device: string,\r\n};\r\n\r\nexport declare type ConsumerInfo = {\r\n    producerPeerId: number,\r\n    consumerId: string,\r\n    producerId: string,\r\n    kind: MediaKind,\r\n    rtpParameters : mediasoupTypes.RtpParameters\r\n}\r\n\r\nexport declare type ConsumerDetail = {\r\n    consumerInfo: ConsumerInfo,\r\n    consumer?: mediasoupTypes.Consumer,\r\n    track?: MediaStreamTrack,\r\n}\r\n\r\nexport declare type DataConsumerInfo = {\r\n    producerPeerId: number,\r\n    dataProducerId: string,\r\n    dataConsumerId: string,\r\n    sctpParameters: SctpStreamParameters,\r\n    protocol: string,\r\n    label: string\r\n}\r\n\r\nexport declare type SendText = {\r\n    toPeerId: number,\r\n    text: string,\r\n    timestamp: Moment,\r\n}\r\n\r\nexport declare type RecvText = {\r\n    fromPeerId: number,\r\n    broadcast: boolean,\r\n    text: string,\r\n    timestamp: Moment,\r\n}\r\n\r\nexport declare type SendFile = {\r\n    fileURL: string,\r\n    timestamp: Moment,\r\n    filename: string,\r\n    fileType: string,\r\n}\r\n\r\nexport declare type RecvFile = {\r\n    fromPeerId: number,\r\n    fileURL: string,\r\n    timestamp: Moment,\r\n    filename: string,\r\n    fileType: string,\r\n}\r\n\r\nexport enum MessageType {\r\n    file,\r\n    text,\r\n}\r\n\r\nexport enum FileJobType {\r\n    upload,\r\n    download,\r\n}\r\n\r\nexport enum FileJobStatus {\r\n    progressing,\r\n    completed,\r\n    failed,\r\n    unDownloaded,\r\n}\r\n\r\nexport declare type FileJob = {\r\n    status: FileJobStatus,\r\n    totalBytes: number,\r\n    bytesSent: number,\r\n    filePath: string,\r\n}\r\n\r\nexport declare type FileInfo = {\r\n    uri: string,\r\n    path: string,\r\n    name: string,\r\n    type: string,\r\n    size: number,\r\n}\r\n\r\nexport declare type Message = {\r\n    type: MessageType,\r\n    timestamp: Moment,\r\n    fromMyself: boolean,\r\n    fromPeerId?: number,\r\n    broadcast?: boolean,\r\n    text?: string,\r\n    fileJobType?: FileJobType,\r\n    fileURL?: string,\r\n    filename?: string,\r\n    fileType?: string,\r\n    fileJobStatus?: FileJobStatus,\r\n    totalBytes?: number,\r\n    bytesSent?: number,\r\n    filePath?: string,\r\n}\r\n\r\nexport declare type SpeechText = {\r\n    newSentence: boolean,\r\n    sentenceEnded: boolean,\r\n    startTime: Moment,\r\n    updateTime: Moment,\r\n    fromMyself: boolean,\r\n    fromPeerId: number,\r\n    displayName: string,\r\n    text: string,\r\n}\r\n\r\nexport declare type RecognitionResult = {\r\n    text: string;\r\n    isLast: boolean;\r\n}\r\n\r\nexport enum RecognitionStatus {\r\n    null,\r\n    initialized,\r\n    processing,\r\n    ended\r\n}\r\n\r\nexport enum BackgroundProcessType {\r\n    disable,\r\n    virtual,\r\n    blur,\r\n}","const config = {\r\n    // serverIp: 'se-summer.cn',\r\n    serverIp: '122.112.175.61',\r\n    serverPort: 4445,\r\n    serverUseHttps: true,\r\n}\r\n\r\nexport const SimulcastEncodings: RTCRtpEncodingParameters[] = [\r\n    {maxBitrate: 100000},\r\n    {maxBitrate: 300000},\r\n    {maxBitrate: 700000}\r\n];\r\n\r\nconst _serverURL = (config.serverUseHttps ? 'https://' : 'http://') + config.serverIp + ':' + config.serverPort;\r\n\r\nexport const fileUploadURL = (userToken: string) => {\r\n    return `${_serverURL}/file?token=${userToken}`;\r\n}\r\n\r\nexport const meetingURL = (roomToken: string, userToken: string, myId: number) => {\r\n    return `${serviceConfig.serverURL}/room?roomId=${roomToken}&peerId=${myId}&userToken=${userToken}`;\r\n}\r\n\r\nexport const serviceConfig = {\r\n    requestTimeout: 10000,\r\n    connectTimeout: 20000,\r\n    reconnectTimeout: 60000,\r\n    mediaTimeout: 10000,\r\n    allowTimeout: 10000,\r\n    serverIp: config.serverIp,\r\n    serverPort: config.serverPort,\r\n    serverURL: _serverURL,\r\n}\r\n\r\nexport enum SignalType {\r\n    request = 'request',\r\n    notify = 'notify'\r\n}\r\n\r\nexport enum MediaKind {\r\n    video = 'video',\r\n    audio = 'audio'\r\n}\r\n\r\nexport enum TransportType {\r\n    producer = 'producer',\r\n    consumer = 'consumer'\r\n}\r\n\r\nexport enum SignalMethod {\r\n    getRouterRtpCapabilities = 'getRouterRtpCapabilities',\r\n    join = 'join',\r\n    createTransport = 'createTransport',\r\n    connectTransport = 'connectTransport',\r\n    produce = 'produce',\r\n    produceData = 'produceData',\r\n    consume = 'consume',\r\n    closeProducer = 'closeProducer',\r\n    pauseProducer = 'pauseProducer',\r\n    resumeProducer = 'resumeProducer',\r\n    pauseConsumer = 'pauseConsumer',\r\n    resumeConsumer = 'resumeConsumer',\r\n    newConsumer = 'newConsumer',\r\n    newDataConsumer = 'newDataConsumer',\r\n    newPeer = 'newPeer',\r\n    consumerClosed = 'consumerClosed',\r\n    dataConsumerClosed = 'dataConsumerClosed',\r\n    peerClosed = 'peerClosed',\r\n    closeRoom = 'closeRoom',\r\n    sendText = 'sendText',\r\n    newText = 'newText',\r\n    sendFile = 'sendFile',\r\n    newFile = 'newFile',\r\n    hostChanged = 'hostChanged',\r\n    connectMeeting = 'connectMeeting',\r\n    allowed = 'allowed',\r\n    mute = 'mute',\r\n    restartIce = 'restartIce',\r\n    roomClosed = 'roomClosed',\r\n    transferHost = 'transferHost',\r\n    kick = 'kick',\r\n    kicked = 'kicked',\r\n    beMuted = 'beMuted',\r\n    getStatus = 'getStat',\r\n    sendSpeechText = 'sendSpeechText',\r\n    newSpeechText = 'newSpeechText',\r\n}\r\n\r\nexport enum MeetingEndReason {\r\n    notAllowed = 'notAllowed',\r\n    lostConnection = 'lostConnection',\r\n    roomClosed = 'roomClosed',\r\n    kicked = 'kicked',\r\n}\r\n\r\nexport const socketConnectionOptions = {\r\n    // timeout: 3000,\r\n    reconnection: true,\r\n    autoConnect: false,\r\n    reconnectionAttempts: Infinity,\r\n    reconnectionDelayMax: 2000,\r\n    // transports: ['websocket'],\r\n}\r\n","\r\nexport const closeMediaStream: (MediaStream) => void = (stream: MediaStream) => {\r\n    stream.getTracks().forEach((track) => {\r\n        track.stop();\r\n        stream.removeTrack(track);\r\n    })\r\n}\r\n\r\nexport const timeoutCallback = (callback, timeout: number) => {\r\n    let called = false;\r\n\r\n    const interval = setTimeout(() => {\r\n        if (called) {\r\n            return;\r\n        }\r\n        called = true;\r\n        callback(new Error('Waiting timeout'), null);\r\n    }, timeout);\r\n\r\n    return (...args) => {\r\n        if (called) {\r\n            return;\r\n        }\r\n        called = true;\r\n        clearTimeout(interval);\r\n\r\n        callback(...args);\r\n    };\r\n};\r\n","import {io, Socket} from 'socket.io-client';\r\nimport {serviceConfig, SignalMethod, SignalType} from \"../ServiceConfig\";\r\nimport {timeoutCallback} from \"../utils/media/MediaUtils\";\r\n\r\nexport class SignalingService\r\n{\r\n    private readonly URL: string = null;\r\n    private readonly socket: Socket = null;\r\n    private callbackMap: Map<SignalType ,Map<SignalMethod, object>> = null;\r\n    private readonly disconnectCallback: () => Promise<void> = null;\r\n\r\n    constructor(URL: string, opts, onDisconnect: () => Promise<void>)\r\n    {\r\n        this.URL = URL;\r\n        this.socket = io(URL, opts);\r\n        this.disconnectCallback = onDisconnect;\r\n        console.log('[Socket]  Start to connect');\r\n\r\n        this.callbackMap = new Map<SignalType ,Map<SignalMethod, (data) => void>>();\r\n        this.callbackMap.set(SignalType.request, new Map<SignalMethod, (data) => void>());\r\n        this.callbackMap.set(SignalType.notify, new Map<SignalMethod, (data) => void>());\r\n\r\n        this.socket.on(SignalType.request, ({ method, data }) => {\r\n            this.handleSignal(SignalType.request, method, data);\r\n        });\r\n\r\n        this.socket.on(SignalType.notify, ({ method, data }) => {\r\n            this.handleSignal(SignalType.notify, method, data);\r\n        });\r\n\r\n        this.socket.on('disconnect', this.disconnectCallback);\r\n    }\r\n\r\n    private handleSignal(type: SignalType, method: SignalMethod, data)\r\n    {\r\n        console.log(`[Socket]  Received signal (${type} , ${method})`);\r\n        const callback = this.callbackMap.get(type).get(method) as (data) => void;\r\n        if (callback == undefined) {\r\n            console.warn(`[Socket]  Undefined signal (${type} , ${method})`);\r\n        } else {\r\n            callback(data);\r\n            console.log(`[Socket]  Signal handled (${type} , ${method})`);\r\n        }\r\n    }\r\n\r\n    public registerListener(type: SignalType, method: SignalMethod, callback: (data) => void)\r\n    {\r\n        this.callbackMap.get(type).set(method, callback);\r\n    }\r\n\r\n    public removeAllListeners()\r\n    {\r\n        this.socket.off('disconnect', this.disconnectCallback);\r\n        this.callbackMap.get(SignalType.notify).clear();\r\n        this.callbackMap.get(SignalType.request).clear();\r\n    }\r\n\r\n    public waitForConnection()\r\n    {\r\n        this.socket.connect();\r\n        return new Promise<void>((resolve, reject) => {\r\n            console.log('[Socket]  Waiting for connection to ' + this.URL + '...');\r\n            let returned: boolean = false;\r\n            this.socket.once('connect', timeoutCallback(() => {\r\n                if (returned)\r\n                    return;\r\n\r\n                returned = true;\r\n                if (this.socket && this.socket.connected) {\r\n                    console.log('[Socket]  Connected');\r\n                    resolve();\r\n                }\r\n                else {\r\n                    reject('Socket connection failed');\r\n                }\r\n            }, serviceConfig.connectTimeout));\r\n\r\n            if (!returned && this.socket && this.socket.connected) {\r\n                returned = true;\r\n                console.log('[Socket]  Connected');\r\n                resolve();\r\n            }\r\n            // this.socket.on('connect_error', this.timeoutCallback(() => {\r\n            //     console.log('Socket connection failed!!!')\r\n            //     reject();\r\n            //     }, serviceConfig.connectTimeout));\r\n        });\r\n    }\r\n\r\n    public waitForReconnection()\r\n    {\r\n        return new Promise<void>((resolve, reject) => {\r\n            console.log('[Socket]  Waiting for reconnection to ' + this.URL + '...');\r\n            let returned: boolean = false;\r\n            this.socket.once('connect', timeoutCallback(() => {\r\n                if (returned)\r\n                    return;\r\n\r\n                returned = true;\r\n                if (this.socket && this.socket.connected) {\r\n                    console.log('[Socket]  Reconnected');\r\n                    resolve();\r\n                }\r\n                else {\r\n                    reject('Socket reconnection failed');\r\n                }\r\n            }, serviceConfig.reconnectTimeout));\r\n\r\n            if (!returned && this.socket && this.socket.connected) {\r\n                returned = true;\r\n                console.log('[Socket]  Reconnected');\r\n                resolve();\r\n            }\r\n        })\r\n    }\r\n\r\n    public disconnect()\r\n    {\r\n        this.socket.disconnect();\r\n    }\r\n\r\n    public sendRequest(method: SignalMethod, data = null)\r\n    {\r\n        return new Promise((resolve, reject) => {\r\n            if (!this.socket || !this.socket.connected) {\r\n                reject('No socket connection.');\r\n            } else {\r\n                this.socket.emit(SignalType.request, { method, data },\r\n                    timeoutCallback((err, response) => {\r\n                        if (err) {\r\n                            console.error('[Socket]  sendRequest ' + method + ' error!', err);\r\n                            reject(err);\r\n                        } else {\r\n                            resolve(response);\r\n                        }\r\n                    }, serviceConfig.requestTimeout)\r\n                );\r\n            }\r\n        });\r\n    }\r\n\r\n    public sendNotify(method: SignalMethod, data = null)\r\n    {\r\n        this.socket.emit(SignalType.notify, { method, data });\r\n    }\r\n\r\n    public connected()\r\n    {\r\n        return (this.socket && this.socket.connected);\r\n    }\r\n}\r\n","export const config = {\r\n    unKnownUri: 'http://122.112.175.61:4446/static/portraits/default.png',\r\n    baseURL: 'http://122.112.175.61:4446',\r\n    // baseURL: 'http://192.168.0.106:4446',\r\n    qGreen: '#44CE55',\r\n    usernameIndex: 'user_name',\r\n    userIdIndex: 'user_id',\r\n    nicknameIndex: 'nick_name',\r\n    cameraIndex: 'camera',\r\n    microphoneIndex: 'microphone',\r\n    emailIndex: 'email',\r\n    tokenIndex: 'token',\r\n    mediaHeight: 800,\r\n    mediaWidth: 600,\r\n}\r\n\r\nexport const config_key = {\r\n    avatarUri: config.unKnownUri,\r\n    token: null,\r\n    email: null,\r\n    username: null,\r\n    userId: 0,\r\n    nickname: null,\r\n    camera: true,\r\n    microphone: false,\r\n}\r\n","import {types as mediasoupTypes} from \"mediasoup-client\";\r\nimport * as types from \"../Types\";\r\nimport {config} from \"../../Constants.js\"\r\n\r\nconst defaultPeerInfo: types.PeerInfo = {\r\n    id: 0,\r\n    avatar: config.unKnownUri,\r\n    displayName: 'defaultUser',\r\n    device: 'defaultDevice'\r\n}\r\n\r\nclass PeerDetail\r\n{\r\n    private _hasAudio: boolean = null;\r\n    private _hasVideo: boolean = null;\r\n    private readonly peerId: number = null;\r\n    private peerInfo: types.PeerInfo = null;\r\n    // consumerId ==> Consumer\r\n    private consumers: Map<string, mediasoupTypes.Consumer> = null;\r\n    constructor(peerId: number)\r\n    {\r\n        this.peerId = peerId;\r\n        this._hasAudio = false;\r\n        this._hasVideo = false;\r\n        this.consumers = new Map<string, mediasoupTypes.Consumer>();\r\n    }\r\n\r\n    public setPeerInfo(peerInfo: types.PeerInfo)\r\n    {\r\n        this.peerInfo = peerInfo;\r\n    }\r\n\r\n    public addConsumer(consumer: mediasoupTypes.Consumer)\r\n    {\r\n        this.consumers.set(consumer.id, consumer);\r\n\r\n        if (consumer.kind === 'audio')\r\n            this._hasAudio = true;\r\n        else if (consumer.kind === 'video')\r\n            this._hasVideo = true;\r\n    }\r\n\r\n    public deleteConsumer(consumerId: string)\r\n    {\r\n        if (this.consumers.has(consumerId)) {\r\n            if (!this.consumers.get(consumerId).closed) {\r\n                this.consumers.get(consumerId).close();\r\n            }\r\n            this.consumers.delete(consumerId);\r\n        }\r\n\r\n        this.updateMediaStatus();\r\n    }\r\n\r\n    public getConsumerIds()\r\n    {\r\n        const consumerIds: string[] = [];\r\n        this.consumers.forEach((consumer, consumerId) => {\r\n            consumerIds.push(consumerId);\r\n        })\r\n        return consumerIds;\r\n    }\r\n\r\n    public getPeerInfo()\r\n    {\r\n        if (this.peerInfo)\r\n            return this.peerInfo;\r\n        else {\r\n            const peerInfo = defaultPeerInfo;\r\n            peerInfo.id = this.peerId;\r\n            return peerInfo;\r\n        }\r\n    }\r\n\r\n    public getTracks()\r\n    {\r\n        const tracks: MediaStreamTrack[] = [];\r\n        this.consumers.forEach((consumer) => {\r\n            if (consumer.paused) {\r\n                consumer.emit('resume');\r\n                consumer.resume();\r\n            }\r\n            tracks.push(consumer.track);\r\n        });\r\n        return tracks;\r\n    }\r\n\r\n    public getVideoTracks()\r\n    {\r\n        const tracks: MediaStreamTrack[] = [];\r\n        this.consumers.forEach((consumer) => {\r\n            if (consumer.kind === 'video') {\r\n                if (consumer.paused) {\r\n                    consumer.emit('resume');\r\n                    consumer.resume();\r\n                }\r\n                tracks.push(consumer.track);\r\n            }\r\n        });\r\n        return tracks;\r\n    }\r\n\r\n    public getAudioTracks()\r\n    {\r\n\r\n        const tracks: MediaStreamTrack[] = [];\r\n        this.consumers.forEach((consumer) => {\r\n            if (consumer.kind === 'audio') {\r\n                if (consumer.paused) {\r\n                    consumer.emit('resume');\r\n                    consumer.resume();\r\n                }\r\n                tracks.push(consumer.track);\r\n            }\r\n        });\r\n        return tracks;\r\n    }\r\n\r\n    public subscribe()\r\n    {\r\n        this.consumers.forEach((consumer) => {\r\n            if (consumer.paused) {\r\n                consumer.emit('resume');\r\n                consumer.resume();\r\n            }\r\n        });\r\n    }\r\n\r\n    public unsubscribeVideo()\r\n    {\r\n        this.consumers.forEach((consumer) => {\r\n            if (consumer.kind === 'video') {\r\n                if (!consumer.paused) {\r\n                    consumer.emit('pause');\r\n                    consumer.pause();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    public hasVideo()\r\n    {\r\n        return this._hasVideo;\r\n    }\r\n\r\n    public hasAudio()\r\n    {\r\n        return this._hasAudio;\r\n    }\r\n\r\n    public clearConsumers()\r\n    {\r\n        this.consumers.forEach((consumer) => {\r\n            if (!consumer.closed) {\r\n                consumer.close();\r\n            }\r\n        });\r\n        this.consumers.clear();\r\n    }\r\n\r\n    private updateMediaStatus()\r\n    {\r\n        this._hasAudio = false;\r\n        this._hasVideo = false;\r\n        this.consumers.forEach((consumer) => {\r\n            if (consumer.kind === 'video')\r\n                this._hasVideo = true;\r\n            else if (consumer.kind === 'audio')\r\n                this._hasAudio = true;\r\n        });\r\n    }\r\n}\r\n\r\nexport class PeerMedia\r\n{\r\n    // peerId ==> PeerDetail\r\n    private peerId2Details: Map<number, PeerDetail> = null;\r\n    private consumerId2Details: Map<string, PeerDetail> = null;\r\n\r\n    constructor()\r\n    {\r\n        this.peerId2Details = new Map<number, PeerDetail>();\r\n        this.consumerId2Details = new Map<string, PeerDetail>();\r\n    }\r\n\r\n    public addPeerInfo(peerInfo: types.PeerInfo): void\r\n    {\r\n        const peerId = peerInfo.id;\r\n        if (this.peerId2Details.has(peerId)) {\r\n            this.peerId2Details.get(peerId).setPeerInfo(peerInfo);\r\n        } else {\r\n            const peerDetail = new PeerDetail(peerId);\r\n            peerDetail.setPeerInfo(peerInfo);\r\n            this.peerId2Details.set(peerId, peerDetail);\r\n        }\r\n    }\r\n\r\n    public addConsumer(peerId: number, consumer: mediasoupTypes.Consumer): void\r\n    {\r\n        if (this.consumerId2Details.has(consumer.id))\r\n            return;\r\n\r\n        if (this.peerId2Details.has(peerId)) {\r\n            const peerDetail = this.peerId2Details.get(peerId);\r\n            peerDetail.addConsumer(consumer);\r\n            this.consumerId2Details.set(consumer.id, peerDetail);\r\n        } else {\r\n            const peerDetail = new PeerDetail(peerId);\r\n            peerDetail.addConsumer(consumer);\r\n            this.peerId2Details.set(peerId, peerDetail);\r\n            this.consumerId2Details.set(consumer.id, peerDetail);\r\n        }\r\n    }\r\n\r\n    public deleteConsumer(consumerId: string)\r\n    {\r\n        if (this.consumerId2Details.has(consumerId)) {\r\n            this.consumerId2Details.get(consumerId).deleteConsumer(consumerId);\r\n        }\r\n    }\r\n\r\n    public deletePeer(peerId: number)\r\n    {\r\n        if (!this.peerId2Details.has(peerId))\r\n            return;\r\n\r\n        const peerDetail = this.peerId2Details.get(peerId);\r\n\r\n        const consumerIds = peerDetail.getConsumerIds();\r\n        consumerIds.forEach((consumerId) => {\r\n            this.consumerId2Details.delete(consumerId);\r\n        });\r\n\r\n        peerDetail.clearConsumers();\r\n        this.peerId2Details.delete(peerId);\r\n    }\r\n\r\n    public getPeerDetails(): PeerDetail[]\r\n    {\r\n        const peerDetails = [];\r\n        this.peerId2Details.forEach((peerDetail) => {\r\n            peerDetails.push(peerDetail);\r\n        })\r\n        return peerDetails;\r\n    }\r\n\r\n    public clear()\r\n    {\r\n        this.peerId2Details.forEach((peerDetail) => {\r\n            peerDetail.clearConsumers();\r\n        });\r\n        this.peerId2Details.clear();\r\n        this.consumerId2Details.clear();\r\n    }\r\n\r\n    public getPeerDetailByPeerId(peerId: number)\r\n    {\r\n        return this.peerId2Details.get(peerId);\r\n    }\r\n}\r\n","/*\r\n * @Author: lycheng\r\n * @Date: 2020-01-07 08:51:50\r\n * Edited by shenwhang at 2021-08-23 16:59:33\r\n */\r\n\r\nexport const TranscodeWorker = () => {\r\n  self.onmessage = function(e){\r\n    transAudioData.transcode(e.data)\r\n  }\r\n\r\n  let transAudioData = {\r\n    transcode(audioData) {\r\n      let output = transAudioData.to16kHz(audioData)\r\n      output = transAudioData.to16BitPCM(output)\r\n      output = Array.from(new Uint8Array(output.buffer))\r\n      self.postMessage(output)\r\n      // return output\r\n    },\r\n    to16kHz(audioData) {\r\n      var data = new Float32Array(audioData)\r\n      var fitCount = Math.round(data.length * (16000 / 44100))\r\n      var newData = new Float32Array(fitCount)\r\n      var springFactor = (data.length - 1) / (fitCount - 1)\r\n      newData[0] = data[0]\r\n      for (let i = 1; i < fitCount - 1; i++) {\r\n        var tmp = i * springFactor\r\n        var before = Math.floor(tmp).toFixed()\r\n        var after = Math.ceil(tmp).toFixed()\r\n        var atPoint = tmp - before\r\n        newData[i] = data[before] + (data[after] - data[before]) * atPoint\r\n      }\r\n      newData[fitCount - 1] = data[data.length - 1]\r\n      return newData\r\n    },\r\n    to16BitPCM(input) {\r\n      var dataLength = input.length * (16 / 8)\r\n      var dataBuffer = new ArrayBuffer(dataLength)\r\n      var dataView = new DataView(dataBuffer)\r\n      var offset = 0\r\n      for (var i = 0; i < input.length; i++, offset += 2) {\r\n        var s = Math.max(-1, Math.min(1, input[i]))\r\n        dataView.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7fff, true)\r\n      }\r\n      return dataView\r\n    },\r\n  }\r\n}","/**\r\n * Created by lycheng on 2019/8/1.\r\n * edited by shenwhang on 2021/8/23\r\n */\r\n\r\nimport CryptoJS from 'crypto-js';\r\nimport {TranscodeWorker} from './media/TranscodeWorker';\r\nimport {RecognitionResult, RecognitionStatus} from './Types';\r\n\r\nconst APPID = '2d2edf67'\r\nconst API_SECRET = 'Y2I4ZmM1Njk1NzJmN2FhNTkyYTU0ZjJh'\r\nconst API_KEY = 'bc15fd1b2d1a690acf24b4264fbe7810'\r\nconst url = 'wss://iat-api.xfyun.cn/v2/iat'\r\nconst host = 'iat-api.xfyun.cn';\r\nconst language = 'zh_cn'\r\nconst accent = 'mandarin'\r\nconst algorithm = 'hmac-sha256'\r\nconst headers = 'host date request-line'\r\nconst speechEndTimeout = 3000\r\n\r\nconst workerBlob = new Blob(['(' + TranscodeWorker + ')()'], {type: \"text/javascript\"});\r\nconst transWorker = new Worker(window.URL.createObjectURL(workerBlob));\r\n\r\nconst getWebSocketUrl = () => {\r\n    return new Promise((resolve) => {\r\n        // @ts-ignore\r\n        const date = new Date().toGMTString()\r\n        const signatureOrigin = `host: ${host}\\ndate: ${date}\\nGET /v2/iat HTTP/1.1`\r\n        const signatureSha = CryptoJS.HmacSHA256(signatureOrigin, API_SECRET)\r\n        const signature = CryptoJS.enc.Base64.stringify(signatureSha)\r\n        const authorizationOrigin = `api_key=\"${API_KEY}\", algorithm=\"${algorithm}\", headers=\"${headers}\", signature=\"${signature}\"`\r\n        const authorization = btoa(authorizationOrigin)\r\n        resolve(`${url}?authorization=${authorization}&date=${date}&host=${host}`)\r\n    })\r\n}\r\n\r\nexport class IatRecognizer\r\n{\r\n    private status: RecognitionStatus;\r\n    private audioData: any;\r\n    private resultTextTemp: string;\r\n    private resultText: string;\r\n    private webSocket: WebSocket;\r\n    private audioContext: AudioContext;\r\n    private scriptProcessor: ScriptProcessorNode;\r\n    private mediaSource: MediaStreamAudioSourceNode;\r\n    private audioStream: MediaStream;\r\n    private handlerInterval;\r\n\r\n    public onRecognizerResult: (result: RecognitionResult) => void;\r\n    public onRecognizerStop: () => void;\r\n    public onRecognizerError: (error) => void;\r\n    public onStatusChange: (oldStatus, status) => void;\r\n\r\n    constructor() {\r\n        this.status = RecognitionStatus.null\r\n        // \r\n        this.audioData = []\r\n        // \r\n        this.resultText = ''\r\n        // wpgs\r\n        this.resultTextTemp = ''\r\n        transWorker.onmessage = (event) => {\r\n            this.audioData.push(...event.data)\r\n        }\r\n    }\r\n    // \r\n    private setStatus(status: RecognitionStatus) {\r\n        this.onStatusChange && this.status !== status && this.onStatusChange(this.status, status)\r\n        this.status = status\r\n    }\r\n    // @ts-ignore\r\n    private setResultText({ resultText, resultTextTemp, isLast } = {}) {\r\n        const text = resultTextTemp || resultText || ''\r\n        const previousText = this.resultText || this.resultTextTemp || ''\r\n        if (this.onRecognizerResult && text.length !== 0 && text !== previousText) {\r\n            this.onRecognizerResult({text, isLast});\r\n        }\r\n        resultText !== undefined && (this.resultText = resultText)\r\n        resultTextTemp !== undefined && (this.resultTextTemp = resultTextTemp)\r\n    }\r\n    // websocket\r\n    private connectWebSocket() {\r\n        return getWebSocketUrl().then((url: string) => {\r\n            let iatWS\r\n            if ('WebSocket' in window) {\r\n                iatWS = new WebSocket(url)\r\n            } else if ('MozWebSocket' in window) {\r\n                // @ts-ignore\r\n                iatWS = new MozWebSocket(url)\r\n            } else {\r\n                this.onRecognizerError && this.onRecognizerError(new Error('WebSocket not supported'))\r\n                return\r\n            }\r\n            this.webSocket = iatWS\r\n            this.setStatus(RecognitionStatus.initialized)\r\n            iatWS.onopen = () => {\r\n                this.setStatus(RecognitionStatus.processing)\r\n                // \r\n                setTimeout(() => {\r\n                    this.webSocketSend()\r\n                }, 40)\r\n            }\r\n            iatWS.onmessage = e => {\r\n                this.result(e.data)\r\n            }\r\n            iatWS.onerror = e => {\r\n                this.recorderStop()\r\n                this.onRecognizerError && this.onRecognizerError(e)\r\n            }\r\n            iatWS.onclose = () => {\r\n                this.recorderStop()\r\n            }\r\n        })\r\n    }\r\n    // \r\n    private recorderInit() {\r\n        // @ts-ignore\r\n        navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia\r\n\r\n        // \r\n        try {\r\n            // @ts-ignore\r\n            this.audioContext = new (window.AudioContext || window.webkitAudioContext)()\r\n            this.audioContext.resume()\r\n            if (!this.audioContext) {\r\n                this.onRecognizerError && this.onRecognizerError(new Error('WebAudioApi not supported'))\r\n                return\r\n            }\r\n        } catch (e) {\r\n            if (!this.audioContext) {\r\n                this.onRecognizerError && this.onRecognizerError(new Error('WebAudioApi not supported'))\r\n                return\r\n            }\r\n        }\r\n\r\n        // \r\n        if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\r\n            navigator.mediaDevices\r\n                .getUserMedia({\r\n                    audio: true,\r\n                    video: false,\r\n                })\r\n                .then(stream => {\r\n                    getMediaSuccess(stream)\r\n                })\r\n                .catch(e => {\r\n                    getMediaFail(e)\r\n                })\r\n        } else if (navigator.getUserMedia) {\r\n            navigator.getUserMedia(\r\n                {\r\n                    audio: true,\r\n                    video: false,\r\n                },\r\n                stream => {\r\n                    getMediaSuccess(stream)\r\n                },\r\n                function(e) {\r\n                    getMediaFail(e)\r\n                }\r\n            )\r\n        } else {\r\n            if (navigator.userAgent.toLowerCase().match(/chrome/) && location.origin.indexOf('https://') < 0) {\r\n                this.onRecognizerError && this.onRecognizerError(new Error('Cannot get audio due to security issues'))\r\n            } else {\r\n                this.onRecognizerError && this.onRecognizerError(new Error('Cannot get audio'))\r\n            }\r\n            this.audioContext && this.audioContext.close()\r\n            return\r\n        }\r\n        // \r\n        const getMediaSuccess = stream => {\r\n            // JavaScript\r\n            this.audioStream = stream\r\n            this.scriptProcessor = this.audioContext.createScriptProcessor(0, 1, 1)\r\n            this.scriptProcessor.onaudioprocess = e => {\r\n                // \r\n                if (this.status === RecognitionStatus.processing) {\r\n                    transWorker.postMessage(e.inputBuffer.getChannelData(0))\r\n                }\r\n            }\r\n            // MediaStreamAudioSourceNode MediaStream\r\n            this.mediaSource = this.audioContext.createMediaStreamSource(stream)\r\n            // \r\n            this.mediaSource.connect(this.scriptProcessor)\r\n            this.scriptProcessor.connect(this.audioContext.destination)\r\n            this.connectWebSocket()\r\n        }\r\n\r\n        const getMediaFail = (e) => {\r\n            this.audioContext && this.audioContext.close()\r\n            this.audioContext = undefined\r\n            // websocket\r\n            if (this.webSocket && this.webSocket.readyState === 1) {\r\n                this.webSocket.close()\r\n            }\r\n            this.onRecognizerError && this.onRecognizerError(e);\r\n        }\r\n    }\r\n    private recorderStart() {\r\n        if (!this.audioContext) {\r\n            this.recorderInit()\r\n        } else {\r\n            this.audioContext.resume()\r\n            this.connectWebSocket()\r\n        }\r\n    }\r\n    // \r\n    private recorderStop() {\r\n        // safarisuspendresumesafarisuspend\r\n        if (!(/Safari/.test(navigator.userAgent))) {// && !/Chrome/.test(navigator.userAgent))){\r\n            this.audioContext && this.audioContext.suspend()\r\n        }\r\n        this.setStatus(RecognitionStatus.ended)\r\n        this.onRecognizerStop()\r\n    }\r\n    // \r\n    // transAudioData(audioData) {\r\n    //   audioData = transAudioData.transaction(audioData)\r\n    //   this.audioData.push(...audioData)\r\n    // }\r\n    // base64\r\n    private static toBase64(buffer) {\r\n        let binary = '';\r\n        const bytes = new Uint8Array(buffer);\r\n        const len = bytes.byteLength\r\n        for (let i = 0; i < len; i++) {\r\n            binary += String.fromCharCode(bytes[i])\r\n        }\r\n        return window.btoa(binary)\r\n    }\r\n    // webSocket\r\n    private webSocketSend() {\r\n        if (this.webSocket.readyState !== 1) {\r\n            return\r\n        }\r\n        let audioData = this.audioData.splice(0, 1280)\r\n        const params = {\r\n            common: {\r\n                app_id: APPID\r\n            },\r\n            business: {\r\n                language, //----/\r\n                domain: 'iat',\r\n                accent, //----/\r\n                vad_eos: speechEndTimeout,\r\n                dwa: 'wpgs', //\r\n            },\r\n            data: {\r\n                status: 0,\r\n                format: 'audio/L16;rate=16000',\r\n                encoding: 'raw',\r\n                audio: IatRecognizer.toBase64(audioData),\r\n            },\r\n        }\r\n        this.webSocket.send(JSON.stringify(params))\r\n        this.handlerInterval = setInterval(() => {\r\n            // websocket\r\n            if (this.webSocket.readyState !== 1) {\r\n                this.audioData = []\r\n                clearInterval(this.handlerInterval)\r\n                return\r\n            }\r\n            if (this.audioData.length === 0) {\r\n                if (this.status === RecognitionStatus.ended) {\r\n                    this.webSocket.send(\r\n                        JSON.stringify({\r\n                            data: {\r\n                                status: 2,\r\n                                format: 'audio/L16;rate=16000',\r\n                                encoding: 'raw',\r\n                                audio: '',\r\n                            },\r\n                        })\r\n                    )\r\n                    this.audioData = []\r\n                    clearInterval(this.handlerInterval)\r\n                }\r\n                return false\r\n            }\r\n            audioData = this.audioData.splice(0, 1280)\r\n            // \r\n            this.webSocket.send(\r\n                JSON.stringify({\r\n                    data: {\r\n                        status: 1,\r\n                        format: 'audio/L16;rate=16000',\r\n                        encoding: 'raw',\r\n                        audio: IatRecognizer.toBase64(audioData),\r\n                    },\r\n                })\r\n            )\r\n        }, 40)\r\n    }\r\n    private result(resultData) {\r\n        // \r\n        const jsonData = JSON.parse(resultData)\r\n        if (jsonData.data && jsonData.data.result) {\r\n            const data = jsonData.data.result\r\n            let str = ''\r\n            const ws = data.ws\r\n            for (let i = 0; i < ws.length; i++) {\r\n                str = str + ws[i].cw[0].w\r\n            }\r\n            const isLast: boolean = jsonData.data.status === 2;\r\n            // wpgs()\r\n            //  \"apd\"\"rpl\" rg\r\n            if (data.pgs) {\r\n                if (data.pgs === 'apd') {\r\n                    // resultTextTempresultText\r\n                    // @ts-ignore\r\n                    this.setResultText({\r\n                        resultText: this.resultTextTemp,\r\n                        isLast\r\n                    })\r\n                }\r\n                // resultTextTemp\r\n                // @ts-ignore\r\n                this.setResultText({\r\n                    resultTextTemp: this.resultText + str,\r\n                    isLast\r\n                })\r\n            } else {\r\n                // @ts-ignore\r\n                this.setResultText({\r\n                    resultText: this.resultText + str,\r\n                    isLast\r\n                })\r\n            }\r\n        }\r\n        if (jsonData.code === 0 && jsonData.data.status === 2) {\r\n            this.webSocket.close()\r\n        }\r\n        if (jsonData.code !== 0) {\r\n            this.webSocket.close()\r\n            this.onRecognizerError && this.onRecognizerError(new Error('Engine failure, code: ' + jsonData.code))\r\n        }\r\n    }\r\n    public start() {\r\n        this.resultText = ''\r\n        this.resultTextTemp = ''\r\n        this.recorderStart()\r\n    }\r\n    public stop() {\r\n        this.recorderStop()\r\n    }\r\n}\r\n","\r\nexport default {\r\n    userInfo : {\r\n        token : \"\",\r\n        nickname: \"\",\r\n        password: \"\",\r\n        portrait: \"\",\r\n        email: \"\",\r\n        id: 0\r\n    },\r\n    email : \"\",\r\n    password : \"\",\r\n    token : \"\",\r\n    roomInfo : {\r\n        topic : \"\",\r\n        id : \"\",\r\n        token : \"\",\r\n        password : \"\",\r\n        host : 0,\r\n        end_time : \"\",\r\n        start_time: \"\"\r\n    },\r\n    baseURL : \"https://122.112.175.61:4445\",\r\n    openCameraWhenEnter : false,\r\n    openMicrophoneWhenEnter : false,\r\n    videoConstraint : {\r\n        width : {min : 800, ideal : 1000, max:1200},\r\n        height : {min : 480, ideal : 560, max: 700}\r\n    }\r\n}\r\n","import {IatRecognizer} from \"./IatRecognizer\"\r\nimport {RecognitionResult, SpeechText} from \"./Types\";\r\nimport global from \"../global\"\r\n// @ts-ignore\r\nimport moment from \"moment\";\r\n\r\nexport class SpeechRecognition\r\n{\r\n    private working: boolean = null;\r\n    private sentenceEnded: boolean = null;\r\n    // @ts-ignore\r\n    private currentSpeechTimestamp: moment = null;\r\n    private readonly sendSpeechText: (text: SpeechText) => void;\r\n    private recognizer;\r\n    private speechCallbacks: Map<string, (speechTexts: SpeechText[]) => void> = null;\r\n    private speechTextStorage: SpeechText[] = null;\r\n    // fromPeerId ==> SpeechText\r\n    private speakingSpeechTexts: Map<number, SpeechText> = null;\r\n\r\n    constructor(sendSpeechText: (speechText: SpeechText) => void)\r\n    {\r\n        this.working = false;\r\n        this.sentenceEnded = true;\r\n        this.sendSpeechText = sendSpeechText;\r\n\r\n        this.speechTextStorage = [];\r\n        this.speakingSpeechTexts = new Map<number, SpeechText>();\r\n\r\n        this.recognizer = new IatRecognizer()\r\n        this.recognizer.onRecognizerResult = this.onRecognizerResult;\r\n        this.recognizer.onRecognizerStop = () => {\r\n            if (this.working) {\r\n                this.recognizer.start();\r\n            }\r\n        }\r\n\r\n        this.speechCallbacks = new Map<string, (speechTexts: SpeechText[]) => void>();\r\n    }\r\n\r\n    public registerSpeechListener(key: string, recognizedCallback: (speechTexts: SpeechText[]) => void)\r\n    {\r\n        this.speechCallbacks.set(key, recognizedCallback);\r\n    }\r\n\r\n    public deleteSpeechListener(key: string)\r\n    {\r\n        this.speechCallbacks.delete(key);\r\n    }\r\n\r\n    private onRecognizerResult = (recognized: RecognitionResult) => {\r\n        const updateTime = moment();\r\n        if (this.sentenceEnded) {\r\n            this.currentSpeechTimestamp = updateTime;\r\n        }\r\n        const speechText: SpeechText = {\r\n            fromPeerId: global.userInfo.id,\r\n            displayName: global.userInfo.nickname,\r\n            fromMyself: true,\r\n            newSentence: this.sentenceEnded,\r\n            sentenceEnded: recognized.isLast,\r\n            text: recognized.text,\r\n            startTime: this.currentSpeechTimestamp,\r\n            updateTime: updateTime,\r\n        }\r\n        this.sentenceEnded = recognized.isLast;\r\n\r\n        this.sendSpeechText(speechText);\r\n        this.newSpeechText(speechText);\r\n    }\r\n\r\n    public recvPeerSpeech(speechText: SpeechText)\r\n    {\r\n        if (speechText.fromPeerId !== global.userInfo.id) {\r\n            speechText.fromMyself = false;\r\n            speechText.startTime = moment(speechText.startTime);\r\n            speechText.updateTime = moment(speechText.updateTime);\r\n            this.newSpeechText(speechText);\r\n        }\r\n    }\r\n\r\n    private newSpeechText(speechText: SpeechText)\r\n    {\r\n        if (speechText.newSentence || !this.speakingSpeechTexts.has(speechText.fromPeerId)) {\r\n            this.speechTextStorage.push(speechText);\r\n            if (!speechText.sentenceEnded) {\r\n                this.speakingSpeechTexts.set(speechText.fromPeerId, speechText);\r\n            }\r\n        } else {\r\n            const existed = this.speakingSpeechTexts.get(speechText.fromPeerId);\r\n            existed.text = speechText.text;\r\n            existed.updateTime = speechText.updateTime;\r\n            existed.newSentence = false;\r\n            existed.sentenceEnded = speechText.sentenceEnded;\r\n            if (speechText.sentenceEnded) {\r\n                this.speakingSpeechTexts.delete(speechText.fromPeerId);\r\n            }\r\n        }\r\n\r\n        const displayText = this.generateDisplayText();\r\n        this.speechCallbacks.forEach((callback) => {\r\n            callback(displayText);\r\n        });\r\n    }\r\n\r\n    private generateDisplayText()\r\n    {\r\n        return this.speechTextStorage;\r\n    }\r\n\r\n    public exportMeme()\r\n    {\r\n        let meme = '';\r\n        this.speechTextStorage.forEach((speechText) => {\r\n            meme += `${speechText.startTime.format('hh:mm:ss a')}  ${speechText.displayName}: ${speechText.text}\\n`;\r\n        });\r\n        return meme;\r\n    }\r\n\r\n    public start()\r\n    {\r\n        this.working = true;\r\n        this.recognizer.start();\r\n        console.log('[Recognizer]  Started');\r\n    }\r\n\r\n    public stop()\r\n    {\r\n        this.working = false;\r\n        this.recognizer.stop();\r\n        console.log('[Recognizer]  Stopped');\r\n    }\r\n\r\n    public clear()\r\n    {\r\n        if (this.working) {\r\n            this.recognizer.stop();\r\n        }\r\n        this.speakingSpeechTexts.clear();\r\n        this.speechTextStorage = [];\r\n    }\r\n}\r\n","import * as mediasoupClient from \"mediasoup-client\";\r\nimport {types as mediasoupTypes} from \"mediasoup-client\";\r\nimport * as types from \"../utils/Types\";\r\nimport {\r\n    MeetingEndReason,\r\n    meetingURL,\r\n    serviceConfig,\r\n    SignalMethod,\r\n    SignalType,\r\n    SimulcastEncodings,\r\n    socketConnectionOptions,\r\n    TransportType\r\n} from \"../ServiceConfig\";\r\nimport {SignalingService} from \"./SignalingService\";\r\nimport {PeerMedia} from \"../utils/media/PeerMedia\";\r\nimport {timeoutCallback} from \"../utils/media/MediaUtils\";\r\nimport * as events from \"events\"\r\nimport {Moment} from \"moment\";\r\nimport {SpeechRecognition} from \"@/utils/SpeechRecognition\";\r\n\r\nexport class MediaService\r\n{\r\n    private roomToken: string = null;\r\n    private userToken: string = null;\r\n    private meetingURL: string = null;\r\n    private myId: number = null;\r\n    private displayName: string = null;\r\n    private deviceName: string = null;\r\n    private avatar: string = null;\r\n\r\n    private signaling: SignalingService = null;\r\n    private device: mediasoupTypes.Device = null;\r\n    private eventEmitter: events.EventEmitter = null;\r\n\r\n    private sendTransport: mediasoupTypes.Transport = null;\r\n    private recvTransport: mediasoupTypes.Transport = null;\r\n\r\n    // track.id ==> MediaStreamTrack\r\n    private readonly sendingTracks: Map<string, MediaStreamTrack> = null;\r\n    // track.id ==> producer\r\n    private readonly producers: Map<string, mediasoupTypes.Producer> = null;\r\n    private readonly peerMedia: PeerMedia = null;\r\n\r\n    private hostPeerId: number = null;\r\n\r\n    private sendTransportOpt: mediasoupTypes.TransportOptions = null;\r\n    private joined: boolean = null;\r\n    private permissionUpdated: boolean = null;\r\n    private allowed: boolean = null;\r\n\r\n    private updatePeerCallbacks: Map<string, () => void> = null;\r\n    private newMessageCallbacks: Map<string, (message: types.Message) => void> = null;\r\n    private meetingEndCallbacks: Map<string, (reason: MeetingEndReason) => void> = null;\r\n    private beMutedCallbacks: Map<string, () => void> = null;\r\n\r\n    public speechRecognition: SpeechRecognition = null;\r\n\r\n    constructor()\r\n    {\r\n        try {\r\n            this.device = new mediasoupClient.Device();\r\n\r\n            this.sendingTracks = new Map<string, MediaStreamTrack>();\r\n            this.producers = new Map<string, mediasoupTypes.Producer>();\r\n            this.peerMedia = new PeerMedia();\r\n\r\n            this.eventEmitter = new events.EventEmitter();\r\n\r\n            this.joined = false;\r\n            this.permissionUpdated = false;\r\n            this.allowed = false;\r\n\r\n            this.updatePeerCallbacks = new Map<string, () => void>();\r\n            this.newMessageCallbacks = new Map<string, (message: types.Message) => void>();\r\n            this.meetingEndCallbacks = new Map<string, (reason: MeetingEndReason) => void>();\r\n            this.beMutedCallbacks = new Map<string, () => void>();\r\n\r\n            this.speechRecognition = new SpeechRecognition(this.sendSpeechText.bind(this));\r\n\r\n        } catch (err) {\r\n            console.error('[Error]  Fail to construct MediaService instance', err);\r\n        }\r\n    }\r\n\r\n    public registerPeerUpdateListener(key: string, updatePeerCallback: () => void)\r\n    {\r\n        this.updatePeerCallbacks.set(key, updatePeerCallback);\r\n    }\r\n\r\n    public deletePeerUpdateListener(key: string)\r\n    {\r\n        this.updatePeerCallbacks.delete(key);\r\n    }\r\n\r\n    public registerNewMessageListener(key: string, newMessageCallback: (message: types.Message) => void)\r\n    {\r\n        this.newMessageCallbacks.set(key, newMessageCallback);\r\n    }\r\n\r\n    public deleteNewMessageListener(key: string)\r\n    {\r\n        this.newMessageCallbacks.delete(key);\r\n    }\r\n\r\n    public registerMeetingEndListener(key: string, meetingEndCallback: (reason: MeetingEndReason) => void)\r\n    {\r\n        this.meetingEndCallbacks.set(key, meetingEndCallback);\r\n    }\r\n\r\n    public deleteMeetingEndListener(key: string)\r\n    {\r\n        this.meetingEndCallbacks.delete(key);\r\n    }\r\n\r\n    public registerBeMutedListener(key: string, beMutedCallback: () => void)\r\n    {\r\n        this.beMutedCallbacks.set(key, beMutedCallback);\r\n    }\r\n\r\n    public deleteBeMutedListener(key: string)\r\n    {\r\n        this.beMutedCallbacks.delete(key);\r\n    }\r\n\r\n    public getPeerDetails()\r\n    {\r\n        return this.peerMedia.getPeerDetails();\r\n    }\r\n\r\n    public getPeerDetailByPeerId(peerId: number)\r\n    {\r\n        return this.peerMedia.getPeerDetailByPeerId(peerId);\r\n    }\r\n\r\n    public getHostPeerId()\r\n    {\r\n        return this.hostPeerId;\r\n    }\r\n\r\n    private waitForAllowed(): Promise<void>\r\n    {\r\n        return new Promise<void>((resolve, reject) => {\r\n            console.log('[Log]  Waiting for server to allow the connection...');\r\n            let returned: boolean = false;\r\n            this.eventEmitter.once('permissionUpdated', timeoutCallback(() => {\r\n                if (returned)\r\n                    return;\r\n\r\n                returned = true;\r\n                if (this.allowed) {\r\n                    console.log('[Log]  Server allowed the connection')\r\n                    resolve();\r\n                } else {\r\n                    reject('[Error]  Server reject the connection');\r\n                }\r\n            }, serviceConfig.mediaTimeout));\r\n\r\n            if (!returned && this.permissionUpdated) {\r\n                returned = true;\r\n                if (this.allowed) {\r\n                    console.log('[Log]  Server allowed the connection')\r\n                    resolve();\r\n                } else {\r\n                    reject('[Error]  Server reject the connection');\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    public joinMeeting(roomToken: string, userToken: string, myUserId: number,\r\n                       displayName: string, deviceName: string, avatar: string)\r\n    {\r\n        this.speechRecognition.clear();\r\n        return this._joinMeeting(false, roomToken, userToken, myUserId, displayName, deviceName, avatar);\r\n    }\r\n\r\n    // steps for connection:\r\n    // create a signaling client which has a socketio inside, then try to connect to server\r\n    // wait until the connection is built\r\n    // send request to get routerRtpCapabilities from server\r\n    // load the routerRtpCapabilities into device\r\n    //\r\n    private async _joinMeeting(reenter: boolean, roomToken?: string, userToken?: string, myUserId?: number,\r\n                               displayName?: string, deviceName?: string, avatar?: string): Promise<void>\r\n    {\r\n        if (this.joined) {\r\n            console.warn('[Warning]  Already joined a meeting');\r\n            return Promise.reject('Already joined a meeting');\r\n        }\r\n\r\n        if (!reenter) {\r\n            this.roomToken = roomToken;\r\n            this.userToken = userToken;\r\n            this.myId = myUserId;\r\n            this.meetingURL = meetingURL(this.roomToken, this.userToken, this.myId);\r\n            this.displayName = displayName;\r\n            this.deviceName = deviceName;\r\n            this.avatar = avatar;\r\n            console.log('[Log]  Try to join meeting with roomToken = ' + roomToken);\r\n\r\n            try {\r\n                this.signaling = new SignalingService(this.meetingURL, socketConnectionOptions, this.onSignalingDisconnect.bind(this));\r\n                this.registerSignalingListeners();\r\n                await this.signaling.waitForConnection();\r\n                await this.waitForAllowed();\r\n\r\n            } catch (err) {\r\n                console.error('[Error]  Fail to connect socket or the server rejected', err);\r\n                this.meetingEndCallbacks.forEach((callback) => {\r\n                    callback(MeetingEndReason.notAllowed);\r\n                });\r\n                this.leaveMeeting();\r\n                return Promise.reject('Fail to connect socket or the server rejected');\r\n            }\r\n        }\r\n\r\n        try {\r\n            const rtpCapabilities = await this.signaling.sendRequest(SignalMethod.getRouterRtpCapabilities);\r\n            console.log('[Log]  Router RTP Capabilities received');\r\n\r\n            if (!this.device.loaded) {\r\n                await this.device.load({routerRtpCapabilities: rtpCapabilities});\r\n            }\r\n\r\n            await this.createSendTransport();\r\n            await this.createRecvTransport();\r\n\r\n        } catch (err) {\r\n            console.error('[Error]  Fail to prepare device and transports', err);\r\n            this.meetingEndCallbacks.forEach((callback) => {\r\n                callback(MeetingEndReason.lostConnection);\r\n            });\r\n            this.leaveMeeting();\r\n            return Promise.reject('Fail to prepare device and transports');\r\n        }\r\n\r\n        try {\r\n            const { host, peerInfos } = await this.signaling.sendRequest(SignalMethod.join, {\r\n                displayName: this.displayName,\r\n                avatar: this.avatar,\r\n                joined: this.joined,\r\n                device: this.deviceName,\r\n                rtpCapabilities: this.device.rtpCapabilities,\r\n            } as types.JoinRequest) as { host: number, peerInfos: types.PeerInfo[] };\r\n\r\n            this.hostPeerId = host;\r\n\r\n            for (const info of peerInfos) {\r\n                this.peerMedia.addPeerInfo(info);\r\n            }\r\n\r\n            this.updatePeerCallbacks.forEach((callback) => {\r\n                callback();\r\n            });\r\n\r\n            this.joined = true;\r\n\r\n        } catch (err) {\r\n            console.error('[Error]  Fail to join the meeting', err);\r\n            this.meetingEndCallbacks.forEach((callback) => {\r\n                callback(MeetingEndReason.lostConnection);\r\n            });\r\n            this.leaveMeeting();\r\n            return Promise.reject('Fail to join the meeting');\r\n        }\r\n    }\r\n\r\n    public async onSignalingDisconnect()\r\n    {\r\n        console.warn('[Socket]  Disconnected');\r\n        if (this.joined) {\r\n\r\n            try {\r\n                await this.signaling.waitForReconnection();\r\n            } catch (err) {\r\n                this.meetingEndCallbacks.forEach((callback) => {\r\n                    callback(MeetingEndReason.lostConnection);\r\n                });\r\n                this.leaveMeeting();\r\n                return;\r\n            }\r\n\r\n            try {\r\n                await this.restartIce();\r\n            } catch (err) {\r\n                await this.reenter();\r\n            }\r\n        }\r\n    }\r\n\r\n    private async restartIce()\r\n    {\r\n        console.log('[Log]  Trying to restartIce...');\r\n        if (this.sendTransport == null || this.recvTransport == null) {\r\n            console.error('[Error]  Fail to restart Ice: sendTransport or recvTransport has not been created');\r\n            return Promise.reject('Fail to restart Ice');\r\n        }\r\n\r\n        try {\r\n            const sendParam = await this.signaling.sendRequest(SignalMethod.restartIce, { transportId: this.sendTransport.id }) as { iceParameters: mediasoupTypes.IceParameters };\r\n            await this.sendTransport.restartIce({ iceParameters: sendParam.iceParameters });\r\n\r\n            const recvParam = await this.signaling.sendRequest(SignalMethod.restartIce, { transportId: this.recvTransport.id }) as { iceParameters: mediasoupTypes.IceParameters };\r\n            await this.recvTransport.restartIce({ iceParameters: recvParam.iceParameters });\r\n\r\n            console.log('[Log]  Ice restarted');\r\n        } catch (err) {\r\n            console.error('[Error]  Fail to restart Ice', err);\r\n            return Promise.reject('Fail to restart Ice');\r\n        }\r\n    }\r\n\r\n    private async reenter()\r\n    {\r\n        try {\r\n            console.log('[Log]  Trying to reenter the meeting...');\r\n            this.joined = false;\r\n            this.deleteProducers();\r\n            this.deletePeers();\r\n            this.deleteTransports();\r\n            this.resetDevice();\r\n            await this._joinMeeting(true);\r\n        } catch (err) {\r\n            console.error('[Error]  Fail to rejoin the meeting when reentering')\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const tracks: MediaStreamTrack[] = [];\r\n            this.sendingTracks.forEach((track) => {\r\n                tracks.push(track);\r\n            });\r\n            await this.sendMediaStream(new MediaStream(tracks));\r\n            console.log('[Log]  Reentered');\r\n        } catch (err) {\r\n            console.error('[Error]  Fail to resend tracks when reentering')\r\n        }\r\n    }\r\n\r\n    public async sendMediaStream(stream: MediaStream): Promise<void>\r\n    {\r\n        try {\r\n            const tracks = stream.getTracks();\r\n            for (const track of tracks) {\r\n                let source: string = null;\r\n                let params: mediasoupTypes.ProducerOptions = null;\r\n                if (track.kind === 'video') {\r\n                    source = `Video_from_peer_${this.myId}_track_${track.id}`;\r\n                    params = {\r\n                        track,\r\n                        appData: { source },\r\n                        // @ts-ignore\r\n                        encodings: SimulcastEncodings,\r\n                        codecOptions: { videoGoogleStartBitrate : 1000 },\r\n                        // codec: this.device.rtpCapabilities.codecs.find(codec => codec.mimeType === 'video/H264')\r\n                    }\r\n                } else {\r\n                    source = `Audio_from_peer_${this.myId}_track_${track.id}`;\r\n                    params = {\r\n                        track,\r\n                        appData: { source },\r\n                    }\r\n                }\r\n\r\n                const producer = await this.sendTransport.produce(params);\r\n\r\n                producer.on('transportclose', () => {\r\n                    console.log(`[Producer event]  ${source}_transport_close`);\r\n                    if (!producer.closed) {\r\n                        producer.close();\r\n                    }\r\n                    this.producers.delete(track.id);\r\n                });\r\n\r\n                producer.on('trackended', () => {\r\n                    console.log(`[Producer event]  ${source}_track_ended`);\r\n                    this.signaling.sendRequest(SignalMethod.closeProducer, {producerId: producer.id});\r\n                    if (!producer.closed) {\r\n                        producer.close();\r\n                    }\r\n                    this.producers.delete(track.id);\r\n                });\r\n\r\n                this.producers.set(track.id, producer);\r\n\r\n                console.log(`[Log]  Producing ${source}`);\r\n                this.sendingTracks.set(track.id, track);\r\n            }\r\n        } catch (err) {\r\n            console.error('[Error]  Fail to send MediaStream', err);\r\n            return Promise.reject('Fail to send MediaStream');\r\n        }\r\n    }\r\n\r\n    // if _toPeerId == null, it means broadcast to everyone in the meetings\r\n    public async sendText(_toPeerId: number, _text: string, _timestamp): Promise<void>\r\n    {\r\n        try {\r\n            const sendText: types.SendText = {\r\n                toPeerId: _toPeerId,\r\n                text: _text,\r\n                timestamp: _timestamp,\r\n            };\r\n\r\n            await this.signaling.sendRequest(SignalMethod.sendText, sendText);\r\n            console.log('[Log]  Text sent');\r\n        } catch (err) {\r\n            console.error('[Error]  Fail to send text', err);\r\n            return Promise.reject('Fail to send text');\r\n        }\r\n    }\r\n\r\n    public async sendFile(_fileURL: string, _timestamp: Moment, _filename: string, _fileType: string)\r\n    {\r\n        try {\r\n            const sendFile: types.SendFile = {\r\n                fileURL: _fileURL,\r\n                timestamp: _timestamp,\r\n                fileType: _fileType,\r\n                filename: _filename,\r\n            };\r\n\r\n            await this.signaling.sendRequest(SignalMethod.sendFile, sendFile);\r\n            console.log('[Log]  New file notice sent');\r\n        } catch (err) {\r\n            console.error('[Error]  Fail to send new file notice', err);\r\n            return Promise.reject('Fail to send new file notice');\r\n        }\r\n    }\r\n\r\n    public sendSpeechText(speechText: types.SpeechText)\r\n    {\r\n        if (this.signaling && this.signaling.connected()) {\r\n            this.signaling.sendNotify(SignalMethod.sendSpeechText, { speechText });\r\n        }\r\n    }\r\n\r\n    // tell server and clear all meeting-related variables\r\n    public leaveMeeting()\r\n    {\r\n        this.joined = false;\r\n        this.speechRecognition.stop();\r\n        this.resetAllowedState();\r\n        this.deleteSignaling();\r\n        this.deleteProducers();\r\n        this.deletePeers();\r\n        this.deleteTransports();\r\n        this.resetDevice();\r\n        this.deleteSendingTracks();\r\n    }\r\n\r\n    private resetAllowedState()\r\n    {\r\n        this.permissionUpdated = false;\r\n        this.allowed = false;\r\n    }\r\n\r\n    private resetDevice()\r\n    {\r\n        this.device = new mediasoupClient.Device();\r\n    }\r\n\r\n    private deleteProducers()\r\n    {\r\n        if (this.producers) {\r\n            this.producers.forEach((producer) => {\r\n                if (!producer.closed)\r\n                    producer.close();\r\n            });\r\n            this.producers.clear();\r\n        }\r\n    }\r\n\r\n    private deleteSignaling()\r\n    {\r\n        if (this.signaling) {\r\n            this.signaling.removeAllListeners();\r\n            if (this.signaling.connected()) {\r\n                this.signaling.disconnect();\r\n            }\r\n            this.signaling = null;\r\n        }\r\n    }\r\n\r\n    private deletePeers()\r\n    {\r\n        this.hostPeerId = null;\r\n\r\n        if (this.peerMedia)\r\n            this.peerMedia.clear();\r\n    }\r\n\r\n    private deleteTransports()\r\n    {\r\n        if (this.sendTransport && !this.sendTransport.closed) {\r\n            this.sendTransport.close();\r\n        }\r\n        this.sendTransport = null;\r\n        this.sendTransportOpt = null;\r\n\r\n        if (this.recvTransport && !this.recvTransport.closed) {\r\n            this.recvTransport.close();\r\n        }\r\n        this.recvTransport = null;\r\n    }\r\n\r\n    private deleteSendingTracks()\r\n    {\r\n        if (this.sendingTracks) {\r\n            this.sendingTracks.clear();\r\n        }\r\n    }\r\n\r\n    public async closeTrack(track: MediaStreamTrack)\r\n    {\r\n        if (!this.producers.has(track.id)) {\r\n            console.warn('[Producer]  Already closed and deleted')\r\n            return;\r\n        }\r\n\r\n        const producer = this.producers.get(track.id);\r\n        console.log(`[Log]  Try to close track track.id = ${track.id}`);\r\n\r\n        try {\r\n            await this.signaling.sendRequest(SignalMethod.closeProducer, {producerId: producer.id});\r\n        } catch (err) {\r\n            console.error('[Error]  Fail when sending closeProducer request', err);\r\n            return Promise.reject('Fail when sending closeProducer request');\r\n        }\r\n\r\n        if (!this.producers.get(track.id).closed) {\r\n            this.producers.get(track.id).close();\r\n        }\r\n        this.producers.delete(track.id);\r\n        this.sendingTracks.delete(track.id);\r\n\r\n        console.log(`[Log]  Track closed`);\r\n    }\r\n\r\n    // if peerId is not passed, (or = null), it means mute all peers in the room\r\n    // return Promise.reject('Fail to mute peer') if you are not a host or an error occurs\r\n    public async mutePeer(peerId: number = null)\r\n    {\r\n        if (this.hostPeerId && this.hostPeerId !== this.myId) {\r\n            return Promise.reject('Fail to mute peer: Unauthorized');\r\n        }\r\n        try {\r\n            await this.signaling.sendRequest(SignalMethod.mute, { mutePeerId: peerId });\r\n        } catch (err) {\r\n            console.error('[Error]  Fail to mute peer peerId = ' + peerId, err);\r\n            return Promise.reject('Fail to mute peer');\r\n        }\r\n    }\r\n\r\n    public async transferHost(toPeerId: number)\r\n    {\r\n        if (this.hostPeerId && this.hostPeerId !== this.myId) {\r\n            return Promise.reject('Fail to transfer host: Unauthorized');\r\n        }\r\n        try {\r\n            await this.signaling.sendRequest(SignalMethod.transferHost, { hostId: toPeerId });\r\n            this.hostPeerId = toPeerId;\r\n        } catch (err) {\r\n            console.error('[Error]  Fail to transfer host to peer peerId = ' + toPeerId, err);\r\n            return Promise.reject('Fail to transfer host');\r\n        }\r\n    }\r\n\r\n    public async kickPeer(peerId: string)\r\n    {\r\n        if (this.hostPeerId && this.hostPeerId !== this.myId) {\r\n            return Promise.reject('Fail to kick peer: Unauthorized');\r\n        }\r\n        try {\r\n            await this.signaling.sendRequest(SignalMethod.kick, { kickedPeerId: peerId });\r\n        } catch (err) {\r\n            console.error('[Error]  Fail to kick peer peerId = ' + peerId, err);\r\n            return Promise.reject('Fail to kick peer');\r\n        }\r\n    }\r\n\r\n    public async closeRoom()\r\n    {\r\n        if (this.hostPeerId && this.hostPeerId !== this.myId) {\r\n            return Promise.reject('Fail to close meeting: Unauthorized');\r\n        }\r\n        try {\r\n            this.signaling.removeAllListeners();\r\n            await this.signaling.sendRequest(SignalMethod.closeRoom);\r\n        } catch (err) {\r\n            console.error('[Error]  Fail to close meeting', err);\r\n        }\r\n        this.leaveMeeting();\r\n    }\r\n\r\n    public getStatus()\r\n    {\r\n        return this.signaling.sendRequest(SignalMethod.getStatus);\r\n    }\r\n\r\n    private async createSendTransport()\r\n    {\r\n        try {\r\n            this.sendTransportOpt = await this.signaling.sendRequest(SignalMethod.createTransport, {\r\n                transportType: TransportType.producer,\r\n                sctpCapabilities: this.device.sctpCapabilities,\r\n            } as types.CreateTransportRequest) as mediasoupTypes.TransportOptions;\r\n        } catch (err) {\r\n            console.error('[Error]  Fail when sending createTransport (send) request', err);\r\n            return Promise.reject('Fail when sending createTransport (send) request');\r\n        }\r\n\r\n        console.log('[Signaling]  sendTransportOptions received');\r\n\r\n        this.sendTransport = this.device.createSendTransport(this.sendTransportOpt);\r\n\r\n        this.sendTransport.on('connect', async ({dtlsParameters}, done, errBack) => {\r\n            console.log('[Transport event]  event: connect, handled by sendTransport');\r\n            try {\r\n                await this.signaling.sendRequest(\r\n                    SignalMethod.connectTransport, {\r\n                        transportId: this.sendTransport.id,\r\n                        dtlsParameters,\r\n                    } as types.ConnectTransportRequest);\r\n                done();\r\n            } catch (err) {\r\n                errBack(err);\r\n            }\r\n        });\r\n\r\n        this.sendTransport.on('produce', async ({ kind, rtpParameters, appData }, callback, errBack) => {\r\n            console.log('[Transport event]  event: produce, handled by sendTransport');\r\n            try {\r\n                // producerId\r\n                const {producerId} = await this.signaling.sendRequest(\r\n                    SignalMethod.produce, {\r\n                        transportId : this.sendTransport.id,\r\n                        kind,\r\n                        rtpParameters,\r\n                        appData\r\n                    }) as {producerId: string};\r\n                callback({id: producerId});\r\n            } catch (err) {\r\n                errBack(err);\r\n            }\r\n        });\r\n    }\r\n\r\n    private async createRecvTransport()\r\n    {\r\n        try {\r\n            const transportOptions = await this.signaling.sendRequest(SignalMethod.createTransport, {\r\n                transportType: TransportType.consumer,\r\n                sctpCapabilities: this.device.sctpCapabilities,\r\n            } as types.CreateTransportRequest) as mediasoupTypes.TransportOptions;\r\n\r\n\r\n            this.recvTransport = this.device.createRecvTransport(transportOptions);\r\n        } catch (err) {\r\n            console.error('[Error]  Fail when sending createTransport (recv) request', err);\r\n            return Promise.reject('Fail when sending createTransport (recv) request');\r\n        }\r\n\r\n        this.recvTransport.on('connect', async ({dtlsParameters}, done, errBack) => {\r\n            console.log('[Transport event]  event: connect, handled by recvTransport');\r\n            try {\r\n                await this.signaling.sendRequest(\r\n                    SignalMethod.connectTransport, {\r\n                        transportId: this.recvTransport.id,\r\n                        dtlsParameters,\r\n                    } as types.ConnectTransportRequest);\r\n                done();\r\n            } catch (err) {\r\n                errBack(err);\r\n            }\r\n        });\r\n    }\r\n\r\n    private registerSignalingListeners()\r\n    {\r\n        this.signaling.registerListener(SignalType.notify, SignalMethod.allowed, ({ allowed }) => {\r\n            console.log(`[Signaling]  Handling allowed notification with allowed = ${allowed} ...`);\r\n            this.permissionUpdated = true;\r\n            this.allowed = allowed;\r\n            this.eventEmitter.emit('permissionUpdated');\r\n        });\r\n\r\n        this.signaling.registerListener(SignalType.notify, SignalMethod.newPeer, async (data: types.PeerInfo) => {\r\n            console.log('[Signaling]  Handling newPeer notification...');\r\n            this.peerMedia.addPeerInfo(data);\r\n            console.log(`[Signaling]  Add peerId = ${data.id}`);\r\n\r\n            this.updatePeerCallbacks.forEach((callback) => {\r\n                callback();\r\n            });\r\n        });\r\n\r\n        this.signaling.registerListener(SignalType.notify, SignalMethod.newConsumer, async (data: types.ConsumerInfo) => {\r\n            console.log('[Signaling]  Handling newConsumer notification...');\r\n            console.log('[Signaling]  Creating consumer kind = ' + data.kind);\r\n            const consumer = await this.recvTransport.consume({\r\n                id            : data.consumerId,\r\n                producerId    : data.producerId,\r\n                kind          : data.kind,\r\n                rtpParameters : data.rtpParameters\r\n            });\r\n\r\n            consumer.on('pause', async () => {\r\n                console.log('[Consumer]  Pause consumer id = ' + consumer.id);\r\n                await this.signaling.sendRequest(SignalMethod.pauseConsumer, {consumerId: consumer.id});\r\n            });\r\n\r\n            consumer.on('resume', async () => {\r\n                console.log('[Consumer]  Resume consumer id = ' + consumer.id);\r\n                await this.signaling.sendRequest(SignalMethod.resumeConsumer, {consumerId: consumer.id});\r\n            });\r\n\r\n            consumer.pause();\r\n            consumer.emit('pause');\r\n\r\n            this.peerMedia.addConsumer(data.producerPeerId, consumer);\r\n\r\n            this.updatePeerCallbacks.forEach((callback) => {\r\n                callback();\r\n            });\r\n        });\r\n\r\n\r\n        this.signaling.registerListener(SignalType.notify, SignalMethod.consumerClosed, ({ consumerId }) => {\r\n            console.log('[Signaling]  Handling consumerClosed notification...');\r\n            console.log(`[Signaling]  Delete consumer id = ${consumerId}`);\r\n            this.peerMedia.deleteConsumer(consumerId);\r\n\r\n            this.updatePeerCallbacks.forEach((callback) => {\r\n                callback();\r\n            });\r\n        });\r\n\r\n        this.signaling.registerListener(SignalType.notify, SignalMethod.peerClosed, ({ peerId }) => {\r\n            console.log('[Signaling]  Handling peerClosed notification...');\r\n            console.log(`[Signaling]  Delete peer id = ${peerId}`);\r\n            this.peerMedia.deletePeer(peerId);\r\n\r\n            this.updatePeerCallbacks.forEach((callback) => {\r\n                callback();\r\n            });\r\n        });\r\n\r\n        this.signaling.registerListener(SignalType.notify, SignalMethod.newText, (recvText: types.RecvText) => {\r\n            console.log('[Signaling]  Handling newText notification...');\r\n            console.log(`[Signaling]  Text (${recvText.text}) received from peer (peerId: ${recvText.fromPeerId})`);\r\n            const message: types.Message = {\r\n                type: types.MessageType.text,\r\n                broadcast: recvText.broadcast,\r\n                fromMyself: false,\r\n                fromPeerId: recvText.fromPeerId,\r\n                text: recvText.text,\r\n                timestamp: recvText.timestamp,\r\n            }\r\n\r\n            this.newMessageCallbacks.forEach((callback) => {\r\n                callback(message);\r\n            });\r\n        });\r\n\r\n        this.signaling.registerListener(SignalType.notify, SignalMethod.newSpeechText, ({ speechText }) => {\r\n            console.log('[Signaling]  Handling newSpeechText notification...');\r\n            this.speechRecognition.recvPeerSpeech(speechText);\r\n        })\r\n\r\n        this.signaling.registerListener(SignalType.notify, SignalMethod.newFile, (recvFile: types.RecvFile) => {\r\n            console.log('[Signaling]  Handling newFile notification...');\r\n            console.log(`[Signaling]  New File notification (URL: ${recvFile.fileURL}) received from peer (peerId: ${recvFile.fromPeerId})`);\r\n            const message: types.Message = {\r\n                type: types.MessageType.file,\r\n                broadcast: true,\r\n                fileJobType: types.FileJobType.download,\r\n                fileURL: recvFile.fileURL,\r\n                fromMyself: false,\r\n                fromPeerId: recvFile.fromPeerId,\r\n                timestamp: recvFile.timestamp,\r\n                filename: recvFile.filename,\r\n                fileType: recvFile.fileType,\r\n                fileJobStatus: types.FileJobStatus.unDownloaded,\r\n            }\r\n\r\n            this.newMessageCallbacks.forEach((callback) => {\r\n                callback(message);\r\n            });\r\n        });\r\n\r\n        this.signaling.registerListener(SignalType.notify, SignalMethod.hostChanged, ({ newHostId }) => {\r\n            console.log(`[Signaling]  Handling hostChanged notification...`);\r\n            console.log(`[Signaling]  Host of the meeting changed from ${this.hostPeerId} to ${newHostId}`);\r\n            this.hostPeerId = newHostId;\r\n\r\n            this.updatePeerCallbacks.forEach((callback) => {\r\n                callback();\r\n            });\r\n        });\r\n\r\n        this.signaling.registerListener(SignalType.notify, SignalMethod.roomClosed, async () => {\r\n            console.log('[Signaling]  Handling roomClosed notification...');\r\n            this.meetingEndCallbacks.forEach((callback) => {\r\n                callback(MeetingEndReason.roomClosed);\r\n            });\r\n            this.leaveMeeting();\r\n            console.warn('[Signaling]  Room closed');\r\n        });\r\n\r\n        this.signaling.registerListener(SignalType.notify, SignalMethod.kicked, async () => {\r\n            console.log('[Signaling]  Handling kicked notification...');\r\n            this.meetingEndCallbacks.forEach((callback) => {\r\n                callback(MeetingEndReason.kicked);\r\n            });\r\n            this.leaveMeeting();\r\n            console.warn('[Signaling]  Kicked by host');\r\n        });\r\n\r\n        this.signaling.registerListener(SignalType.notify, SignalMethod.beMuted, ({producerId}) => {\r\n            console.log('[Signaling]  Handling beMuted notification...');\r\n\r\n            let trackId: string = null;\r\n            this.producers.forEach((producer, key) => {\r\n                if (producer.id === producerId) {\r\n                    if (!producer.closed) {\r\n                        producer.close();\r\n                    }\r\n                    trackId = key;\r\n                }\r\n            });\r\n            if (trackId != null) {\r\n                this.producers.delete(trackId);\r\n                this.sendingTracks.delete(trackId);\r\n                this.beMutedCallbacks.forEach((callback) => {\r\n                    callback();\r\n                });\r\n            }\r\n            console.warn('[Signaling]  Muted by host');\r\n        });\r\n    }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('video',{attrs:{\"id\":_vm.myId,\"autoplay\":_vm.srcObject}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <video :id=\"myId\" :autoplay=\"srcObject\"></video>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"myVideo\",\r\n    mounted() {\r\n      this.videoElement = document.getElementById(this.myId)\r\n      this.videoElement.style.transform = this.mirror ? \"rotateY(180deg)\" : \"\"\r\n      this.videoElement.srcObject = this.srcObject;\r\n    },\r\n    props: [\"srcObject\", \"mirror\", \"myId\"],\r\n    watch: {\r\n      srcObject(newValue) {\r\n          this.videoElement.srcObject = newValue\r\n      },\r\n      mirror(newValue) {\r\n        this.videoElement.style.transform = newValue ? \"rotateY(180deg)\" : \"\"\r\n        this.videoElement.srcObject = this.srcObject\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myVideo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myVideo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./myVideo.vue?vue&type=template&id=20ce5f93&scoped=true&\"\nimport script from \"./myVideo.vue?vue&type=script&lang=js&\"\nexport * from \"./myVideo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"20ce5f93\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file-card\"},[_c('div',{staticClass:\"file-content\"},[_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"1\"}},[_c('v-badge',{attrs:{\"bordered\":\"\",\"color\":\"success\",\"icon\":\"mdi-check\",\"overlap\":\"\",\"value\":_vm.downloaded}},[_c('v-icon',{attrs:{\"color\":\"teal\",\"size\":\"25px\"}},[_vm._v(\"mdi-\"+_vm._s(_vm.icon))])],1)],1),_c('v-col',{attrs:{\"cols\":\"7\"}},[_c('p',{staticClass:\"file-card-text\"},[_vm._v(\" \"+_vm._s(this.message.filename)+\" \")])]),_c('v-col',{attrs:{\"align\":\"right\",\"cols\":\"2\"}},[_c('p',{staticClass:\"file-card-progress\"},[_vm._v(\" \"+_vm._s(this.progress)+\"% \")])]),_c('v-col',{attrs:{\"align\":\"center\",\"cols\":\"2\"}},[_c('v-btn',{attrs:{\"small\":\"\",\"icon\":\"\",\"color\":\"teal\",\"loading\":_vm.downloading},on:{\"click\":_vm.download}},[_c('v-icon',[_vm._v(\" \"+_vm._s(_vm.downloaded?'mdi-reload':'mdi-download-outline')+\" \")])],1)],1)],1),_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',[_c('v-progress-linear',{attrs:{\"color\":\"teal\"},model:{value:(_vm.progress),callback:function ($$v) {_vm.progress=$$v},expression:\"progress\"}})],1)],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"file-card\">\r\n    <div class=\"file-content\">\r\n      <v-container>\r\n        <v-row>\r\n          <v-col cols=\"1\">\r\n            <v-badge\r\n                bordered\r\n                color=\"success\"\r\n                icon=\"mdi-check\"\r\n                overlap\r\n                :value=\"downloaded\"\r\n            >\r\n            <v-icon color=\"teal\" size=\"25px\">mdi-{{icon}}</v-icon>\r\n            </v-badge>\r\n          </v-col>\r\n          <v-col cols=\"7\">\r\n            <p class=\"file-card-text\"> {{this.message.filename}} </p>\r\n          </v-col>\r\n          <v-col align=\"right\" cols=\"2\">\r\n            <p class=\"file-card-progress\"> {{this.progress}}% </p>\r\n          </v-col>\r\n          <v-col align=\"center\" cols=\"2\">\r\n            <v-btn small icon @click=\"download\" color=\"teal\" :loading=\"downloading\">\r\n              <v-icon>\r\n                {{downloaded?'mdi-reload':'mdi-download-outline'}}\r\n              </v-icon>\r\n            </v-btn>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row dense>\r\n          <v-col>\r\n            <v-progress-linear v-model=\"progress\" color=\"teal\">\r\n            </v-progress-linear>\r\n          </v-col>\r\n        </v-row>\r\n      </v-container>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"DownloadFile\",\r\n  data(){\r\n    return{\r\n      progress : 0,\r\n      icon : 'close',\r\n      downloaded : false,\r\n      downloading : false,\r\n      map4icon : {\r\n        'image/x-ms-bmp' : 'file-image-outline',\r\n        'image/jpeg' : 'file-image-outline',\r\n        'image/gif' : 'file-image-outline',\r\n        'image/png' : 'file-image-outline',\r\n        'image/tiff' : 'file-image-outline',\r\n        'image/x-targa' : 'file-image-outline',\r\n        'image/vnd.adobe.photoshop' : 'file-image-outline',\r\n        'audio/mpeg' : 'file-music-outline',\r\n        'audio/midi' : 'file-music-outline',\r\n        'audio/ogg' : 'file-music-outline',\r\n        'audio/mp4' : 'file-music-outline',\r\n        'audio/wav' : 'file-music-outline',\r\n        'audio/x-ms-wma' : 'file-music-outline',\r\n        'video/x-msvideo' : 'file-video-outline',\r\n        'video/x-dv' : 'file-video-outline',\r\n        'video/mp4' : 'file-video-outline',\r\n        'video/mpeg' : 'file-video-outline',\r\n        'video/quicktime' : 'file-video-outline',\r\n        'video/x-ms-wmv' : 'file-video-outline',\r\n        'video/x-flv' : 'file-video-outline',\r\n        'video/x-matroska' : 'file-video-outline',\r\n        'text/plain' : 'file-document-outline',\r\n        'text/x-php'  : 'language-php',\r\n        'text/html' : 'language-html5',\r\n        'text/javascript' : 'language-javascript',\r\n        'text/css' : 'language-css3',\r\n        'text/rtf' : 'file-document-outline',\r\n        'text/rtfd' : 'file-document-outline',\r\n        'text/x-python' : 'language-python',\r\n        'text/x-java-source' : 'language-java',\r\n        'text/x-ruby' : 'language-ruby',\r\n        'text/x-shellscript' : 'powershell',\r\n        'text/x-perl' : 'file-document-outline',\r\n        'text/x-sql' : 'file-document-outline',\r\n        'application/x-msdownload' : 'download',\r\n        'application/postscript' : 'file-question-outline',\r\n        'application/octet-stream' : 'file-question-outline',\r\n        'application/vnd.ms-word' : 'file-word-outline',\r\n        'application/vnd.openxmlformats-officedocument.wordprocessingml.document' :  'file-word-outline',\r\n        'application/vnd.ms-excel' : 'file-excel-outline',\r\n        'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' : 'file-excel-outline',\r\n        'application/vnd.ms-powerpoint' : 'file-powerpoint-outline',\r\n        'application/vnd.openxmlformats-officedocument.presentationml.presentation' : 'file-powerpoint-outline',\r\n        'application/pdf' : 'file-pdf-outline',\r\n        'application/xml' : 'file-question-outline',\r\n        'application/vnd.oasis.opendocument.text' : 'file-question-outline',\r\n        'application/x-shockwave-flash' : 'file-question-outline',\r\n        'application/x-gzip' : 'folder-zip-outline',\r\n        'application/x-bzip2' : 'folder-zip-outline',\r\n        'application/zip' : 'folder-zip-outline',\r\n        'application/x-rar' : 'folder-zip-outline',\r\n        'application/x-tar' : 'folder-zip-outline',\r\n        'application/x-7z-compressed' : 'folder-zip-outline',\r\n        'application/x-zip-compressed' : 'folder-zip-outline',\r\n        'default':'file-question-outline',\r\n      },\r\n    }\r\n  },\r\n  props : ['message'],\r\n  methods:{\r\n    async download(){\r\n      let url = this.message.fileURL;\r\n      this.progress = 0;\r\n      this.downloaded = false\r\n      this.downloading = true\r\n      try {\r\n        const response = await axios({\r\n          method: \"get\",\r\n          url,\r\n          responseType: \"blob\",\r\n          onDownloadProgress: (evt) => {\r\n            this.progress = ((evt.loaded / evt.total) * 100).toFixed(1);\r\n          }\r\n        })\r\n        console.log(response);\r\n        this.downloaded = true;\r\n        this.downloading = false;\r\n        const filename = this.message.filename;\r\n        const blob = new Blob([response.data]);\r\n        var downloadElement = document.createElement(\"a\");\r\n        var href = window.URL.createObjectURL(blob);\r\n        downloadElement.href = href;\r\n        downloadElement.download = decodeURIComponent(filename);\r\n        document.body.appendChild(downloadElement);\r\n        downloadElement.click();\r\n        document.body.removeChild(downloadElement);\r\n        window.URL.revokeObjectURL(href);\r\n      }catch(error){\r\n        console.error(error)\r\n        this.downloading = false;\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    if (this.message.fileType in this.map4icon)\r\n      this.icon = this.map4icon[this.message.fileType];\r\n    else this.icon = this.map4icon['default'];\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.file-card{\r\n  padding: 10px 15px;\r\n}\r\n.file-content{\r\n  background : white;\r\n  width: 350px;\r\n  border-radius: 10px;\r\n  border: 2px solid teal;\r\n}\r\n.file-card-text{\r\n  font-family: \"Microsoft YaHei UI\", serif;\r\n  font-size: 15px;\r\n  color: #00796B;\r\n  padding: 0;\r\n  width: 195px;\r\n  margin: 0 5px;\r\n  overflow: hidden;\r\n  text-overflow:ellipsis;\r\n  white-space: nowrap;\r\n}\r\n.file-card-progress{\r\n  font-family: \"Microsoft YaHei UI\", serif;\r\n  font-size: 10px;\r\n  color: #00796B;\r\n  padding: 0;\r\n  margin: 8px 0 0 0;\r\n  text-align: right;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DownloadFile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DownloadFile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DownloadFile.vue?vue&type=template&id=b72f9724&scoped=true&\"\nimport script from \"./DownloadFile.vue?vue&type=script&lang=js&\"\nexport * from \"./DownloadFile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DownloadFile.vue?vue&type=style&index=0&id=b72f9724&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b72f9724\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBadge } from 'vuetify/lib/components/VBadge';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBadge,VBtn,VCol,VContainer,VIcon,VProgressLinear,VRow})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file-card\"},[_c('div',{staticClass:\"file-content\"},[_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"1\"}},[_c('v-badge',{attrs:{\"bordered\":\"\",\"color\":\"success\",\"icon\":\"mdi-check\",\"overlap\":\"\",\"value\":_vm.uploaded}},[_c('v-icon',{attrs:{\"color\":\"teal\",\"size\":\"25px\"}},[_vm._v(\"mdi-\"+_vm._s(_vm.icon))])],1)],1),_c('v-col',{attrs:{\"cols\":\"7\"}},[_c('p',{staticClass:\"file-card-text\"},[_vm._v(\" \"+_vm._s(this.file.name)+\" \")])]),_c('v-col',{attrs:{\"align\":\"right\",\"cols\":\"2\"}},[_c('p',{staticClass:\"file-card-progress\"},[_vm._v(\" \"+_vm._s(this.progress)+\"% \")])]),_c('v-col',{attrs:{\"align\":\"center\",\"cols\":\"2\"}},[_c('v-btn',{attrs:{\"small\":\"\",\"icon\":\"\",\"color\":\"teal\",\"loading\":_vm.uploading},on:{\"click\":_vm.upload}},[_c('v-icon',[_vm._v(\" mdi-reload \")])],1)],1)],1),_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',[_c('v-progress-linear',{attrs:{\"color\":\"teal\"},model:{value:(_vm.progress),callback:function ($$v) {_vm.progress=$$v},expression:\"progress\"}})],1)],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"file-card\">\r\n    <div class=\"file-content\">\r\n      <v-container>\r\n        <v-row>\r\n          <v-col cols=\"1\">\r\n            <v-badge\r\n                bordered\r\n                color=\"success\"\r\n                icon=\"mdi-check\"\r\n                overlap\r\n                :value=\"uploaded\"\r\n            >\r\n              <v-icon color=\"teal\" size=\"25px\">mdi-{{icon}}</v-icon>\r\n            </v-badge>\r\n          </v-col>\r\n          <v-col cols=\"7\">\r\n            <p class=\"file-card-text\"> {{this.file.name}} </p>\r\n          </v-col>\r\n          <v-col align=\"right\" cols=\"2\">\r\n            <p class=\"file-card-progress\"> {{this.progress}}% </p>\r\n          </v-col>\r\n          <v-col align=\"center\" cols=\"2\">\r\n            <v-btn small icon  @click=\"upload\" color=\"teal\" :loading=\"uploading\">\r\n              <v-icon>\r\n                mdi-reload\r\n              </v-icon>\r\n            </v-btn>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row dense>\r\n          <v-col>\r\n            <v-progress-linear v-model=\"progress\" color=\"teal\">\r\n            </v-progress-linear>\r\n          </v-col>\r\n        </v-row>\r\n      </v-container>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport FormData from \"form-data\";\r\n\r\nexport default {\r\n  name: \"UploadFile\",\r\n  data(){\r\n    return{\r\n      progress : 0,\r\n      icon : 'close',\r\n      uploaded : false,\r\n      uploading : false,\r\n      map4icon : {\r\n        'image/x-ms-bmp' : 'file-image-outline',\r\n        'image/jpeg' : 'file-image-outline',\r\n        'image/gif' : 'file-image-outline',\r\n        'image/png' : 'file-image-outline',\r\n        'image/tiff' : 'file-image-outline',\r\n        'image/x-targa' : 'file-image-outline',\r\n        'image/vnd.adobe.photoshop' : 'file-image-outline',\r\n        'audio/mpeg' : 'file-music-outline',\r\n        'audio/midi' : 'file-music-outline',\r\n        'audio/ogg' : 'file-music-outline',\r\n        'audio/mp4' : 'file-music-outline',\r\n        'audio/wav' : 'file-music-outline',\r\n        'audio/x-ms-wma' : 'file-music-outline',\r\n        'video/x-msvideo' : 'file-video-outline',\r\n        'video/x-dv' : 'file-video-outline',\r\n        'video/mp4' : 'file-video-outline',\r\n        'video/mpeg' : 'file-video-outline',\r\n        'video/quicktime' : 'file-video-outline',\r\n        'video/x-ms-wmv' : 'file-video-outline',\r\n        'video/x-flv' : 'file-video-outline',\r\n        'video/x-matroska' : 'file-video-outline',\r\n        'text/plain' : 'file-document-outline',\r\n        'text/x-php'  : 'language-php',\r\n        'text/html' : 'language-html5',\r\n        'text/javascript' : 'language-javascript',\r\n        'text/css' : 'language-css3',\r\n        'text/rtf' : 'file-document-outline',\r\n        'text/rtfd' : 'file-document-outline',\r\n        'text/x-python' : 'language-python',\r\n        'text/x-java-source' : 'language-java',\r\n        'text/x-ruby' : 'language-ruby',\r\n        'text/x-shellscript' : 'powershell',\r\n        'text/x-perl' : 'file-document-outline',\r\n        'text/x-sql' : 'file-document-outline',\r\n        'application/x-msdownload' : 'download',\r\n        'application/postscript' : 'file-question-outline',\r\n        'application/octet-stream' : 'file-question-outline',\r\n        'application/vnd.ms-word' : 'file-word-outline',\r\n        'application/vnd.openxmlformats-officedocument.wordprocessingml.document' :  'file-word-outline',\r\n        'application/vnd.ms-excel' : 'file-excel-outline',\r\n        'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' : 'file-excel-outline',\r\n        'application/vnd.ms-powerpoint' : 'file-powerpoint-outline',\r\n        'application/vnd.openxmlformats-officedocument.presentationml.presentation' : 'file-powerpoint-outline',\r\n        'application/pdf' : 'file-pdf-outline',\r\n        'application/xml' : 'file-question-outline',\r\n        'application/vnd.oasis.opendocument.text' : 'file-question-outline',\r\n        'application/x-shockwave-flash' : 'file-question-outline',\r\n        'application/x-gzip' : 'folder-zip-outline',\r\n        'application/x-bzip2' : 'folder-zip-outline',\r\n        'application/zip' : 'folder-zip-outline',\r\n        'application/x-rar' : 'folder-zip-outline',\r\n        'application/x-tar' : 'folder-zip-outline',\r\n        'application/x-7z-compressed' : 'folder-zip-outline',\r\n        'application/x-zip-compressed' : 'folder-zip-outline',\r\n        'default':'file-question-outline',\r\n      },\r\n    }\r\n  },\r\n  props : ['message', 'file'],\r\n  methods:{\r\n    async upload(){\r\n      let url = this.GLOBAL.baseURL + '/file?token=' + this.GLOBAL.userInfo.token;\r\n      this.progress = 0;\r\n      this.uploaded = false;\r\n      this.uploading = true;\r\n      console.log(this.file);\r\n      const formData = new FormData();\r\n      formData.append('file', this.file);\r\n      try {\r\n        const response = await axios({\r\n          method: \"post\",\r\n          url,\r\n          data: formData,\r\n          headers:{'Content-Type': 'multipart/form-data'},\r\n          onUploadProgress: (evt) => {\r\n            this.progress = ((evt.loaded / evt.total) * 100).toFixed(2);\r\n          }\r\n        })\r\n        console.log(response);\r\n        this.uploaded = true;\r\n        this.uploading = false;\r\n        this.$emit('file-sended', response.data, this.file)\r\n      }catch(error){\r\n        console.error(error)\r\n        this.uploading = false;\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    console.log(this.file.type);\r\n    if (this.file.type in this.map4icon)\r\n      this.icon = this.map4icon[this.file.type];\r\n    else this.icon = this.map4icon['default'];\r\n    this.upload();\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.file-card{\r\n  padding: 0px 10px 10px 10px;\r\n}\r\n.file-content{\r\n  background : white;\r\n  width: 350px;\r\n  border-radius: 10px;\r\n  border: 2px solid teal;\r\n}\r\n.file-card-text{\r\n  font-family: \"Microsoft YaHei UI\", serif;\r\n  font-size: 15px;\r\n  color: #00796B;\r\n  padding: 0;\r\n  width: 195px;\r\n  margin: 0 5px;\r\n  overflow: hidden;\r\n  text-overflow:ellipsis;\r\n  white-space: nowrap;\r\n}\r\n.file-card-progress{\r\n  font-family: \"Microsoft YaHei UI\", serif;\r\n  font-size: 10px;\r\n  color: #00796B;\r\n  padding: 0;\r\n  margin: 10px 10px 0 0;\r\n  text-align: right;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadFile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadFile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadFile.vue?vue&type=template&id=00f739d4&scoped=true&\"\nimport script from \"./UploadFile.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadFile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UploadFile.vue?vue&type=style&index=0&id=00f739d4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00f739d4\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBadge } from 'vuetify/lib/components/VBadge';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBadge,VBtn,VCol,VContainer,VIcon,VProgressLinear,VRow})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"width\":\"500\",\"attach\":\"#mainWindow\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"d-block text-center mx-auto mb-9\",attrs:{\"icon\":\"\",\"color\":\"gray\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-cog-outline\")])],1)]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"grey lighten-4\"},[_c('v-tabs',{attrs:{\"background-color\":\"grey lighten-4\",\"color\":\"teal\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab',[_vm._v(\"  \")]),_c('v-tab',[_vm._v(\"  \")]),_c('v-tab',[_vm._v(\"  \")])],1)],1),_c('v-divider'),_c('v-tabs-items',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab-item'),_c('v-tab-item',{staticStyle:{\"margin\":\"0 25%\"}},[_c('v-switch',{attrs:{\"label\":\"\",\"inset\":\"\",\"dense\":\"\",\"color\":\"teal\"},on:{\"click\":function($event){return _vm.clickVBSwitch('blur')}},model:{value:(_vm.blurSwitch),callback:function ($$v) {_vm.blurSwitch=$$v},expression:\"blurSwitch\"}}),_c('v-switch',{attrs:{\"label\":\"\",\"inset\":\"\",\"dense\":\"\",\"color\":\"teal\"},on:{\"click\":function($event){return _vm.clickVBSwitch('replace')}},model:{value:(_vm.replaceSwitch),callback:function ($$v) {_vm.replaceSwitch=$$v},expression:\"replaceSwitch\"}}),_c('v-expand-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.replaceSwitch),expression:\"this.replaceSwitch\"}],staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.prev}},[_c('v-icon',{staticStyle:{\"color\":\"teal\"}},[_vm._v(\"mdi-chevron-left\")])],1),_c('v-card',{staticStyle:{\"margin-left\":\"5px\",\"margin-right\":\"5px\"},attrs:{\"width\":\"200px\",\"height\":\"100px\"}},[_c('v-img',{attrs:{\"src\":_vm.backgroundImgs[_vm.imgIter],\"width\":\"100%\",\"height\":\"100%\"}})],1),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.next}},[_c('v-icon',{staticStyle:{\"color\":\"teal\"}},[_vm._v(\"mdi-chevron-right\")])],1)],1)])],1),_c('v-tab-item',[_c('v-switch',{staticStyle:{\"margin\":\"5% 35%\"},attrs:{\"label\":\"\",\"inset\":\"\",\"dense\":\"\",\"color\":\"teal\"},model:{value:(_vm.displayVideo),callback:function ($$v) {_vm.displayVideo=$$v},expression:\"displayVideo\"}}),_c('v-switch',{staticStyle:{\"margin\":\"5% 35%\"},attrs:{\"label\":\"\",\"inset\":\"\",\"dense\":\"\",\"color\":\"teal\"},model:{value:(_vm.displayAudio),callback:function ($$v) {_vm.displayAudio=$$v},expression:\"displayAudio\"}}),_c('v-select',{staticStyle:{\"padding\":\"0 15%\"},attrs:{\"attach\":\"\",\"items\":_vm.sources,\"item-text\":\"name\",\"item-value\":\"id\",\"label\":\"\",\"single-line\":\"\"},on:{\"click\":_vm.getSources},model:{value:(_vm.displaySourceId),callback:function ($$v) {_vm.displaySourceId=$$v},expression:\"displaySourceId\"}}),_c('video',{staticStyle:{\"border\":\"1px solid teal\",\"margin-left\":\"100px\",\"width\":\"300px\",\"height\":\"200px\"},attrs:{\"id\":\"screen-preview\",\"autoplay\":\"\"}})],1)],1),_c('v-divider',{staticStyle:{\"margin-top\":\"10px\"}}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":_vm.changeSettings}},[_vm._v(\"  \")]),_c('v-btn',{attrs:{\"color\":\"warning\",\"text\":\"\"},on:{\"click\":_vm.cancelChangeSetting}},[_vm._v(\"  \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-dialog\r\n          v-model=\"dialog\"\r\n          width=\"500\"\r\n          attach=\"#mainWindow\"\r\n  >\r\n    <template v-slot:activator=\"{ on, attrs }\">\r\n      <v-btn\r\n              icon\r\n              class=\"d-block text-center mx-auto mb-9\"\r\n              color=\"gray\"\r\n              v-bind=\"attrs\"\r\n              v-on=\"on\">\r\n        <v-icon>mdi-cog-outline</v-icon>\r\n      </v-btn>\r\n    </template>\r\n\r\n    <v-card>\r\n      <v-card-title class=\"grey lighten-4\">\r\n        <v-tabs background-color=\"grey lighten-4\" color=\"teal\" v-model=\"tab\">\r\n          <v-tab>\r\n            \r\n          </v-tab>\r\n          <v-tab>\r\n            \r\n          </v-tab>\r\n          <v-tab>\r\n            \r\n          </v-tab>\r\n        </v-tabs>\r\n      </v-card-title>\r\n      <v-divider></v-divider>\r\n      <v-tabs-items v-model=\"tab\">\r\n        <v-tab-item>\r\n        </v-tab-item>\r\n        <v-tab-item style=\"margin:0 25%\">\r\n          <v-switch\r\n                  v-model=\"blurSwitch\"\r\n                  @click=\"clickVBSwitch('blur')\"\r\n                  label=\"\"\r\n                  inset\r\n                  dense\r\n                  color=\"teal\">\r\n          </v-switch>\r\n          <v-switch\r\n                  v-model=\"replaceSwitch\"\r\n                  @click=\"clickVBSwitch('replace')\"\r\n                  label=\"\"\r\n                  inset\r\n                  dense\r\n                  color=\"teal\">\r\n          </v-switch>\r\n          <v-expand-transition>\r\n            <div v-show=\"this.replaceSwitch\" style=\"display: flex; align-items: center\">\r\n              <v-btn icon @click=\"prev\" >\r\n                <v-icon style=\"color: teal\">mdi-chevron-left</v-icon>\r\n              </v-btn>\r\n              <v-card\r\n                      style=\"margin-left: 5px;margin-right: 5px\"\r\n                      width=\"200px\"\r\n                      height=\"100px\">\r\n                <v-img\r\n                        :src=\"backgroundImgs[imgIter]\"\r\n                        width=\"100%\"\r\n                        height=\"100%\">\r\n                </v-img>\r\n              </v-card>\r\n              <v-btn icon @click=\"next\">\r\n                <v-icon style=\"color: teal\">mdi-chevron-right</v-icon>\r\n              </v-btn>\r\n            </div>\r\n          </v-expand-transition>\r\n        </v-tab-item>\r\n        <v-tab-item>\r\n          <v-switch\r\n              style=\"margin:5% 35%\"\r\n              v-model=\"displayVideo\"\r\n              label=\"\"\r\n              inset\r\n              dense\r\n              color=\"teal\">\r\n          </v-switch>\r\n          <v-switch\r\n              style=\"margin:5% 35%\"\r\n              v-model=\"displayAudio\"\r\n              label=\"\"\r\n              inset\r\n              dense\r\n              color=\"teal\">\r\n          </v-switch>\r\n          <v-select\r\n              attach\r\n              @click=\"getSources\"\r\n              style=\"padding: 0 15%\"\r\n              v-model=\"displaySourceId\"\r\n              :items=\"sources\"\r\n              item-text=\"name\"\r\n              item-value=\"id\"\r\n              label=\"\"\r\n              single-line\r\n          ></v-select>\r\n          <video id=\"screen-preview\" autoplay style=\"border: 1px solid teal; margin-left: 100px; width: 300px; height: 200px\"></video>\r\n        </v-tab-item>\r\n      </v-tabs-items>\r\n      <v-divider style=\"margin-top: 10px\"></v-divider>\r\n      <v-card-actions>\r\n        <v-spacer></v-spacer>\r\n        <v-btn\r\n                color=\"primary\"\r\n                text\r\n                @click=\"changeSettings\"\r\n        >\r\n          \r\n        </v-btn>\r\n        <v-btn\r\n                color=\"warning\"\r\n                text\r\n                @click=\"cancelChangeSetting\"\r\n        >\r\n          \r\n        </v-btn>\r\n      </v-card-actions>\r\n    </v-card>\r\n  </v-dialog>\r\n</template>\r\n\r\n<script>\r\n  //import {desktopCapturer} from \"electron\";\r\n\r\n  export default {\r\n    name: \"settingDialog\",\r\n    components: {},\r\n    methods : {\r\n      pickImg (img) {\r\n        this.background = img\r\n      },\r\n      clickVBSwitch (switchName) {\r\n        if (switchName === 'blur') {\r\n          this.replaceSwitch = false\r\n        } else {\r\n          this.blurSwitch = false\r\n        }\r\n      },\r\n      changeSettings () {\r\n        this.oldBlurSwitch = this.blurSwitch\r\n        this.oldReplaceSwitch = this.replaceSwitch\r\n        this.oldImgIter = this.imgIter\r\n        this.$emit('changeSettings', this.blurSwitch, this.replaceSwitch, this.backgroundImgs[this.imgIter], {video: this.displayVideo, audio: this.displayAudio, id: this.displaySourceId})\r\n        this.dialog = false\r\n      },\r\n      cancelChangeSetting () {\r\n        this.blurSwitch = this.oldBlurSwitch\r\n        this.replaceSwitch = this.oldReplaceSwitch\r\n        this.imgIter = this.oldImgIter\r\n        this.dialog = false\r\n      },\r\n      prev () {\r\n        this.imgIter = (this.imgIter === 0) ? this.backgroundImgs.length - 1 : this.imgIter - 1\r\n      },\r\n      next () {\r\n        this.imgIter = (this.imgIter === this.backgroundImgs.length - 1) ? 0 : this.imgIter + 1\r\n      },\r\n      getSources() {\r\n        // desktopCapturer.getSources({ types: ['window', 'screen'] }).then(\r\n        //     sources=>{\r\n        //       this.sources = sources\r\n        //     })\r\n      }\r\n    },\r\n    mounted() {\r\n      // desktopCapturer.getSources({ types: ['window', 'screen'] }).then(\r\n      //     sources=>{\r\n      //       this.sources = sources\r\n      //     })\r\n    },\r\n    data () {\r\n      return{\r\n        dialog : false,\r\n        tab : null,\r\n        backgroundImgs : [\r\n          'https://122.112.175.61:4445/static/images/bg_1.jpg',\r\n          'https://122.112.175.61:4445/static/images/bg_2.jpg',\r\n          'https://122.112.175.61:4445/static/images/bg_3.jpg',\r\n          'https://122.112.175.61:4445/static/images/bg_4.jpg',\r\n          'https://122.112.175.61:4445/static/images/bg_5.jpg'\r\n        ],\r\n        blurSwitch : false,\r\n        oldBlurSwitch : false,\r\n        replaceSwitch : false,\r\n        oldReplaceSwitch : false,\r\n        imgIter : 0,\r\n        oldImgIter : 0,\r\n        displayVideo: true,\r\n        displayAudio: true,\r\n        displaySourceId: null,\r\n        sources: [],\r\n      }\r\n    },\r\n    watch : {\r\n      displaySourceId(newId){\r\n        console.log('NEW ID', newId);\r\n        let constraints;\r\n        if (newId){\r\n          constraints = {\r\n            audio: false,\r\n            video: {mandatory: {chromeMediaSource: 'desktop', chromeMediaSourceId: newId}},\r\n          }\r\n        }else{\r\n          constraints = {\r\n            audio: false,\r\n            video: {mandatory: {chromeMediaSource: 'desktop'}},\r\n          }\r\n        }\r\n        navigator.mediaDevices.getUserMedia(constraints)\r\n            .then(async (mediaStream) => {\r\n              const video = document.getElementById('screen-preview');\r\n              video.srcObject = mediaStream\r\n            }).catch((error) => {\r\n          console.log(error)\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SettingsDialog.vue?vue&type=template&id=7d80e482&scoped=true&\"\nimport script from \"./SettingsDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./SettingsDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d80e482\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VExpandTransition } from 'vuetify/lib/components/transitions';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardTitle,VDialog,VDivider,VExpandTransition,VIcon,VImg,VSelect,VSpacer,VSwitch,VTab,VTabItem,VTabs,VTabsItems})\n","import * as bodyPix from '@tensorflow-models/body-pix';\r\nimport '@tensorflow/tfjs-backend-webgl';\r\n// @ts-ignore\r\nimport MyWorker from 'comlink-loader!./media/BodyPixWorker';\r\nimport {BackgroundProcessType} from \"@/utils/Types\";\r\n\r\nconst defaultWidth = 640;\r\nconst defaultHeight = 360;\r\nconst maskBlurAmount = 3;\r\nconst backgroundBlurAmount = 3;\r\nconst edgeBlurAmount = 3;\r\nconst flipHorizontal = false;\r\nconst defaultImageSrc = 'http://122.112.175.61:4446/static/images/bg_1.jpg';\r\nconst bodyPixWorker = new MyWorker();\r\n\r\nexport class VideoProcessor\r\n{\r\n    private readonly width: number = null;\r\n    private readonly height: number = null;\r\n    private working: boolean = null;\r\n    private readonly backgroundImage: HTMLImageElement = null;\r\n    private readonly transparentBackground: HTMLCanvasElement = null;\r\n    private readonly video: HTMLVideoElement = null;\r\n    private inputStream: MediaStream = null;\r\n    private readonly inputCanvas: HTMLCanvasElement = null;\r\n    private readonly outputCanvas: HTMLCanvasElement = null;\r\n    private inputCtx: CanvasRenderingContext2D = null;\r\n    private outputCtx: CanvasRenderingContext2D = null;\r\n    private transparentCtx: CanvasRenderingContext2D = null;\r\n\r\n    constructor()\r\n    {\r\n        this.width = defaultWidth;\r\n        this.height = defaultHeight;\r\n        this.working = false;\r\n        this.backgroundImage = new Image();\r\n        this.backgroundImage.src = defaultImageSrc;\r\n\r\n        this.video = document.createElement('video');\r\n        this.video.autoplay = true;\r\n        this.inputCanvas = document.createElement('canvas');\r\n        this.outputCanvas = document.createElement('canvas');\r\n        this.transparentBackground = document.createElement('canvas');\r\n        this.inputCtx = this.inputCanvas.getContext('2d');\r\n        this.outputCtx = this.outputCanvas.getContext('2d');\r\n        this.transparentCtx = this.transparentBackground.getContext('2d');\r\n        this.inputCanvas.width = this.outputCanvas.width = this.video.width = this.backgroundImage.width = this.transparentBackground.width = this.width;\r\n        this.inputCanvas.height = this.outputCanvas.height = this.video.height = this.backgroundImage.height = this.transparentBackground.height = this.height;\r\n\r\n        this.transparentCtx.fillStyle = '#00000000';\r\n        this.transparentCtx.fillRect(0, 0, this.width, this.height);\r\n    }\r\n\r\n    public setBackground(imageURL: string)\r\n    {\r\n        this.backgroundImage.src = imageURL;\r\n    }\r\n\r\n    public process(mediaStream: MediaStream, backgroundOption: BackgroundProcessType, enableBeautify: boolean)\r\n    {\r\n        this.inputStream = mediaStream;\r\n        this.video.srcObject = mediaStream;\r\n        this.video.onloadeddata = () => {\r\n            this.start(backgroundOption, enableBeautify);\r\n        };\r\n        // @ts-ignore\r\n        return this.outputCanvas.captureStream();\r\n    }\r\n\r\n    private start(backgroundOption: BackgroundProcessType, enableBeautify: boolean)\r\n    {\r\n        this.working = true;\r\n        switch (backgroundOption) {\r\n            case BackgroundProcessType.blur:\r\n                this.blurBackground().catch((err) => {console.error(err);});\r\n                break;\r\n            case BackgroundProcessType.virtual:\r\n                this.replaceBackground().catch((err) => {console.error(err);});\r\n                break;\r\n        }\r\n    }\r\n\r\n    public stop()\r\n    {\r\n        if (this.working) {\r\n            const tracks = this.inputStream.getTracks();\r\n            tracks.forEach((track) => {\r\n                track.stop();\r\n            });\r\n            this.working = false;\r\n        }\r\n    }\r\n\r\n    public getWorkingState()\r\n    {\r\n        return this.working;\r\n    }\r\n\r\n    private replaceBackground = async () => {\r\n        this.inputCtx.drawImage(this.video, 0, 0, this.width, this.height);\r\n        const frame = this.inputCtx.getImageData(0, 0, this.width, this.height);\r\n        const mask = await bodyPixWorker.getMask(frame);\r\n\r\n        // const segmentation =  await net.segmentMultiPerson(this.inputCanvas, {\r\n        //     internalResolution: 'high',\r\n        //     segmentationThreshold: 0.7,\r\n        //     maxDetections: 5,\r\n        //     scoreThreshold: 0.3,\r\n        //     nmsRadius: 20,\r\n        //     numKeypointForMatching: 17,\r\n        //     refineSteps: 10\r\n        // });\r\n        //\r\n        // const mask = bodyPix.toMask(segmentation, foreColor, backColor);\r\n\r\n        bodyPix.drawMask(this.outputCanvas, this.transparentBackground, mask, 1, maskBlurAmount, flipHorizontal);\r\n        // this.outputCtx.putImageData(mask, 0, 0)\r\n        this.outputCtx.globalCompositeOperation = 'source-in';\r\n        this.outputCtx.drawImage(this.backgroundImage, 0, 0, this.width, this.height);\r\n        this.outputCtx.globalCompositeOperation = 'destination-over';\r\n        this.outputCtx.drawImage(this.inputCanvas, 0, 0, this.width, this.height);\r\n        this.outputCtx.globalCompositeOperation = 'source-over';\r\n        if (this.working) {\r\n            requestAnimationFrame(this.replaceBackground);\r\n        }\r\n    }\r\n\r\n    private blurBackground = async () => {\r\n        this.inputCtx.drawImage(this.video, 0, 0, this.width, this.height);\r\n        const frame = this.inputCtx.getImageData(0, 0, this.width, this.height);\r\n        const segmentation = await bodyPixWorker.segment(frame);\r\n        bodyPix.drawBokehEffect(this.outputCanvas, this.inputCanvas, segmentation, backgroundBlurAmount, edgeBlurAmount, flipHorizontal);\r\n        if (this.working) {\r\n            requestAnimationFrame(this.blurBackground);\r\n        }\r\n    }\r\n}\r\n","import {VideoProcessor} from \"@/utils/VideoProcessor\";\r\nimport global from \"@/global\";\r\nimport {BackgroundProcessType} from \"@/utils/Types\";\r\n\r\nexport class MediaStreamFactory\r\n{\r\n    private currentBackgroundOption: BackgroundProcessType = null;\r\n    private currentBeautifyState: boolean = null;\r\n    private currentDisplaySourceId = null;\r\n\r\n    private cameraTrack: MediaStreamTrack = null;\r\n    private processedCameraTrack: MediaStreamTrack = null;\r\n    private microphoneTrack: MediaStreamTrack = null;\r\n    private screenVideoTrack: MediaStreamTrack = null;\r\n    private screenAudioTrack: MediaStreamTrack = null;\r\n    private videoProcessor: VideoProcessor = null;\r\n    constructor()\r\n    {\r\n        // @ts-ignore\r\n        navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia ||\r\n            // @ts-ignore\r\n            navigator.mozGetUserMedia || navigator.msGetUserMedia;\r\n        if (!navigator.getUserMedia) {\r\n            console.log('Browser DOES NOT support!')\r\n        }\r\n\r\n        this.videoProcessor = new VideoProcessor();\r\n    }\r\n\r\n    public async getCameraTrack()\r\n    {\r\n        if (this.cameraTrack && this.cameraTrack.readyState === 'live') {\r\n            return this.cameraTrack;\r\n        }\r\n        try {\r\n            const constraint = {\r\n                video : global.videoConstraint,\r\n                audio : false,\r\n            };\r\n            const videoStream = await navigator.mediaDevices.getUserMedia(constraint);\r\n            const videoTracks = videoStream.getVideoTracks();\r\n            const tracksCount = videoTracks.length;\r\n            if (tracksCount <= 0) {\r\n                console.error('There is no video source that meets the constraint');\r\n                return Promise.reject('There is no video source that meets the constraint');\r\n            }\r\n            this.cameraTrack = videoTracks[0];\r\n            for (let i = 1; i < tracksCount; ++i) {\r\n                videoTracks[i].stop();\r\n            }\r\n            return this.cameraTrack;\r\n        } catch (err) {\r\n            console.error(err.message);\r\n            return Promise.reject(err.message);\r\n        }\r\n    }\r\n\r\n    public async getProcessedCameraTrack(backgroundOption: BackgroundProcessType, enableBeautify: boolean)\r\n    {\r\n        if (backgroundOption === BackgroundProcessType.disable && !enableBeautify) {\r\n            this.processedCameraTrack = (await this.getCameraTrack()).clone();\r\n            return this.processedCameraTrack;\r\n        }\r\n\r\n        if (this.processedCameraTrack && this.videoProcessor.getWorkingState()\r\n            && this.processedCameraTrack.readyState === 'live') {\r\n\r\n            if (this.currentBackgroundOption === backgroundOption\r\n                && this.currentBeautifyState == enableBeautify) {\r\n                return this.processedCameraTrack;\r\n            } else {\r\n                this.stopProcess();\r\n            }\r\n        }\r\n\r\n        this.currentBackgroundOption = backgroundOption;\r\n        this.currentBeautifyState = enableBeautify;\r\n\r\n        const cameraTrack = await this.getCameraTrack();\r\n        const processedStream = this.videoProcessor.process(\r\n            new MediaStream([cameraTrack]), backgroundOption, enableBeautify);\r\n\r\n        const processedTracks = processedStream.getVideoTracks();\r\n        const tracksCount = processedTracks.length;\r\n        if (tracksCount <= 0) {\r\n            console.error('Fail to capture stream from the internal canvas');\r\n            return Promise.reject('Fail to capture stream from the internal canvas');\r\n        }\r\n        this.processedCameraTrack = processedTracks[0];\r\n        for (let i = 1; i < tracksCount; ++i) {\r\n            processedTracks[i].stop();\r\n        }\r\n        return this.processedCameraTrack;\r\n    }\r\n\r\n    public async getMicrophoneTrack()\r\n    {\r\n        if (this.microphoneTrack && this.microphoneTrack.readyState === 'live') {\r\n            return this.microphoneTrack;\r\n        }\r\n        try {\r\n            const constraint = {\r\n                video : false,\r\n                audio : {autoGainControl: true, echoCancellation: true, noiseSuppression: true},\r\n            };\r\n            const microphoneStream = await navigator.mediaDevices.getUserMedia(constraint);\r\n            const audioTracks = microphoneStream.getAudioTracks();\r\n            const tracksCount = audioTracks.length;\r\n            if (tracksCount <= 0) {\r\n                console.error('There is no audio source that meets the constraint');\r\n                return Promise.reject('There is no audio source that meets the constraint');\r\n            }\r\n            this.microphoneTrack = audioTracks[0];\r\n            for (let i = 1; i < tracksCount; ++i) {\r\n                audioTracks[i].stop();\r\n            }\r\n            return this.microphoneTrack;\r\n        } catch (err) {\r\n            console.error(err.message);\r\n            return Promise.reject(err.message);\r\n        }\r\n    }\r\n\r\n    public async getScreenTracks(enableVideo: boolean, enableAudio: boolean, displaySourceId = null)\r\n    {\r\n        let needVideo = enableVideo;\r\n        if (this.screenVideoTrack && this.screenVideoTrack.readyState === 'live' && enableVideo\r\n            && this.currentDisplaySourceId && this.currentDisplaySourceId === displaySourceId) {\r\n            needVideo = false;\r\n        } else {\r\n            this.stopScreenVideo();\r\n        }\r\n\r\n        let needAudio = enableAudio;\r\n        if (this.screenAudioTrack && this.screenAudioTrack.readyState === 'live' && enableAudio\r\n            && this.currentDisplaySourceId && this.currentDisplaySourceId === displaySourceId) {\r\n            needAudio = false;\r\n        } else {\r\n            this.stopScreenVideo();\r\n        }\r\n\r\n        if (!needVideo && !needAudio) {\r\n            return ({\r\n                screenVideoTrack: this.screenVideoTrack,\r\n                screenAudioTrack: this.screenAudioTrack,\r\n            });\r\n        }\r\n\r\n        this.currentDisplaySourceId = displaySourceId;\r\n\r\n        try {\r\n            const constraints = displaySourceId ? {\r\n                video: needVideo ? {mandatory: {chromeMediaSource: 'desktop', chromeMediaSourceId: displaySourceId}} : false,\r\n                audio: needAudio ? {mandatory: {chromeMediaSource: 'desktop', chromeMediaSourceId: displaySourceId}} : false,\r\n            } : {\r\n                video: needVideo ? {mandatory: {chromeMediaSource: 'desktop'}} : false,\r\n                audio: needAudio ? {mandatory: {chromeMediaSource: 'desktop'}} : false,\r\n            }\r\n\r\n            // @ts-ignore\r\n            const screenStream = await navigator.mediaDevices.getUserMedia(constraints);\r\n\r\n            if (needVideo) {\r\n                const videoTracks = screenStream.getVideoTracks();\r\n                const tracksCount = videoTracks.length;\r\n                if (tracksCount <= 0) {\r\n                    console.error('There is no screen video source that meets the constraint');\r\n                    return Promise.reject('There is no screen video source that meets the constraint');\r\n                }\r\n                this.screenVideoTrack = videoTracks[0];\r\n                for (let i = 1; i < tracksCount; ++i) {\r\n                    videoTracks[i].stop();\r\n                }\r\n            }\r\n\r\n            if (needAudio) {\r\n                const audioTracks = screenStream.getAudioTracks();\r\n                const tracksCount = audioTracks.length;\r\n                if (tracksCount <= 0) {\r\n                    console.error('There is no screen audio source that meets the constraint');\r\n                    return Promise.reject('There is no screen audio source that meets the constraint');\r\n                }\r\n                this.screenAudioTrack = audioTracks[0];\r\n                for (let i = 1; i < tracksCount; ++i) {\r\n                    audioTracks[i].stop();\r\n                }\r\n            }\r\n\r\n            return ({\r\n                screenVideoTrack: this.screenVideoTrack,\r\n                screenAudioTrack: this.screenAudioTrack,\r\n            });\r\n\r\n        } catch (err) {\r\n            console.error(err.message);\r\n            return Promise.reject(err.message);\r\n        }\r\n    }\r\n\r\n    public stopCamera()\r\n    {\r\n        this.stopProcess();\r\n        this.cameraTrack && this.cameraTrack.stop();\r\n        this.cameraTrack = null;\r\n    }\r\n\r\n    public stopProcess()\r\n    {\r\n        this.videoProcessor.stop();\r\n        this.processedCameraTrack && this.processedCameraTrack.stop();\r\n        this.processedCameraTrack = null;\r\n        this.currentBackgroundOption = null;\r\n        this.currentBeautifyState = null;\r\n    }\r\n\r\n    public stopMicrophone()\r\n    {\r\n        this.microphoneTrack && this.microphoneTrack.stop();\r\n        this.microphoneTrack = null;\r\n    }\r\n\r\n    public stopScreenVideo()\r\n    {\r\n        this.screenVideoTrack && this.screenVideoTrack.stop();\r\n        this.screenVideoTrack = null;\r\n    }\r\n\r\n    public stopScreenAudio()\r\n    {\r\n        this.screenAudioTrack && this.screenAudioTrack.stop();\r\n        this.screenAudioTrack = null;\r\n    }\r\n\r\n    public stopScreen()\r\n    {\r\n        this.stopScreenVideo();\r\n        this.stopScreenAudio();\r\n        this.currentDisplaySourceId = null;\r\n    }\r\n\r\n    public stopAll()\r\n    {\r\n        this.stopCamera();\r\n        this.stopMicrophone();\r\n        this.stopScreen();\r\n    }\r\n\r\n    public setBackground(backgroundURL)\r\n    {\r\n        this.videoProcessor.setBackground(backgroundURL);\r\n    }\r\n}\r\n","<template>\r\n  <v-app id=\"mainWindow\">\r\n    <v-snackbar\r\n        top\r\n        color=\"red white--text\"\r\n        timeout=\"1600\"\r\n        light\r\n        v-model=\"snack\">\r\n      {{snackText}}\r\n    </v-snackbar>\r\n    <v-app-bar\r\n        app\r\n        clipped-right\r\n        flat\r\n        height=\"45\"\r\n    >\r\n      <div>\r\n        <v-menu\r\n            bottom\r\n            right\r\n            nudge-right=\"40px\"\r\n            transition=\"scale-transition\"\r\n            attach\r\n            max-width=\"400px\"\r\n            max-height=\"200px\"\r\n        >\r\n          <template v-slot:activator=\"{ on, attrs }\">\r\n            <v-btn small v-bind=\"attrs\" v-on=\"on\" icon color=\"gray\" style=\"margin-left: 5px\">\r\n              <v-icon>mdi-information-outline</v-icon>\r\n            </v-btn>\r\n          </template>\r\n          <v-card>\r\n            <v-card-text>\r\n              <div> : {{GLOBAL.roomInfo.topic}}</div>\r\n              <div> : {{GLOBAL.roomInfo.id}}</div>\r\n              <div> : {{GLOBAL.roomInfo.password}}</div>\r\n              <div> : {{GLOBAL.roomInfo.start_time}}</div>\r\n              <div> : {{GLOBAL.roomInfo.end_time}}</div>\r\n            </v-card-text>\r\n          </v-card>\r\n        </v-menu>\r\n      </div>\r\n\r\n      <v-spacer></v-spacer>\r\n\r\n      <div style=\"font-size: small; color: grey;\"> : {{GLOBAL.roomInfo.id}}</div>\r\n\r\n      <v-spacer></v-spacer>\r\n\r\n      <div>\r\n        <v-chip small>\r\n          <v-icon left>\r\n            mdi-clock-outline\r\n          </v-icon>\r\n          {{currTime}}\r\n        </v-chip>\r\n        <v-btn text color=\"red\" @click=\"exitDialog = true\">\r\n          <v-icon color=\"red\" left size=\"20\">mdi-exit-to-app</v-icon>\r\n        </v-btn>\r\n        <v-dialog\r\n                v-model=\"exitDialog\"\r\n                width=\"500\"\r\n                attach=\"#mainWindow\"\r\n        >\r\n          <v-card style=\"text-align: center; \">\r\n            <p style=\"font-weight: bold; font-size: 20px; color: firebrick\"></p>\r\n            <p style=\"font-size: 12px; color: gray; margin: 20px 0 20px 0\">\r\n              {{(GLOBAL.roomInfo.host === GLOBAL.userInfo.id) ?\r\n              \"\" : \"\"}}\r\n            </p>\r\n            <v-checkbox color=\"teal\" v-model=\"exportMemeCheckBox\" label=\"\" style=\"margin-left: 36%\"></v-checkbox>\r\n            <v-divider></v-divider>\r\n            <div style=\"margin: 10px 0 0 0;\">\r\n              <v-btn outlined class=\"ma-2\" @click=\"exitDialog = false\"></v-btn>\r\n              <v-btn outlined color=\"teal\" class=\"ma-2\" @click=\"leaveMeeting\"></v-btn>\r\n              <v-btn outlined color=\"red\" class=\"ma-2\" @click=\"closeMeeting\" v-if=\"GLOBAL.roomInfo.host === GLOBAL.userInfo.id\"></v-btn>\r\n            </div>\r\n          </v-card>\r\n        </v-dialog>\r\n      </div>\r\n\r\n    </v-app-bar>\r\n\r\n    <v-navigation-drawer\r\n        v-model=\"drawer\"\r\n        app\r\n        width=\"280\"\r\n    >\r\n      <v-navigation-drawer\r\n          v-model=\"drawer\"\r\n          absolute\r\n          color=\"grey lighten-3\"\r\n          mini-variant\r\n      >\r\n        <v-avatar\r\n            class=\"d-block text-center mx-auto mt-4\"\r\n            color=\"grey darken-1\"\r\n            size=\"36\"\r\n        >\r\n          <v-img :src=\"GLOBAL.baseURL + GLOBAL.userInfo.portrait\">\r\n            <template v-slot:placeholder>\r\n              <div style=\"margin-top: 7px\">\r\n                <v-progress-circular\r\n                    indeterminate\r\n                    size=\"20\"\r\n                    color=\"grey lighten-5\"\r\n                ></v-progress-circular>\r\n              </div>\r\n            </template>\r\n          </v-img>\r\n        </v-avatar>\r\n\r\n        <v-divider class=\"mx-3 my-5\"></v-divider>\r\n\r\n        <v-btn\r\n            icon\r\n            class=\"d-block text-center mx-auto mb-9\"\r\n            :color=\"videoIcon.color\"\r\n            @click=\"videoSwitch\">\r\n          <v-icon>{{ this.videoIcon.icon }}</v-icon>\r\n        </v-btn>\r\n\r\n        <v-btn\r\n            icon\r\n            class=\"d-block text-center mx-auto mb-9\"\r\n            :color=\"microIcon.color\"\r\n            @click=\"microSwitch\">\r\n          <v-icon>{{ this.microIcon.icon }}</v-icon>\r\n        </v-btn>\r\n\r\n        <v-btn\r\n            icon\r\n            class=\"d-block text-center mx-auto mb-9\"\r\n            :color=\"screenIcon.color\"\r\n            @click=\"screenSwitch\">\r\n          <v-icon>{{ this.screenIcon.icon }}</v-icon>\r\n        </v-btn>\r\n\r\n        <v-btn\r\n                icon\r\n                class=\"d-block text-center mx-auto mb-9\"\r\n                :color=\"captionIcon.color\"\r\n                @click=\"captionSwitch\">\r\n          <v-icon>{{ this.captionIcon.icon }}</v-icon>\r\n        </v-btn>\r\n\r\n        <setting-dialog @changeSettings=\"changeSettings\"></setting-dialog>\r\n\r\n        <v-btn\r\n            icon\r\n            class=\"d-block text-center mx-auto mb-9\"\r\n            color=\"yellow darken-3\"\r\n            v-if=\"isHost\"\r\n            @click=\"muteAll\">\r\n          <v-badge\r\n              color=\"yellow darken-3\"\r\n              content=\"all\"\r\n              light\r\n              offset-x=\"28px\"\r\n              offset-y=\"-1px\">\r\n            <v-icon>mdi-microphone-off</v-icon>\r\n          </v-badge>\r\n        </v-btn>\r\n\r\n      </v-navigation-drawer>\r\n\r\n      <v-sheet\r\n          color=\"grey lighten-5\"\r\n          height=\"120\"\r\n          width=\"100%\"\r\n      >\r\n        <div id=\"sheetDiv\">\r\n          <p id=\"sheetTitle\">\r\n            \r\n          </p>\r\n          <v-text-field\r\n              label=\"\"\r\n              id=\"userSearchBar\"\r\n              color=\"teal\"\r\n              prepend-inner-icon=\"mdi-account-circle-outline\"\r\n              outlined\r\n              clearable\r\n              style=\"margin-left: 2%; width: 95%\"\r\n              v-model=\"filterText\"></v-text-field>\r\n        </div>\r\n      </v-sheet>\r\n\r\n      <v-list\r\n          class=\"pl-14\"\r\n      >\r\n        <v-badge :value=\"isHost\" icon=\"mdi-crown\" color=\"orange--text\" overlap offset-x=\"20px\" offset-y=\"18px\">\r\n          <v-list-item :class=\"['lighten-4 not-host-item', {'host-item':isHost}]\" dense>\r\n            <v-fade-transition>\r\n              <v-badge overlap offset-x=\"-40px\" offset-y=\"0px\" icon=\"mdi-video-outline\" color=\"green--text\" transition=\"fade-transition\" v-show=\"this.video\">\r\n              </v-badge>\r\n            </v-fade-transition>\r\n            <v-fade-transition>\r\n              <v-badge overlap offset-x=\"-40px\" offset-y=\"15px\" icon=\"mdi-microphone-outline\" color=\"green--text\" transition=\"scale-transition\" v-show=\"this.audio\">\r\n              </v-badge>\r\n            </v-fade-transition>\r\n            <v-list-item-avatar style=\"border: 1px solid gray\" size=\"40\">\r\n              <v-img :src=\"GLOBAL.baseURL + GLOBAL.userInfo.portrait\">\r\n                <template v-slot:placeholder>\r\n                  <div style=\"margin-top: 7px; margin-left: 8px\">\r\n                    <v-progress-circular\r\n                            indeterminate\r\n                            size=\"20\"\r\n                            color=\"grey lighten-5\"\r\n                    ></v-progress-circular>\r\n                  </div>\r\n                </template>\r\n              </v-img>\r\n            </v-list-item-avatar>\r\n            <v-list-item-content>\r\n              <v-list-item-title class=\"item-title\" align=\"center\" style=\"font-size: 18px;font-weight: bold;width: 120px;padding-top: 8px;\">\r\n                {{GLOBAL.userInfo.nickname}}\r\n              </v-list-item-title>\r\n              <v-list-item-subtitle align=\"center\">\r\n                <v-btn icon @click=\"mainVideo(GLOBAL.userInfo.id)\">\r\n                  <v-icon color=\"teal\" size=\"20\">\r\n                    mdi-account-star\r\n                  </v-icon>\r\n                </v-btn>\r\n                <v-btn icon @click=\"subVideo(GLOBAL.userInfo.id)\">\r\n                  <v-icon color=\"teal\" size=\"20\">\r\n                    mdi-account-plus\r\n                  </v-icon>\r\n                </v-btn>\r\n              </v-list-item-subtitle>\r\n            </v-list-item-content>\r\n          </v-list-item>\r\n        </v-badge>\r\n        <v-badge :value=\"GLOBAL.roomInfo.host === user.getPeerInfo().id\" icon=\"mdi-crown\" color=\"orange--text\"\r\n                 overlap offset-x=\"20px\" offset-y=\"18px\"\r\n                 v-for=\"(user, index) in this.filteredUsers\"\r\n                 :key=\"index\">\r\n          <v-list-item style=\"width: 100%\" dense\r\n               :class=\"['lighten-4 not-host-item', {'host-item':GLOBAL.roomInfo.host === user.getPeerInfo().id}]\"\r\n          >\r\n            <v-fade-transition>\r\n              <v-badge overlap offset-x=\"-40px\" offset-y=\"0px\" icon=\"mdi-video-outline\" color=\"green--text\" transition=\"fade-transition\" v-show=\"user.hasVideo()\">\r\n              </v-badge>\r\n            </v-fade-transition>\r\n            <v-fade-transition>\r\n              <v-badge overlap offset-x=\"-40px\" offset-y=\"15px\" icon=\"mdi-microphone-outline\" color=\"green--text\" transition=\"scale-transition\" v-show=\"user.hasAudio()\">\r\n              </v-badge>\r\n            </v-fade-transition>\r\n            <v-list-item-avatar style=\"border: 1px solid gray\" size=\"40\">\r\n              <v-img :src=\"user.getPeerInfo().avatar\">\r\n                <template v-slot:placeholder>\r\n                  <div style=\"margin-top: 7px; margin-left: 8px\">\r\n                    <v-progress-circular\r\n                        indeterminate\r\n                        size=\"20\"\r\n                        color=\"grey lighten-5\"\r\n                    ></v-progress-circular>\r\n                  </div>\r\n                </template>\r\n              </v-img>\r\n            </v-list-item-avatar>\r\n            <v-list-item-content>\r\n              <v-list-item-title class=\"item-title\" align=\"center\" style=\"font-size: 18px;font-weight: bold;width: 120px;padding-top: 8px;\">\r\n                {{user.getPeerInfo().displayName}}\r\n              </v-list-item-title>\r\n              <v-list-item-subtitle align=\"center\">\r\n                <v-menu\r\n                    attach>\r\n                  <template v-slot:activator=\"{on, attrs}\">\r\n                    <v-btn\r\n                        v-bind=\"attrs\"\r\n                        v-on=\"on\"\r\n                        icon>\r\n                      <v-icon size=\"20\" color=\"teal\">mdi-cog-outline</v-icon>\r\n                    </v-btn>\r\n                  </template>\r\n                  <v-list class=\"white\" dense>\r\n                    <v-list-item\r\n                        v-for=\"(item, index) in menuItems\"\r\n                        :key=\"index\"\r\n                        @click=\"switchMenuFunc(index, user.getPeerInfo().id)\">\r\n                      <v-list-item-icon>\r\n                        <v-icon :color=\"item.color\">\r\n                          {{item.icon}}\r\n                        </v-icon>\r\n                      </v-list-item-icon>\r\n                      <v-list-item-title>{{item.text}}</v-list-item-title>\r\n                    </v-list-item>\r\n                  </v-list>\r\n                </v-menu>\r\n                <v-btn icon v-if=\"isHost\">\r\n                  <v-icon color=\"orange\" size=\"20\">mdi-microphone-off</v-icon>\r\n                </v-btn>\r\n                <v-btn icon v-if=\"isHost\">\r\n                  <v-icon color=\"orange\" size=\"20px\">mdi-account-remove</v-icon>\r\n                </v-btn>\r\n              </v-list-item-subtitle>\r\n            </v-list-item-content>\r\n          </v-list-item>\r\n        </v-badge>\r\n      </v-list>\r\n    </v-navigation-drawer>\r\n\r\n    <v-navigation-drawer\r\n        app\r\n        clipped\r\n        right\r\n    >\r\n      <v-list>\r\n        <v-list-item\r\n            v-for=\"(user, index) in subFollowUsers\"\r\n            :key=\"index\"\r\n            link\r\n        >\r\n          <v-list-item-content>\r\n            <v-hover v-slot=\"{hover}\">\r\n              <v-card\r\n                  height=\"150px\"\r\n                  outlined>\r\n\r\n                <my-video :src-object=\"user.mediaStream\" :mirror=\"user.mirror\" :my-id=\"'sub-video' + index\" process-video-type=\"blur\"\r\n                          style=\"width: 100%; height: 100%\"></my-video>\r\n                <div\r\n                    class=\"d-flex white black--text v-card--reveal\"\r\n                    style=\"height: 15%; margin-bottom: 10px;\">\r\n                  <div style=\"width: 100px; margin-left: 25%; margin-right: 10%; text-align: center;\">\r\n                    <p id=\"rightSideBarText\" style=\"font-size: 12px; font-weight: bold;\">\r\n                      {{user.displayName}}\r\n                    </p>\r\n                  </div>\r\n                  <v-fab-transition>\r\n                    <div v-if=\"hover\">\r\n                      <v-btn icon x-small @click=\"sub2Main(index)\">\r\n                        <v-icon color=\"teal\">\r\n                          mdi-account-star\r\n                        </v-icon>\r\n                      </v-btn>\r\n                      <v-btn icon x-small @click=\"removeSubFollowUser(index)\">\r\n                        <v-icon color=\"teal\">\r\n                          mdi-close\r\n                        </v-icon>\r\n                      </v-btn>\r\n                    </div>\r\n                  </v-fab-transition>\r\n                </div>\r\n              </v-card>\r\n            </v-hover>\r\n          </v-list-item-content>\r\n        </v-list-item>\r\n      </v-list>\r\n    </v-navigation-drawer>\r\n\r\n    <v-main style=\"text-align: center\" id=\"main-video-window\">\r\n      <div id=\"mainVideo\">\r\n        <v-hover v-slot=\"{hover}\">\r\n          <v-card color=\"grey lighten-4\" height=\"100%\" width=\"100%\">\r\n            <my-video style=\"height: 100%; width: 100%\" my-id=\"main-video\" :mirror=\"mainFollowUser.mirror\" :src-object=\"mainFollowUser.mediaStream\"></my-video>\r\n            <v-expand-transition>\r\n              <div v-if=\"hover\"\r\n                   class=\"transition-fast-in-fast-out v-card--reveal-1\"\r\n                   style=\"height: 10% \">\r\n                <p style=\"color: white;font-weight: bold; height: 10%\" v-if=\"mainFollowUserId\">\r\n                  {{mainFollowUser.displayName}}\r\n                </p>\r\n                <v-btn icon @click=\"removeMainFollowUser\" v-if=\"mainFollowUserId\">\r\n                  <v-icon small color=\"white\">mdi-close</v-icon>\r\n                </v-btn>\r\n              </div>\r\n            </v-expand-transition>\r\n          </v-card>\r\n        </v-hover>\r\n      </div>\r\n      <v-fade-transition>\r\n        <div id=\"chatOverlay\" v-show=\"chatOverlay\">\r\n          <v-container id=\"chatContainer\" :class=\"['chatContainer-full', {'chatContainer-half' : captionIcon.icon === 'mdi-translate'}]\">\r\n            <v-row v-for=\"(msg, index) in allMsgs\" :key=\"index\">\r\n              <v-col>\r\n                <div style=\"display: inline-block\" class=\"messageCard\">\r\n                  <v-avatar\r\n                          color=\"grey darken-1\"\r\n                          size=\"30\"\r\n                          style=\"margin-right: 8px;\">\r\n                    <v-img :src=\"(msg.fromMyself) ?\r\n                        GLOBAL.baseURL + GLOBAL.userInfo.portrait :\r\n                        mediaService.getPeerDetailByPeerId(msg.fromPeerId).getPeerInfo().avatar\">\r\n                      <template v-slot:placeholder>\r\n                        <div style=\"margin-top: 7px\">\r\n                          <v-progress-circular\r\n                                  indeterminate\r\n                                  size=\"20\"\r\n                                  color=\"grey lighten-5\"\r\n                          ></v-progress-circular>\r\n                        </div>\r\n                      </template>\r\n                    </v-img>\r\n                  </v-avatar>\r\n                  <div style=\"display: inline-block; font-size: 15px\">\r\n                      <span style=\"font-weight: bold; margin-right: 5px; margin-left: 5px;\">{{(msg.fromMyself) ?\r\n                              GLOBAL.userInfo.nickname :\r\n                              mediaService.getPeerDetailByPeerId(msg.fromPeerId).getPeerInfo().displayName}}</span>\r\n                    <span v-if=\"!msg.broadcast\"> to </span>\r\n                    <span  v-if=\"!msg.broadcast\" class=\"private-chat\">{{formatToPeerName(msg)}} </span>\r\n                  </div>\r\n                  <p class=\"messageText\" v-if=\"msg.type === MessageType.text\">{{msg.text}}</p>\r\n                  <upload-file\r\n                          :file=\"msg.file\"\r\n                          v-else-if=\"msg.type === MessageType.file &&msg.fromMyself\"\r\n                          @file-sended=\"sendFile\" style=\"margin-top:20px; margin-left: 15px\"></upload-file>\r\n                  <download-file :message=\"msg\" v-else style=\"margin-top:15px\"></download-file>\r\n                </div>\r\n                <div style=\"display: inline-block; margin:10px; font-size: small; color: gray\">{{moment(msg.timestamp).format('HH:mm:ss')}}</div>\r\n              </v-col>\r\n            </v-row>\r\n          </v-container>\r\n          <v-container id=\"captionContainer\" v-if=\"captionIcon.icon === 'mdi-translate'\">\r\n              <v-row v-for=\"(caption, index) in allCaptions\" :key=\"index\">\r\n                <v-col>\r\n                  <div style=\"display: inline-block\" class=\"messageCard\">\r\n<!--                    <v-avatar-->\r\n<!--                            color=\"grey darken-1\"-->\r\n<!--                            size=\"30\"-->\r\n<!--                            style=\"margin-right: 8px;\">-->\r\n<!--                      <v-img :src=\"mediaService.getPeerDetailByPeerId(caption.fromPeerId).getPeerInfo().avatar\">-->\r\n<!--                        <template v-slot:placeholder>-->\r\n<!--                          <div style=\"margin-top: 7px\">-->\r\n<!--                            <v-progress-circular-->\r\n<!--                                    indeterminate-->\r\n<!--                                    size=\"20\"-->\r\n<!--                                    color=\"grey lighten-5\"-->\r\n<!--                            ></v-progress-circular>-->\r\n<!--                          </div>-->\r\n<!--                        </template>-->\r\n<!--                      </v-img>-->\r\n<!--                    </v-avatar>-->\r\n                    <div style=\"display: inline-block; font-size: 15px\">\r\n                      <span style=\"font-weight: bold; margin-right: 10px; margin-left: 5px;\">\r\n                             {{caption.displayName}}</span>\r\n                    </div>\r\n                    <p class=\"messageText\">{{caption.text}}</p>\r\n                  </div>\r\n                  <div style=\"display: inline-block; margin:10px; font-size: small; color: gray\">{{moment(caption.startTime).format('HH:mm:ss')}} - {{moment(caption.updateTime).format('HH:mm:ss')}}</div>\r\n                </v-col>\r\n              </v-row>\r\n            </v-container>\r\n        </div>\r\n      </v-fade-transition>\r\n    </v-main>\r\n\r\n    <v-footer\r\n        app\r\n        color=\"transparent\"\r\n        height=\"72\"\r\n        inset\r\n    >\r\n      <div @click=\"switchChat(null)\" style=\"margin-right: 5px\">\r\n        <v-btn icon>\r\n          <v-fab-transition>\r\n            <v-badge\r\n                v-if=\"!chatOverlay\"\r\n                :color=\"this.chatBadge\"\r\n                light\r\n                dot>\r\n              <v-icon color=\"teal\">mdi-chat-outline</v-icon>\r\n            </v-badge>\r\n            <v-icon v-else color=\"teal\">mdi-chat-remove-outline</v-icon>\r\n          </v-fab-transition>\r\n        </v-btn>\r\n      </div>\r\n      <v-text-field\r\n          background-color=\"grey lighten-4\"\r\n          dense\r\n          hide-details\r\n          rounded\r\n          outlined\r\n          color=\"teal\"\r\n          :label=\"placeholdOfMsg\"\r\n          @focus=\"switchChat(true)\"\r\n          @keyup.enter=\"sendMsg\"\r\n          v-model=\"inputMsg\"\r\n      >\r\n        <template v-slot:append>\r\n          <v-menu\r\n              top\r\n              left\r\n              nudge-top=\"50px\"\r\n              nudge-right=\"50px\"\r\n              min-width=\"150px\"\r\n              max-width=\"500px\"\r\n              attach\r\n              close-on-content-click\r\n              transition=\"scale-transition\">\r\n            <template v-slot:activator=\"{on, attrs}\">\r\n              <v-icon\r\n                  :disabled=\"!chatOverlay\"\r\n                  color=\"teal\"\r\n                  v-bind=\"attrs\"\r\n                  v-on=\"on\">\r\n                mdi-broadcast</v-icon>\r\n            </template>\r\n            <v-list dense shaped>\r\n              <v-list-item link @click=\"privateChat(null)\">\r\n                <v-list-item-content style=\"font-size: 15px; font-family: 'Cascadia Mono'\">\r\n                  All\r\n                </v-list-item-content>\r\n              </v-list-item>\r\n              <v-list-item\r\n                  v-for=\"(user, index) in allUsers\"\r\n                  :key=\"index\"\r\n                  link\r\n                  @click=\"privateChat(user.getPeerInfo().id)\">\r\n                <v-list-item-content style=\"font-size: 15px; font-family: 'Cascadia Mono'\">\r\n                  {{user.getPeerInfo().displayName}}\r\n                </v-list-item-content>\r\n              </v-list-item>\r\n            </v-list>\r\n          </v-menu>\r\n        </template>\r\n      </v-text-field>\r\n      <div>\r\n        <v-menu\r\n            top\r\n            left\r\n            nudge-top=\"50px\"\r\n            nudge-right=\"50px\"\r\n            attach\r\n            transition=\"scale-transition\"\r\n            :close-on-content-click=\"false\">\r\n          <template v-slot:activator=\"{on, attrs}\">\r\n            <v-icon\r\n                color=\"yellow darken-3\"\r\n                :disabled=\"!chatOverlay\"\r\n                style=\"margin-left:5px;\"\r\n                @click=\"showEmojiPicker = !showEmojiPicker\"\r\n                v-bind=\"attrs\"\r\n                v-on=\"on\">\r\n              mdi-emoticon-outline</v-icon>\r\n          </template>\r\n          <v-emoji-picker\r\n              :emojiSize=\"24\"\r\n              :emojisByRow=\"5\"\r\n              @select=\"selectEmoji\"></v-emoji-picker>\r\n        </v-menu>\r\n        <v-menu\r\n            top\r\n            left\r\n            nudge-top=\"40px\"\r\n            attach\r\n            min-width=\"200px\"\r\n            transition=\"scale-transition\"\r\n            :close-on-content-click=\"false\">\r\n          <template v-slot:activator=\"{on, attrs}\">\r\n            <v-icon\r\n                color=\"blue\"\r\n                :disabled=\"!chatOverlay\"\r\n                style=\"margin-left:5px;margin-right: 5px;\"\r\n                @click=\"showFilePicker = !showFilePicker\"\r\n                v-bind=\"attrs\"\r\n                v-on=\"on\">\r\n              mdi-file</v-icon>\r\n          </template>\r\n          <v-file-input\r\n              v-model=\"file\"\r\n              style=\"width: 180px\"\r\n              :clearable=\"false\"\r\n              append-icon=\"mdi-file-send-outline\"\r\n              @click:append=\"pickFile\"></v-file-input>\r\n        </v-menu>\r\n        <v-icon color=\"teal\" :disabled=\"!chatOverlay\" @click=\"sendMsg\">mdi-send</v-icon>\r\n      </div>\r\n    </v-footer>\r\n  </v-app>\r\n\r\n</template>\r\n\r\n<script>\r\nimport {VEmojiPicker} from 'v-emoji-picker'\r\nimport {MediaService} from '../service/MediaService'\r\nimport MyVideo from \"../components/myVideo\"\r\nimport DownloadFile from \"../components/DownloadFile\"\r\nimport UploadFile from \"../components/UploadFile\";\r\nimport SettingDialog from \"../components/SettingsDialog\";\r\nimport axios from \"axios\";\r\nimport {MediaStreamFactory} from \"@/utils/media/MediaStreamFactory\";\r\nimport {BackgroundProcessType} from \"@/utils/Types\";\r\nimport {MeetingEndReason} from \"@/ServiceConfig\";\r\n\r\nconst moment = require(\"moment\");\r\n\r\nexport default {\r\n  name: \"mainPage.vue\",\r\n  components : {\r\n    SettingDialog,\r\n    UploadFile,\r\n    DownloadFile,\r\n    MyVideo,\r\n    VEmojiPicker\r\n  },\r\n  data () {\r\n    return {\r\n      mediaService : new MediaService(),\r\n      drawer: null,\r\n      isHost : false,\r\n      videoIcon : {\r\n        icon : 'mdi-video-outline',\r\n        color : 'teal'\r\n      },\r\n      microIcon : {\r\n        icon : 'mdi-microphone-outline',\r\n        color : 'teal'\r\n      },\r\n      screenIcon : {\r\n        icon : 'mdi-laptop-off',\r\n        color : 'gray'\r\n      },\r\n      captionIcon : {\r\n        icon : 'mdi-translate-off',\r\n        color : 'gray'\r\n      },\r\n      chatBadge : '#00000000',\r\n      chatOverlay : false,\r\n      menuItems : [\r\n        {\r\n          icon : 'mdi-chat',\r\n          color : 'green',\r\n          text : '',\r\n          function : 'privateChat'\r\n        },\r\n        {\r\n          icon : 'mdi-account-star',\r\n          color: 'blue',\r\n          text : '',\r\n          function: 'mainVideo'\r\n        },\r\n        {\r\n          icon : 'mdi-account-plus',\r\n          color: 'blue lighten-2',\r\n          text : '',\r\n          function: 'subVideo'\r\n        },\r\n      ],\r\n      showEmojiPicker : false,\r\n      showFilePicker : false,\r\n      filterText : '',\r\n      inputMsg : '',\r\n      allMsgs : [],\r\n      allUsers : [],\r\n      mainFollowUserId : null,\r\n      subFollowUserIds : [],\r\n      mediaDevice : null,\r\n      myVideoStream : new MediaStream(),\r\n      myAudioStream : new MediaStream(),\r\n      myDisplayAudioStream : new MediaStream(),\r\n      mediaStreamFactory: new MediaStreamFactory(),\r\n      video : false,\r\n      audio : false,\r\n      display : false,\r\n      displayVideo: true,\r\n      displayAudio: true,\r\n      displaySourceId: null,\r\n      moment : moment,\r\n      placeholdOfMsg : ' to ',\r\n      privateChatPeerId : null,\r\n      file : null,\r\n      processVideoType : BackgroundProcessType.disable,\r\n      snack : false,\r\n      snackText : \"\",\r\n      currTime : \"\",\r\n      clock: null,\r\n      allCaptions : [],\r\n      exitDialog : false,\r\n      exportMemeCheckBox : true\r\n    }\r\n  },\r\n  methods: {\r\n    async videoSwitch () {\r\n      if (this.video) {\r\n        this.video = false\r\n        this.myVideoStream.getTracks().forEach((track) => {\r\n          this.mediaService.closeTrack(track)\r\n          this.myVideoStream.removeTrack(track)\r\n        })\r\n        this.mediaStreamFactory.stopCamera()\r\n        this.videoIcon.icon = 'mdi-video-off'\r\n        this.videoIcon.color = 'gray'\r\n\r\n      } else {\r\n        if (this.display) await this.screenSwitch()\r\n        this.video = true\r\n        this.myVideoStream.addTrack(await this.mediaStreamFactory.getProcessedCameraTrack(this.processVideoType, false))\r\n        this.mediaService.sendMediaStream(this.myVideoStream)\r\n        this.videoIcon.icon = 'mdi-video-outline'\r\n        this.videoIcon.color = 'teal'\r\n        if (this.mainFollowUserId !== this.GLOBAL.userInfo.id && this.subFollowUserIds.indexOf(this.GLOBAL.userInfo.id) === -1) {\r\n          this.subFollowUserIds.push(this.GLOBAL.userInfo.id)\r\n        }\r\n      }\r\n    },\r\n    async microSwitch () {\r\n      if (this.microIcon.icon === 'mdi-microphone-outline') {\r\n        this.audio = false\r\n        this.mediaService.speechRecognition.stop()\r\n        this.myAudioStream.getTracks().forEach((track) => {\r\n          this.mediaService.closeTrack(track)\r\n          this.myAudioStream.removeTrack(track)\r\n        })\r\n        this.mediaStreamFactory.stopMicrophone();\r\n        this.microIcon.icon = 'mdi-microphone-off'\r\n        this.microIcon.color = 'gray'\r\n      } else {\r\n        this.audio = true\r\n        this.mediaService.speechRecognition.start()\r\n        this.myAudioStream.addTrack(await this.mediaStreamFactory.getMicrophoneTrack())\r\n        this.mediaService.sendMediaStream(this.myAudioStream)\r\n        this.microIcon.icon = 'mdi-microphone-outline'\r\n        this.microIcon.color = 'teal'\r\n      }\r\n    },\r\n    async screenSwitch () {\r\n      if (this.screenIcon.icon === 'mdi-laptop') {\r\n        this.display = false\r\n        this.myVideoStream.getTracks().forEach((track) => {\r\n          this.mediaService.closeTrack(track)\r\n          this.myVideoStream.removeTrack(track)\r\n        })\r\n        this.myDisplayAudioStream.getTracks().forEach((track) => {\r\n          this.mediaService.closeTrack(track)\r\n          this.myDisplayAudioStream.removeTrack(track)\r\n        })\r\n        this.mediaStreamFactory.stopScreen();\r\n        this.screenIcon.icon = 'mdi-laptop-off'\r\n        this.screenIcon.color = 'gray'\r\n      } else {\r\n        if (this.video) await this.videoSwitch();\r\n        this.display = true\r\n        const {screenVideoTrack, screenAudioTrack} = await this.mediaStreamFactory.getScreenTracks(this.displayVideo, this.displayAudio, this.displaySourceId)\r\n        if (this.displayVideo) {\r\n          this.myVideoStream.addTrack(screenVideoTrack)\r\n          this.mediaService.sendMediaStream(this.myVideoStream)\r\n        }\r\n        if (this.displayAudio) {\r\n          this.myDisplayAudioStream.addTrack(screenAudioTrack)\r\n          this.mediaService.sendMediaStream(this.myDisplayAudioStream)\r\n        }\r\n        this.screenIcon.icon = 'mdi-laptop'\r\n        this.screenIcon.color = 'teal'\r\n        if (this.mainFollowUserId !== this.GLOBAL.userInfo.id && this.subFollowUserIds.indexOf(this.GLOBAL.userInfo.id) === -1) {\r\n          this.subFollowUserIds.push(this.GLOBAL.userInfo.id)\r\n        }\r\n      }\r\n    },\r\n    async captionSwitch () {\r\n      if (this.captionIcon.icon === 'mdi-translate') {\r\n        this.mediaService.speechRecognition.deleteSpeechListener('speechListener')\r\n        this.captionIcon.icon = 'mdi-translate-off'\r\n        this.captionIcon.color = 'gray'\r\n      } else {\r\n        this.mediaService.speechRecognition.registerSpeechListener('speechListener', (data) => {\r\n          this.allCaptions = data\r\n        })\r\n        this.chatOverlay = true\r\n        this.chatBadge = '#00000000'\r\n        this.captionIcon.icon = 'mdi-translate'\r\n        this.captionIcon.color = 'teal'\r\n      }\r\n    },\r\n    switchChat (boolean) {\r\n      let toStat;\r\n      if (boolean == null) {\r\n        toStat = !this.chatOverlay\r\n      } else {\r\n        toStat = boolean\r\n      }\r\n\r\n      if (!toStat) {\r\n        this.chatOverlay = false\r\n      } else {\r\n        this.chatOverlay = true\r\n        this.chatBadge = '#00000000'\r\n        setTimeout(()=>{\r\n          let col = document.getElementById('chatContainer');\r\n          col.scrollTop = col.scrollHeight;\r\n        }, 200)\r\n      }\r\n    },\r\n    switchMenuFunc (index, userId) {\r\n      switch (index) {\r\n        case 0 :\r\n        {\r\n          this.privateChat(userId)\r\n          break\r\n        }\r\n        case 1 :\r\n        {\r\n          this.mainVideo(userId)\r\n          break\r\n        }\r\n        case 2 :\r\n        {\r\n          this.subVideo(userId)\r\n          break;\r\n        }\r\n        default:\r\n        {\r\n          console.log(`switch menu function error!`)\r\n        }\r\n      }\r\n    },\r\n    privateChat (userId) {\r\n      if (!this.chatOverlay) {\r\n        this.chatOverlay = true\r\n        setTimeout(()=>{\r\n          let col = document.getElementById('chatContainer');\r\n          col.scrollTop = col.scrollHeight;\r\n        }, 200)\r\n      }\r\n\r\n      if (userId == null) {\r\n        this.placeholdOfMsg =  this.placeholdOfMsg = ' to '\r\n      } else {\r\n        this.placeholdOfMsg = ' to ' + this.mediaService.getPeerDetailByPeerId(userId).getPeerInfo().displayName\r\n      }\r\n\r\n      this.privateChatPeerId = userId\r\n    },\r\n    mainVideo (userId) {\r\n      for (let i = 0; i < this.subFollowUserIds.length; ++i) {\r\n        if (this.subFollowUserIds[i] === userId) {\r\n          this.subFollowUserIds.splice(i, 1)\r\n          break\r\n        }\r\n      }\r\n\r\n      this.mainFollowUserId = userId\r\n      console.log('[Main Video]')\r\n    },\r\n    subVideo (userId) {\r\n      if (this.mainFollowUserId === userId) {\r\n        this.mainFollowUserId = null\r\n      }\r\n\r\n      if (this.subFollowUserIds.find((subUserId) => {\r\n        return subUserId === userId\r\n      })) {\r\n        return;\r\n      }\r\n\r\n      if (userId === this.GLOBAL.userInfo.id) {\r\n        this.subFollowUserIds.push(userId)\r\n        return\r\n      }\r\n\r\n      this.subFollowUserIds.push(this.mediaService.getPeerDetailByPeerId(userId).getPeerInfo().id)\r\n\r\n      console.log('[Add Sub Video]')\r\n    },\r\n    sendMsg () {\r\n      if (this.inputMsg === '') {\r\n        return\r\n      }\r\n\r\n      let timestamp = moment()\r\n\r\n      this.mediaService.sendText(this.privateChatPeerId, this.inputMsg, timestamp)\r\n      this.allMsgs.push({\r\n        type : this.MessageType.text,\r\n        broadcast : (!this.privateChatPeerId),\r\n        fromMyself : true,\r\n        fromPeerId : this.GLOBAL.userInfo.id,\r\n        text : this.inputMsg,\r\n        timestamp : timestamp,\r\n        toPeerName : (!this.privateChatPeerId) ? '' :\r\n            this.mediaService.getPeerDetailByPeerId(this.privateChatPeerId).getPeerInfo().displayName\r\n      })\r\n      this.inputMsg = ''\r\n\r\n      console.log('send msgs')\r\n    },\r\n    sendFile (data, file) {\r\n\r\n      let timestamp = moment()\r\n\r\n      this.mediaService.sendFile(this.GLOBAL.baseURL+ data.path, timestamp, file.name, file.type)\r\n      console.log('send file')\r\n    },\r\n    pickFile () {\r\n      if (this.file) {\r\n        let timestamp = moment()\r\n\r\n        this.allMsgs.push({\r\n          type : this.MessageType.file,\r\n          file : this.file,\r\n          broadcast : true,\r\n          fromMyself : true,\r\n          fromPeerId : this.GLOBAL.userInfo.id,\r\n          timestamp : timestamp,\r\n        })\r\n\r\n      }\r\n    },\r\n    selectEmoji (emoji) {\r\n      this.inputMsg += emoji.data\r\n    },\r\n    sub2Main (index) {\r\n      let userId = this.subFollowUsers[index].id\r\n      this.subFollowUserIds.splice(this.subFollowUserIds.indexOf(userId), 1)\r\n      this.mainFollowUserId = userId\r\n    },\r\n    removeSubFollowUser (index) {\r\n      this.subFollowUserIds.splice(index, 1)\r\n    },\r\n    removeMainFollowUser () {\r\n      this.mainFollowUserId = null\r\n    },\r\n    async leaveMeeting () {\r\n      if (this.exportMemeCheckBox) {\r\n        this.exportMeme()\r\n      }\r\n      try {\r\n        this.mediaStreamFactory.stopAll()\r\n        await this.mediaService.leaveMeeting()\r\n      } catch (error) {\r\n        console.log('[LEAVE]', error)\r\n      }\r\n\r\n      this.$emit('back')\r\n    },\r\n    async closeMeeting () {\r\n      if (this.exportMemeCheckBox) {\r\n        this.exportMeme()\r\n      }\r\n      try {\r\n        this.mediaStreamFactory.stopAll()\r\n        await this.mediaService.closeRoom()\r\n      } catch (error) {\r\n        console.log('[LEAVE]', error)\r\n      }\r\n\r\n      this.$emit('back')\r\n    },\r\n    formatToPeerName (msg) {\r\n      if (msg.broadcast) {\r\n        return 'everyone'\r\n      } else {\r\n        if (msg.fromMyself) {\r\n          return msg.toPeerName\r\n        } else {\r\n          return 'You'\r\n        }\r\n      }\r\n    },\r\n    muteAll() {\r\n      this.snackText = \"\";\r\n      this.snack = true;\r\n      this.mediaService.mutePeer();\r\n    },\r\n    async changeSettings(blur, replace, backgroundImg, display) {\r\n      const currentBackgroundOption = this.processVideoType\r\n      if (blur) {\r\n        this.processVideoType = BackgroundProcessType.blur\r\n      } else if (replace) {\r\n        this.processVideoType = BackgroundProcessType.virtual\r\n        this.mediaStreamFactory.setBackground(backgroundImg)\r\n      } else {\r\n        this.processVideoType = BackgroundProcessType.disable\r\n      }\r\n      if (this.video && currentBackgroundOption !== this.processVideoType) {\r\n        this.myVideoStream.getTracks().forEach((track) => {\r\n          this.mediaService.closeTrack(track)\r\n          this.myVideoStream.removeTrack(track)\r\n        })\r\n        this.myVideoStream.addTrack(await this.mediaStreamFactory.getProcessedCameraTrack(this.processVideoType, false))\r\n        this.mediaService.sendMediaStream(this.myVideoStream)\r\n      }\r\n      const currentDisplayAudio = this.displayAudio\r\n      const currentDisplayVideo = this.displayVideo\r\n      const currentDisplaySourceId = this.displaySourceId\r\n      this.displayAudio = display.audio\r\n      this.displayVideo = display.video\r\n      this.displaySourceId = display.id\r\n\r\n      if (this.display) {\r\n        const {screenVideoTrack, screenAudioTrack} = await this.mediaStreamFactory.getScreenTracks(this.displayVideo, this.displayAudio, this.displaySourceId);\r\n        // \r\n        if (currentDisplayVideo && (!this.displayVideo || this.displaySourceId !== currentDisplaySourceId)) {\r\n          this.myVideoStream.getTracks().forEach((track) => {\r\n            this.mediaService.closeTrack(track)\r\n            this.myVideoStream.removeTrack(track)\r\n          })\r\n        }\r\n        if (currentDisplayAudio && (!this.displayAudio || this.displaySourceId !== currentDisplaySourceId)) {\r\n          this.myDisplayAudioStream.getTracks().forEach((track) => {\r\n            this.mediaService.closeTrack(track)\r\n            this.myDisplayAudioStream.removeTrack(track)\r\n          })\r\n        }\r\n        if (this.displayVideo) {\r\n          this.myVideoStream.addTrack(screenVideoTrack)\r\n          this.mediaService.sendMediaStream(this.myVideoStream)\r\n        }\r\n        if (this.displayAudio) {\r\n          this.myDisplayAudioStream.addTrack(screenAudioTrack)\r\n          this.mediaService.sendMediaStream(this.myDisplayAudioStream)\r\n        }\r\n      }\r\n    },\r\n    async getRoomInfo(){\r\n      try{\r\n        console.log('GET ROOM', this.GLOBAL.roomInfo)\r\n        const response = await axios(\r\n            {\r\n              method : 'post',\r\n              url : this.GLOBAL.baseURL + '/getRoom',\r\n              data : {\r\n                'id' : this.GLOBAL.roomInfo.id,\r\n                'password' : this.GLOBAL.roomInfo.password,\r\n              }\r\n            })\r\n        this.GLOBAL.roomInfo = response.data.room;\r\n        this.snackText = '';\r\n        this.snack = true;\r\n      } catch(error) {\r\n        this.snackText = \"\"\r\n        this.snack = true;\r\n        setTimeout(()=>{this.$emit('back')},1600)\r\n      }\r\n    },\r\n    exportMeme () {\r\n      let fs = require('fs')\r\n      let dialog = require('electron').remote.dialog\r\n      let defaultFilePath = 'C:/' + moment().format('YYYY.MM.DD HH-mm-ss')\r\n      dialog.showSaveDialog({\r\n        title : '',\r\n        message : '',\r\n        properties : 'openDirector',\r\n        defaultPath : defaultFilePath,\r\n        filters : [\r\n        {name : 'txt', extensions : ['txt']}\r\n      ]\r\n      }).then((res) => {\r\n        if (res.canceled) return\r\n        let path = res.filePath\r\n        let meme = this.mediaService.speechRecognition.exportMeme()\r\n        fs.writeFile(path, meme,\"utf-8\",(err) => {\r\n          if (err) {\r\n            console.log(err)\r\n          } else {\r\n            console.log('store meme successfully!')\r\n          }\r\n        })\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n    this.clock = setInterval(()=>{\r\n      let dur = moment.duration(moment().format('x')-moment(this.GLOBAL.roomInfo.start_time).format('x'));\r\n      let hours = dur.hours()\r\n      let minutes = dur.minutes()\r\n      let seconds = dur.seconds()\r\n      this.currTime = ((hours < 10) ? ('0' + hours) : hours) + \":\" + ((minutes < 10) ? ('0' + minutes) : minutes) + \":\" + ((seconds < 10) ? ('0' + seconds) : seconds);\r\n    }, 1000)\r\n\r\n  },\r\n  destroyed() {\r\n    clearInterval(this.clock);\r\n  },\r\n  async created() {\r\n    this.mediaService.registerPeerUpdateListener('updateListener', () => {\r\n      console.log('[User Update] HOST: ', this.mediaService.getHostPeerId())\r\n      this.allUsers = this.mediaService.getPeerDetails()\r\n\r\n      // this.subFollowUserIds.forEach((id, index) => {\r\n      //   if ((id !== this.GLOBAL.userInfo.id) && (!this.allUsers.find((user) => {\r\n      //     return user.id = id\r\n      //   }))) {\r\n      //     this.subFollowUserIds.splice(index, 1)\r\n      //   }\r\n      // })\r\n\r\n      if(this.mediaService.getHostPeerId() !== this.GLOBAL.roomInfo.host){\r\n        this.GLOBAL.roomInfo.host = this.mediaService.getHostPeerId();\r\n        this.snackText = \"\";\r\n        this.snack = true;\r\n      }\r\n      this.isHost = this.GLOBAL.roomInfo.host === this.GLOBAL.userInfo.id;\r\n    })\r\n\r\n    this.mediaService.registerNewMessageListener('updateListener', (newMsg) => {\r\n      if (!this.chatOverlay) {\r\n        this.chatBadge = 'green'\r\n      }\r\n\r\n      this.allMsgs.push(newMsg);\r\n      let col = document.getElementById('chatContainer');\r\n      col.scrollTop = col.scrollHeight;\r\n    })\r\n\r\n    this.mediaService.registerMeetingEndListener('meetingEndListener',(reason) => {\r\n      switch (reason) {\r\n        case MeetingEndReason.kicked:\r\n          this.snackText = \"\"\r\n          this.snack = true\r\n          break\r\n        case MeetingEndReason.roomClosed:\r\n          this.snackText = \"\"\r\n          this.snack = true\r\n          break\r\n        case MeetingEndReason.lostConnection:\r\n          this.snackText = \"\"\r\n          this.snack = true\r\n          break\r\n      }\r\n      setTimeout(()=>{\r\n        this.$emit('back');\r\n      }, 1600);\r\n    })\r\n\r\n    this.mediaService.registerBeMutedListener('mutedListener', async () => {\r\n      console.log('Be Muted')\r\n      this.snackText = \"\";\r\n      this.snack = true;\r\n      if (this.audio) {\r\n        await this.microSwitch()\r\n      }\r\n    })\r\n\r\n    try {\r\n      await this.mediaService.joinMeeting(\r\n          this.GLOBAL.roomInfo.token,\r\n          this.GLOBAL.userInfo.token,\r\n          this.GLOBAL.userInfo.id,\r\n          this.GLOBAL.userInfo.nickname,\r\n          this.GLOBAL.userInfo.nickname + '\\'s PC',\r\n          this.GLOBAL.baseURL + this.GLOBAL.userInfo.portrait)\r\n    } catch (e) {\r\n      this.snackText = '';\r\n      this.snack = true;\r\n      setTimeout(()=>{\r\n        this.$emit('back');\r\n      }, 1600);\r\n    }\r\n\r\n    this.video = this.GLOBAL.openCameraWhenEnter\r\n    this.audio = this.GLOBAL.openMicrophoneWhenEnter\r\n\r\n    if (this.video) {\r\n      this.myVideoStream.addTrack(await this.mediaStreamFactory.getCameraTrack())\r\n      this.mediaService.sendMediaStream(this.myVideoStream)\r\n    } else {\r\n      this.videoIcon.icon = 'mdi-video-off'\r\n      this.videoIcon.color = 'gray'\r\n    }\r\n\r\n    if (this.audio) {\r\n      this.myAudioStream.addTrack(await this.mediaStreamFactory.getMicrophoneTrack())\r\n      this.mediaService.sendMediaStream(this.myAudioStream)\r\n    } else {\r\n      this.microIcon.icon = 'mdi-microphone-off'\r\n      this.microIcon.color = 'gray'\r\n    }\r\n\r\n    moment.locale('zh-cn')\r\n  },\r\n  computed : {\r\n    filteredUsers () {\r\n      if (this.filterText === '') {\r\n        return this.allUsers\r\n      }\r\n      else {\r\n        return this.allUsers.filter(user => {\r\n          return user.getPeerInfo().displayName.search(this.filterText) !== -1\r\n        })\r\n      }\r\n    },\r\n    mainFollowUser () {\r\n      if (this.mainFollowUserId == null) {\r\n        return {\r\n          id : \"\",\r\n          displayName: \"\",\r\n          mediaStream : null,\r\n          mirror: false\r\n        }\r\n      }\r\n      if (this.mainFollowUserId === this.GLOBAL.userInfo.id) {\r\n        return {\r\n          id : this.mainFollowUserId,\r\n          displayName : this.GLOBAL.userInfo.nickname,\r\n          mediaStream : this.myVideoStream,\r\n          mirror: this.video\r\n        }\r\n      } else {\r\n        const user = this.mediaService.getPeerDetailByPeerId(this.mainFollowUserId)\r\n        if (user != null) {\r\n          return {\r\n            id : this.mainFollowUserId,\r\n            displayName : user.getPeerInfo().displayName,\r\n            mediaStream : new MediaStream(user.getTracks()),\r\n            mirror: false\r\n          }\r\n        } else {\r\n          return {\r\n            id : \"\",\r\n            displayName: \"\",\r\n            mediaStream : null,\r\n            mirror: false\r\n          }\r\n        }\r\n      }\r\n\r\n    },\r\n    subFollowUsers () {\r\n      const subUsers = []\r\n      this.subFollowUserIds.forEach((id) => {\r\n        const user = this.mediaService.getPeerDetailByPeerId(id);\r\n        if (user == null) {\r\n          if (id === this.GLOBAL.userInfo.id) {\r\n            subUsers.push({\r\n              id: this.GLOBAL.userInfo.id,\r\n              displayName: this.GLOBAL.userInfo.nickname,\r\n              mediaStream: this.myVideoStream,\r\n              mirror: this.video\r\n            })\r\n          }\r\n        } else {\r\n          subUsers.push({\r\n            id: user.getPeerInfo().id,\r\n            displayName: user.getPeerInfo().displayName,\r\n            mediaStream: new MediaStream(user.getTracks()),\r\n            mirror: false\r\n          })\r\n        }\r\n      })\r\n\r\n      return subUsers\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#appBarContent {\r\n  margin-top: 15px;\r\n}\r\n\r\n#mainVideo {\r\n  width: 1000px ;\r\n  height: 560px;\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n}\r\n\r\n#sheetTitle {\r\n  font-weight: bold;\r\n  font-size: large;\r\n  color: gray;\r\n}\r\n\r\n#sheetDiv {\r\n  margin-left: 60px;\r\n  padding-top: 20px;\r\n  text-align: center;\r\n}\r\n\r\n.v-card--reveal {\r\n  align-items: center;\r\n  bottom: -10px;\r\n  background-color: #aaaaaa55;\r\n  position: absolute;\r\n  width: 100%;\r\n}\r\n\r\n.v-card--reveal-1 {\r\n  background-color: #00000066;\r\n  position: absolute;\r\n  justify-content: center;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  margin : auto;\r\n  width: 20%;\r\n}\r\n\r\n.messageCard {\r\n  padding: 5px 0 0 10px;\r\n  border-top: 1px solid #00838f;\r\n  border-right: 1px solid #00838f;\r\n  border-left: 1px solid #00838f;\r\n  border-bottom: 1px solid #00838f;\r\n  border-bottom-right-radius: 10px;\r\n  border-top-right-radius: 10px;\r\n  border-top-left-radius: 10px;\r\n}\r\n\r\n.messageText {\r\n  margin: 5px 0 0 10px;\r\n  padding: 0 10px 5px 20px;\r\n  display: block;\r\n    max-width: 350px;\r\n    word-wrap: break-word;\r\n}\r\n\r\n.chatContainer-full {\r\n    width: 100%;\r\n    height: 100%;\r\n    text-align: left;\r\n    overflow: auto;\r\n}\r\n\r\n.chatContainer-half {\r\n  width: 50%;\r\n  height: 100%;\r\n  text-align: left;\r\n  overflow: auto;\r\n}\r\n\r\n#captionContainer {\r\n    width: 50%;\r\n    height: 100%;\r\n    text-align: left;\r\n    overflow: auto;\r\n    border-left: 1px solid teal;\r\n}\r\n\r\n#chatContainer::-webkit-scrollbar{\r\n    display: none;\r\n}\r\n\r\n#captionContainer::-webkit-scrollbar{\r\n    display: none;\r\n}\r\n\r\n#chatOverlay {\r\n  position: absolute;\r\n  width: 1000px;\r\n  height: 560px;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n  background-color: #ffffff66;\r\n  border: 2px solid #00838f44;\r\n    display: flex;\r\n    justify-content: flex-start;\r\n}\r\n\r\n#rightSideBarText {\r\n  margin-top: 14px;\r\n  margin-left: 4px;\r\n}\r\n\r\n.private-chat {\r\n  color: #FF9800;\r\n  font-weight: bold;\r\n  margin-right: 10px;\r\n}\r\n.not-host-item.host-item{\r\n  border-left: 1px solid #ff9800;\r\n  transition: 0.1s ease-in-out;\r\n}\r\n.not-host-item.host-item:hover{\r\n  background-color:  #ff980011;\r\n  border-left: 15px solid #ff9800;\r\n  transition: 0.1s ease-in-out;\r\n}\r\n.not-host-item{\r\n  border-left: 1px solid #00838f;\r\n  transition: 0.1s ease-in-out;\r\n}\r\n.not-host-item:hover{\r\n  background-color:  #00838f11;\r\n  border-left: 15px solid #00838f;\r\n  transition: 0.1s ease-in-out;\r\n}\r\n.item-avatar{\r\n}\r\n.item-avatar.has-audio{\r\n  border: 1px solid green;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mainPage.vue?vue&type=template&id=1d7f4fde&scoped=true&\"\nimport script from \"./mainPage.vue?vue&type=script&lang=js&\"\nexport * from \"./mainPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mainPage.vue?vue&type=style&index=0&id=1d7f4fde&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d7f4fde\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBadge } from 'vuetify/lib/components/VBadge';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VExpandTransition } from 'vuetify/lib/components/transitions';\nimport { VFabTransition } from 'vuetify/lib/components/transitions';\nimport { VFadeTransition } from 'vuetify/lib/components/transitions';\nimport { VFileInput } from 'vuetify/lib/components/VFileInput';\nimport { VFooter } from 'vuetify/lib/components/VFooter';\nimport { VHover } from 'vuetify/lib/components/VHover';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMain } from 'vuetify/lib/components/VMain';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VApp,VAppBar,VAvatar,VBadge,VBtn,VCard,VCardText,VCheckbox,VChip,VCol,VContainer,VDialog,VDivider,VExpandTransition,VFabTransition,VFadeTransition,VFileInput,VFooter,VHover,VIcon,VImg,VList,VListItem,VListItemAvatar,VListItemContent,VListItemIcon,VListItemSubtitle,VListItemTitle,VMain,VMenu,VNavigationDrawer,VProgressCircular,VRow,VSheet,VSnackbar,VSpacer,VTextField})\n","<template>\r\n  <div>\r\n    <login-page v-show=\"page==='login'\" @join=\"page='main'\"></login-page>\r\n    <main-page v-if=\"page==='main'\" @back=\"page='login'\"></main-page>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport loginPage from \"./pages/loginPage\";\r\nimport mainPage from \"./pages/mainPage\";\r\nexport default {\r\n  name: 'App',\r\n\r\n  components: {\r\n    mainPage,\r\n    loginPage,\r\n  },\r\n\r\n  data(){\r\n    return{\r\n      page : 'login',\r\n    }\r\n  },\r\n\r\n  methods :{\r\n  }\r\n};\r\n</script>\r\n<style>\r\nhtml::-webkit-scrollbar{\r\n  display: none;\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=135e7c56&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\r\nimport Vuetify from 'vuetify/lib/framework';\r\n\r\nVue.use(Vuetify);\r\n\r\nexport default new Vuetify({\r\n});\r\n","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport vuetify from './plugins/vuetify'\r\nimport global_v from './global.js'\r\n\r\nVue.config.productionTip = false\r\n\r\nVue.prototype.GLOBAL = global_v\r\n\r\nnew Vue({\r\n  vuetify,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login_Web.vue?vue&type=style&index=0&id=1e5647df&scoped=true&lang=css&\"","var wrap = require('comlink').wrap,Worker = require(\"!worker-loader?{}!C:\\\\Users\\\\Xayahhh\\\\Desktop\\\\2021\\\\MyMeeting-Electron\\\\node_modules\\\\comlink-loader\\\\dist\\\\comlink-worker-loader.js!C:\\\\Users\\\\Xayahhh\\\\Desktop\\\\2021\\\\MyMeeting-Electron\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--14-0!C:\\\\Users\\\\Xayahhh\\\\Desktop\\\\2021\\\\MyMeeting-Electron\\\\node_modules\\\\thread-loader\\\\dist\\\\cjs.js!C:\\\\Users\\\\Xayahhh\\\\Desktop\\\\2021\\\\MyMeeting-Electron\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\Xayahhh\\\\Desktop\\\\2021\\\\MyMeeting-Electron\\\\node_modules\\\\ts-loader\\\\index.js??ref--14-3!C:\\\\Users\\\\Xayahhh\\\\Desktop\\\\2021\\\\MyMeeting-Electron\\\\node_modules\\\\eslint-loader\\\\index.js??ref--13-0!C:\\\\Users\\\\Xayahhh\\\\Desktop\\\\2021\\\\MyMeeting-Electron\\\\src\\\\utils\\\\media\\\\BodyPixWorker.ts\"),inst;module.exports = function f() {if (this instanceof f) return wrap(Worker());return inst || (inst = wrap(Worker()));};","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DownloadFile.vue?vue&type=style&index=0&id=b72f9724&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadFile.vue?vue&type=style&index=0&id=00f739d4&scoped=true&lang=css&\""],"sourceRoot":""}